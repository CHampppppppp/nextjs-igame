webpackJsonp([1],{"+r/K":function(t,e){},"/n+d":function(t,e){},"2HL1":function(t,e){},"5OkD":function(t,e){},"5ryG":function(t,e){},"77Wi":function(t,e){},"7xIN":function(t,e){},"8A+e":function(t,e){},"8bjM":function(t,e){},"8xgo":function(t,e){},AkWq:function(t,e){},EkMY:function(t,e){},EtAl:function(t,e){},F13i:function(t,e){},Fqsd:function(t,e){},GphD:function(t,e){},Mp9O:function(t,e){},N0bL:function(t,e){},NARn:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),s=a("Dd8w"),n=a.n(s),r=a("vwbq"),o=a("NYxO"),c=a("t4zo"),l=a.n(c),h=a("GtXM").Parser,d=function(t,e,a,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"png",n='<?xml version="1.0" standalone="no"?>\r\n'+(new XMLSerializer).serializeToString(t),r=new Image;r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(n);var o=document.createElement("canvas");o.width=a,o.height=i;var c=o.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,1e4,1e4),r.onload=function(){c.drawImage(r,0,0);var t=document.createElement("a");t.download=e+"."+s,t.href=o.toDataURL("image/"+s),t.click()}},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"test.csv",a=(new h).parse(t),i=new Blob(["\ufeff"+a],{type:"text/plain;charset=utf-8;"});l.a.saveAs(i,e)},g=window.location.origin+"/",p=void 0;switch(Object({NODE_ENV:"production"}).BACKEND){case"local":p="http://localhost:9898";break;case"server":p="http://192.168.157.111:9898";break;default:p=""}var f={HOSTNAME:g,DJANGOHOSTNAME:p,CATEGORY:[["GRAPH","Graphs","GraphsPanel","模型结构","icon-moxingjiegou_1"],["SCALAR","Scalars","ScalarsPanel","标量数据","icon-biaoliangshuju1"],["MEDIA","Medias","MediasPanel","媒体数据","icon-meitishuju_1"],["STATISTIC","Statistics","StatisticsPanel","统计分析","icon-tongjifenxi_1"],["EMBEDDING","Embeddings","EmbeddingsPanel","降维分析","icon-jiangweifenxi_1"],["FEATURE","Features","FeaturesPanel","特征分析","icon-feature"],["ROC","ROCs","ROCsPanel","评测曲线","icon-roc"],["HYPERPARM","Hyperparms","HyperparmsPanel","超参分析","icon-chaocanfenxi_1"],["EXCEPTION","Exception","ExceptionPanel","异常检测","icon-yichang3"],["CUSTOM","Customs","CustomsPanel","用户定制","icon-yonghudingzhi_1"]],CATEGORYORDER:["graph","scalar","media","statistic","embedding","feature","roc","hyperparm","exception","custom"],RUNFILESHOWFlAG:{graph:0,scalar:1,media:1,statistic:1,embedding:0,feature:0,roc:1,hyperparm:0,exception:0,custom:2},IMGURl:p},_=a("gaxQ"),m=a.n(_),v={name:"SidebarLogo",props:{collapse:{type:Boolean,required:!0}},data:function(){return{title:m.a}}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sidebar-logo-container"},[e("div",{staticClass:"sidebar-logo-link ellipsis"},[e("img",{staticClass:"sidebar-title",attrs:{src:this.title}})])])},staticRenderFns:[]};var x=a("VU/8")(v,y,!1,function(t){a("+r/K")},"data-v-50f1dc14",null).exports,C=Object(o.a)("layout"),D=C.mapMutations,w=C.mapActions,S=C.mapGetters,b=C.mapState,E=Object(o.a)("custom").mapMutations,I={components:{Logo:x},data:function(){return{timer:null,downloadList:[],downloadState:["graph","scalar","statistic"],init:1,screenWidth:"0px",titleSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAAAgCAYAAADXPABiAAAAAXNSR0IArs4c6QAADilJREFUeAHtWwmQVMUZ7r9nhl1WDkFAMWiU8ogKamLpXrOwiIJoNHF3R7zwAMQjUcsreCQlJJaxYsWj4oGJIIUikGHQigZEQTa7swdRYykGDRqSgIIakWPZa2Zed75+s+/Nez3HzsyOQEW6arb7P/rv97r//vv//37L2MFycAYOzsDBGch2BihbRouvtKr2YSZYqQWrmohtag2HZjpx+bRL/YEziMSZjr7GeRPHzp8zZ45w4L61zaqqwMkRIebZE0Bs5fpw6CEbRqO6+rJhkX5e7sTl0i4RXd1r1gR3e3PppHhJUrtkosrdjyomTrxq9tq1i3a48blB/Yh1RoR8Sg1j9Vy9ZoOB9gIFl1XVXiclu96i9bmWrGN9U2hcOjnllTX3SMZGp6MXDM9ZU2vjioW9yROCD2LMsOcek/SJ3qcrFtkko91DdHy28F6iFeCtzV0xGLVislxFSunpiLSrB37ZRcgRaGwMbizz174EeTVWV8Hk3ClTbl68atXvujERI0E7w6L1tSaivZlkCGIXMcnKMvEUgkaSeSBnYSFkFUqGrRjlkwNDWTcb2ptgvMRuFkvmElKeV14d+CCZkgIznH3WEgx2pqBgHfiD2BW2YgAxalfbNnVMPZmK//8ZV3nR9IHGjt2/sd7RoOjhmA+7SEkVZZW1TyuEJGbgWPmpTexjw1YM2S5vkVLcn7c8mHgRNXo380SbOeNj0o2zPhx8p7Sydh1edYLFAytxZ3X1nGe6jQ0W6ltRx9o7SzAPN9gv61CKOE6eCNSJZltSFHWyYhC9jM28y5bRSwNW+W3FYitGL/wFI3s43dicxlpYg5CHPyYNI6EYjB3THdsQ4EMHP8o7O561+PTa6IjMxUQp62IWHBWGp7/vaAvWa97lTZpqJ4/XSzcLgwY7cXob/tZRUrDnnHiMW4/fA05cprYkz7ZM9D7RiN1f7B24yZJRX7+wy2qrGpuOJky4tsjCDR/erhRs3yoGtHFxc8Py162HSFefd/Ypr772xoZPJJPHWTwIS+5o+dOCJYDbLJxel1bV7EXE5ChSNr2xNO9Jb6oPmbvHITCpWV5V+2M8pwsviVpaG5evdSHzBsjxRjgwHI55XGScTgT1TFG4ZNM7o3tutUh43otbGkO2L1jhr52OjvZm2/IFXQDelbbFIEbvYdhFloC+1IhczsJkfU+TscPHPbdpuJSgCk/HjQtMQmg2wskQCAQ8wWBQRSkHTMGOO01/GBLyHzouH3j92iVfoJ9yTM1SWTm1LMaiLRaMNMFzSBNMt+CUNfEXiYkZeM4Bio76elS2YmDNp1l6Da37opiPxcYNJSxGSzj4EjqoX58KFvTYbiHetQazhRG/C1HHf204RaNsXM1UJug+RYJS4CWY4S3xXWDt+tYUffY3CrbCmXeJPw73FswZqqiq+5EhhemMSx6dz7RtUVZVdy98wxNhGRpamlbM1+dDEm8D/UXgZykaTo5Jao0aGoL/qji75rtGNxtn9ZGcLamvn2OGFnknQixhznrWrFm+iDCWYvTBTjys37r14eWuc9hNj0PDBw97BX1HQKvHqh9e4/RYZ/T+VLwHAk5ZMIQDVdqzdBR7Tnpfw+UNwoc5A5vsKvUjwvJrRQo5XtEko3M1kg0SeZ+xASY5Np3ppMoomwG8Op7MQsz3vNUuqGK89+GOB7HLz7KE94y2y1Mkr3Xh0gCvvPL7DmLclckjJqf7/VNPSNNlv6I//ZwhpyKRdHIWesfadU5svm3s8H5235jHdAxtGA34Fu0mTEx7jgRXa+Oyv2H137IwWKOZfv/lQ+CVKMWIF6KNis8CbR/DQuRbl1XWTZFC3JHUn2hm85uh/yTh0yCKfAPmdcbaZsNyHKFY8BLeGEXnonlZmi7fCBqJtvcx+OGZhAshinU6zv0zyyprlG+QWyF6H/5C8q6XrEcxzHA0WSYy0ZglhdestJtVcv4IE0I57yhyUIx1B9HryDjMGCyEyjjbpSAWo/LcS4+UJBZBKhQzURCyPb2+MRRKYHpvqXAKVsKVzMKuuaR0XO3xvfcuHAec52GYuBGZfsnWQimyLM7UJx0NPVMmF+Ec9igGDH/qEs/eSt1yuZmPPoKCWJx/W1g850SrjXXaObCkZKEFq7rPioF0dZHRGVkGpR3mFIzBNiB+vt2Jy7Zd7C2ahyjJkRmVHEHZ7Gz7/z/xYTFNq4T57E75XqQsBgpR2qNEkc1ojuhR1U4u9IfXX38+LqeH2CfFgNbRzrZtC2Du/dpgHYx7p+rJFI0nLVhfv+QrEKEcbJv1w1aciNvF4Wk7FZxAO6GcX6f7YSUiKYaEj9TTh5IvDtTOtOkWX0+NqdydQp46JJD9hD1h0pWYsnixBuaCgp5RMRT/oJKS+Wp8q6+qcfTF+nHvE06cavfJxyivqvsVHuxyXShx9pPWhmUf6vhc4NamkLI2eVmcXMZJx4t7h1PS0RCN9Nu6TWzGon3HxUOeya3hYFjhyv21j2GxbnXSOfFpzeHgn524XtsyrhhYQocFTfRCoNKuUltY8IEJbOqWsgrwnZ6GlpkpgTgXrWhoWLpV75G3YuDFp+PizDFAXDQnehyZtYX6QLnCeIEL0Weas9/wIYddoyIXJ25/tD/dZkzTlQLWAM5jXCnUMwnGEfoZLsUQUtwAUk6KgaijBBZZldSKYX4GARXEDfekSdMO2dPRy/RITZmlPNaUrv3J6yjBop2DR3HExnGpMEuvjRrJkyMTbdDsQHkxXjZg/3CpdiAoBbKyHNfxP9PfAdlel1evLgMxHy6riQU+3+8PHK33zQzTIT301EeJw/eIRGL9M8kyw36V6XQU6NyZcOzPd6DMZs6KUVE9dQxeMISf29ogDh4ysP/UQqWs8cA/cD4sTGV2V/rOTt9Ae/WaD2phit15FaLdAw/p/4I+HG41YTWcBblLctyWOknp22YqG2OavoTOhnUwLFzUJxM5DwvpqKMsNkdZFgfKbJIh5+i4nBQD31scJ6LR1SnCtB0+xi5ctWrxHn2AfGAV6SCjeLKrL7EDQjGQibzb9VwASMpFuleveERx0QJQoy5+KW+aMuWKXh1Fu09PGArrk1IxPEyYKWzFb0St0NbubTfUhsZ5c6mNcDyXshoVVYELErQcwlW/v3a0iBnrIMROisQFUcTjYTXhcGizU3Bf2rvat6uMInQtUbD73k1A+6eFm8nJ2KEuS6aehHzuY8R6OnUJhgV9yYLNGtcFX7d13eTCZQTsMHRvKjakwm3F8JBRlIpH4UQs9iAqBHlmQfxPNfCL7ONJSOOXsCYWPbs8Rln1pcdg9HUwZ6N6BJsVBBsY4MrmhhUNTnyf2warSJLBuZ3STaLtIwQm7h59KMzB2pb60Ec63oJxv+HyPRQeFua28kAgoz9g9cdGjEcbaY4SSLMVQxipLUZpZeBcPLty5s2CZ17eEl7+KgD72ZTCl/vrAj0svSuG6SxFI+sgWHeaoKxyJgYIWsIKVUuS5ZqsjlGHs40abp+ClePrqjB54/VBcbfzpI5zwi2Nwb9gG7qOQSz2CPm5GaE4WZPa1dXXILnVYzk5S2kxXIohkhVDypiPkXgsIZwiuEU1o0kf8YegJAm5xB7Al3Km75jRx6iuvmJUlAl1fByTEBxvcUa3ZPNls96vNxgKiIy49Lv56J1CObVuudlBZnbXEMlRGKN3mxv/aH/bkE4arMbDOg23ovedc05gsI53w+2HWjCO0sQCWkjUWGTb+eRcJh0lyBjfiPl0+muPr28IfaxE9HwG8bglDnN/fHf0gxkKdkcWFgdqdVff1d21BkOPdqDNJrTp3pam0BM6vhBw2bi6sZAzwiWLU9gF72MA2d1fwFqcpA9LnO7CjsO+yVyKvGNe7IptUMlAp9U9rL3LdGSTjidLWjcTtmJgcVM69nCG7aMEia6kqATJxs0k+dWWTD50kMvnGVDMH27vkpssOizQl6ptOxsJApSiOnC6ETNWwqcY6cSbHZDIQSdby3R61jCnj1oaljfr/MiR3I4J/K0TD3N9Ph1J9XK7vNeJT25LdZaWJvAksHDK6UpfJGtubVq+Kh0DYv/T8NXU21AM1yaCU/laa3jFlHT9dDzeCx9bS9e8IQTvLPYVn1Bfv/hTnV/BFeMD5VgHc45goW/mzPu2/gUX53ypYYjVit/j4ZOFkEsxzhAFq4IPr2+A5m6JQ9n9LfaNecP1sqqbSl7ha+8VaMadHk0WBj0VA83X0DmDZLB56JSkGLBQrqtnLKwxoJia2/ew/vgS6ee5DSQ5njdzH87U+ZtSMdSHOFu3R9VdkDZPFMH5nFMiD1nbZ7/c+dXdzs2GJGH/rliX2gRTU70XvtyyFxhz3paKB9m2j6D95rN4GX0cwQDOIpjjP9echAxtr/fvh7p8DPz74ZWYhJUQnaQU0O4XMsgqCKm6OqCSORM0Ya3qX+Y03D4Bt26Xd2I+ksNTol+rf47K5SFU1pZLPlfvA8W9BNHAD3W8grmQiaOEUUrFCIeDW/AdxyPqpz7XSyUnH5ytGGX+utlMyEW2F9wjTe1YhKQzcKk1Debzr/kMkm2fTkOoPIHuQKXczdnKzJcv/tVYckYQ15EbjxrZy/GUZtAi35j5OLwd53mcEbv6KfXPRXo3wektXLxdrX6eEm+rTv8mYdNEquvsCBOf4aWv0gfzCO8nTU3LzIfySJoe4+z7Ok8+MPyGpAnixDZjMly5fE+x700lf9QgtndLh5uWz7hJfST/MAkHBKKxgVjE69S9tLN4vfwtREgRJy7btvrkD1Y5ALmn6n08u9qGAeeyCj3RgxlBKH78w3IkZiTmAP7FP3U5sOzXI1LRN5fOlhEePXpIx/8AAR9JZREELO8AAAAASUVORK5CYII=",selected:-1,selectedRaw:"",value:"",setintervalFlag:null,initFlag:!0,initId:0,inputValue:"",isMultiple:"",update:!0,logoImgStyleFlage:!1,dialogFormVisible:!1,initWaitVisible:!0,formLabelWidth:"120px",autoFontSize:16,actegoryClickStyle:{divTop:"",divAim:"",divBottom:""},form:{name:"",type:"png",input:"下载"},rightRetract:{setBackLeft:"0",width:"290px",retractFlage:!1},todoName:"",logoSourse:"static/img/left_logo.png",logoFlag:!0,rawShape:"layout-content-panel",leftStyle:{width:"180px",height:"100%",categoryFlage:!1},rightStyle:{width:"calc(100% - 180px)",height:"100%"},contentsStyle:{leftWidth:"calc(100% - 290px)",rightShowFlag:!0},options:"",value1:[],icons:[{value:0,chName:"定制",raw:"custom",name:"icon-ziyuan104",size:"16px"},{value:1,chName:"下载",raw:"download",name:"icon-xiazai3",size:"16px"},{value:2,chName:"全屏",raw:"fullScreen",name:"icon-ziyuan111",size:"16px"}],sync:!1,leftSilderIcons:[{value:0,name:"icon-zuohua",ref:"left",shaowFlag:!0,size:"25px",margin:"90px"},{value:1,name:"icon-zhegeyidinghang",ref:"right",shaowFlag:!1,size:"25px",margin:"10px"}],rightSilderIcons:[{value:2,name:"icon-zhegeyidinghang",ref:"right",shaowFlag:!0,size:"25px"},{value:3,name:"icon-zuohua",ref:"left",shaowFlag:!1,size:"25px"}],settingHelp:[{id:0,name:"icon-ziyuan107",ref:"setting",size:"19px"},{id:1,name:"icon-ziyuan105",ref:"help",size:"19px"}],syncDataBool:!1,dataSyncVisible:!1,timeSync:"5",operationGuide:!1}},computed:n()({},S(["allCategoryInform","initShowPanelInfo","initRunFile","waitingPage","initWaitingMessage","getErrorMessage","setDownloadSvgClass","getStateStore"]),b(["userSelectRunFile","multipleFlag","svgDownloadList","initSidebarId","categoryIndex","stateStore"])),watch:{getErrorMessage:function(t){this.$message({message:t.split("_")[0],type:"error"})},selectedRaw:function(t){"media"===t?this.rightSilder(this.rightSilderIcons[0]):"graph"===t?this.rightSilder(this.rightSilderIcons[1]):this.screenWidth<1e3?this.rightSilder(this.rightSilderIcons[0]):this.screenWidth>=1e3&&this.rightSilder(this.rightSilderIcons[1])},screenWidth:function(t){t<1e3&&(this.isHide(this.leftSilderIcons[0]),"graph"!==this.selectedRaw&&this.rightSilder(this.rightSilderIcons[0]))},$route:function(){var t=this.$route.path.split("/"),e=t[t.length-1],a=this.categoryIndex.indexOf(f.CATEGORYORDER.indexOf(e)),i=this.allCategoryInform[a];this.initFlag=!1,this.selected=i.id,this.init=1,this.selectedRaw=i.rawName,this.setRunCategory(i.rawName),this.todoName=i.rawName,this.syncDataBool,this.clearSync()},initShowPanelInfo:function(){"/index"===this.$route.path&&this.$router.push({path:this.initShowPanelInfo.routerName}),this.initId=this.initSidebarId},userSelectRunFile:function(){this.$forceUpdate(),this.value1=this.userSelectRunFile},value1:function(){this.getStateStore[this.selectedRaw]=this.value1,this.setUserSelectRunFile(this.value1)},inputValue:function(){},multipleFlag:function(){this.isMultiple=this.multipleFlag},isMultiple:function(){var t=this;this.update=!1,setTimeout(function(){t.update=!0})},initWaitingMessage:function(){this.initWaitVisible=!1,"error"===this.initWaitingMessage?this.$alert("对不起您没有权限","警告",{confirmButtonText:"确定",type:"error"}):(this.initFeatchCategory(this.$route.path),this.fontSize())},syncDataBool:function(){},allCategoryInform:function(){this.leftSilderIcons[0].shaowFlag||this.isHide(this.leftSilderIcons[0])},dataSyncVisible:function(t){var e=this;!t&&this.syncDataBool?(e.timer&&clearTimeout(e.timer),e.timer=setInterval(function(){e.featchCategory(e.$route.path),e.setTimer()},1e3*e.timeSync)):t||this.syncDataBool||(e.timer&&clearTimeout(e.timer),e.timer=null)}},created:function(){this.setParams({trainJobName:"test"}),this.initWaitingPage({})},mounted:function(){var t=.905*(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)*.075*.5;this.actegoryClickStyle.divTop="0 0 "+t/2+"px 0",this.actegoryClickStyle.divAim=t+"px 0 0 "+t+"px",this.actegoryClickStyle.divBottom="0 "+t/2+"px 0 0";var e=this;window.onresize=function(){return window.screenWidth=document.body.clientWidth,void(e.screenWidth=window.screenWidth)},e.screenWidth=document.body.clientWidth;this.selectedRaw=this.$route.path.split("/")[2]},methods:n()({},w(["featchCategory","initFeatchCategory","timingFeatchCategory","timingFeatchCategoryOnce","initWaitingPage"]),D(["setCategory","setUserSelectRunFile","setRunCategory","setTimer","clearSync","setParams","setErrorMessage"]),E(["setData"]),{isClicked:function(){r.B(".el-icon-refresh").attr("class","el-icon-refresh anim"),setTimeout(function(){r.B(".anim").attr("class","el-icon-refresh")},5e3),this.timingFeatchCategoryOnce(this.$route.path)},change:function(t){this.initFlag=!1,this.selected=t.id,this.todoName=t.rawName},getOptions:function(){this.options=this.initRunFile},isHide:function(t){"left"===t.ref?(t.shaowFlag=!1,this.leftSilderIcons[1].shaowFlag=!0,this.leftStyle.width="62px",this.rightStyle.width="calc(100% - 62px)",this.logoFlag=!1,this.allCategoryInform.forEach(function(t){t.name=""}),this.leftStyle.categoryFlage=!0,this.logoImgStyleFlage=!0):"right"===t.ref&&(t.shaowFlag=!1,this.leftSilderIcons[0].shaowFlag=!0,this.leftStyle.width="180px",this.rightStyle.width="calc(100% - 180px)",this.logoFlag=!0,this.allCategoryInform.forEach(function(t){t.icon=t.iconCopy,t.name=t.nameCopy}),this.leftStyle.categoryFlage=!1,this.logoImgStyleFlage=!1)},rightSilder:function(t){"right"===t.ref?(t.shaowFlag=!1,this.rightSilderIcons[1].shaowFlag=!0,this.contentsStyle.leftWidth="calc(100% - 26px)",this.contentsStyle.rightShowFlag=!1,this.rightRetract.setBackLeft="0.5",this.rightRetract.width="26px",this.rightRetract.retractFlage=!0):"left"===t.ref&&(t.shaowFlag=!1,this.rightSilderIcons[0].shaowFlag=!0,this.contentsStyle.leftWidth="calc(100% - 290px)",this.contentsStyle.rightShowFlag=!0,this.rightRetract.setBackLeft="0",this.rightRetract.width="290px",this.rightRetract.retractFlage=!1)},jsutTest:function(t){if("download"===t)this.downloadState.indexOf(this.selectedRaw)>=0?0===this.svgDownloadList[this.selectedRaw].length?this.setErrorMessage("请先在当前页面勾选需要下载的图片_"+(new Date).getTime()):this.dialogFormVisible=!0:(this.setErrorMessage("当前页面不支持下载_"+(new Date).getTime()),this.dialogFormVisible=!1);else if("fullScreen"===t){if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else{var e=void 0;(e="graph"===this.selectedRaw?document.getElementById("full-screen1"):document.getElementById("full-screen")).requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()}}else if("custom"===t){for(var a=document.getElementsByClassName("category-selected")[0].getElementsByTagName("i")[0].className.split(" ")[1],i=0;i<this.allCategoryInform.length;i+=1)if(this.allCategoryInform[i].icon===a){i=this.allCategoryInform[i].rawName;break}this.setData(i),"/index/custom"!==this.$route.path&&this.$router.push({path:"/index/custom"})}},downloadSvg:function(){var t=this;this.dialogFormVisible=!1,this.svgDownloadList[this.selectedRaw].forEach(function(e){var a=document.querySelector(e);d(a,t.form.input,a.width.baseVal.value,a.height.baseVal.value,t.form.type)}),this.form.input="下载",this.form.type="png"},downCancel:function(){this.dialogFormVisible=!1,this.form.input="下载",this.form.type="png"},testDownloadJson2csv:function(){u([{name:"xds",age:"26",gender:"male"},{name:"zhngsnan",age:"22",gender:"male"}])},getTigger:function(t){"setting"===t.ref&&(this.dataSyncVisible=!0),"help"===t.ref&&(this.operationGuide=!0)},fontSize:function(){var t=document.documentElement.offsetWidth;this.autoFontSize=parseInt(t/109,10)}})},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-root layout-same-style",staticStyle:{width:"100%"}},[a("el-dialog",{staticClass:"layout-svg-save-dialog",attrs:{visible:t.dialogFormVisible,title:"图片保存选项"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"图片名称"}},[a("el-input",{attrs:{placeholder:"请输入名称",clearable:""},model:{value:t.form.input,callback:function(e){t.$set(t.form,"input",e)},expression:"form.input"}})],1),t._v(" "),a("el-form-item",{attrs:{"label-width":t.formLabelWidth,label:"图片格式"}},[a("el-select",{attrs:{placeholder:"请选择保存图片格式"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-option",{attrs:{label:"png",value:"png"}}),t._v(" "),a("el-option",{attrs:{label:"eps",value:"eps"}}),t._v(" "),a("el-option",{attrs:{label:"svg",value:"svg"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.downCancel}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.downloadSvg}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"layout-svg-save-dialog",attrs:{visible:t.initWaitVisible,title:"全力加载中,请稍等..."},on:{"update:visible":function(e){t.initWaitVisible=e}}},[a("i",{staticClass:"el-icon-loading"})]),t._v(" "),a("el-dialog",{staticClass:"layout-svg",attrs:{visible:t.operationGuide,title:"操作指南"},on:{"update:visible":function(e){t.operationGuide=e}}},[a("div",{attrs:{id:"write"}},[a("h2",[a("a",{staticClass:"md-header-anchor",attrs:{name:"模型结构"}}),t._v(" "),a("span",[t._v("模型结构")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"主体界面"}}),t._v(" "),a("span",[t._v("主体界面")])]),t._v(" "),a("p",[a("span",[t._v("1.通过滚轮实现图的放大与缩小")])]),t._v(" "),a("p",[a("span",[t._v("2.通过单击鼠标左键并移动实现图的移动")])]),t._v(" "),a("p",[a("span",[t._v("3.单击节点会将节点具体信息显示在菜单栏，同时，与该节点相连的其他节点以及边都会标红")])]),t._v(" "),a("p",[a("span",[t._v("4.双击节点可以实现节点的展开与缩回")])]),t._v(" "),a("p",[a("span",[t._v("5.右键节点可以对节点进行边的隐藏、显示以及删除操作")])]),t._v(" "),a("p",[a("span",[t._v("6.当通过右键删除节点时，节点会被放置在右侧的隐藏栏中。双击隐藏栏内的节点可以实现节点的放回")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"功能栏"}}),t._v(" "),a("span",[t._v("功能栏")])]),t._v(" "),a("h4",[a("a",{staticClass:"md-header-anchor",attrs:{name:"计算图"}}),t._v(" "),a("span",[t._v("计算图")])]),t._v(" "),a("p",[a("span",[t._v("1.用户通过条件的输入与选择实现针对节点的")]),t._v(" "),a("strong",[a("span",[t._v("批量筛选")])])]),t._v(" "),a("p",[a("span",[t._v("2.")]),t._v(" "),a("strong",[a("span",[t._v("隐藏")])]),t._v(" "),a("span",[t._v("按钮用于实现针对符合批量筛选条件节点的隐藏，但并没有改变图的结构")])]),t._v(" "),a("p",[a("span",[t._v("3.")]),t._v(" "),a("strong",[a("span",[t._v("布局")])]),t._v(" "),a("span",[t._v("按钮用于实现针对符合批量筛选条件以及单独隐藏节点的删除与重新布局，该操作会让剩余节点在当前新条件下重新绘制，会改变图的结构")])]),t._v(" "),a("p",[a("span",[t._v("4.")]),t._v(" "),a("strong",[a("span",[t._v("上一步")])]),t._v(" "),a("span",[t._v("按钮用于返回用户的之前一步操作")])]),t._v(" "),a("p",[a("span",[t._v("5.")]),t._v(" "),a("strong",[a("span",[t._v("初始化")])]),t._v(" "),a("span",[t._v("按钮用于将图重置为最初未经改变的图像")])]),t._v(" "),a("h4",[a("a",{staticClass:"md-header-anchor",attrs:{name:"结构图"}}),t._v(" "),a("span",[t._v("结构图")])]),t._v(" "),a("p",[a("span",[t._v("1.下拉框用于实现同数据集下结构图的切换")])]),t._v(" "),a("p",[a("span",[t._v("2.")]),t._v(" "),a("strong",[a("span",[t._v("布局")])]),t._v(" "),a("span",[t._v("按钮用于实现针对单独隐藏节点的删除与重新布局，该操作会让剩余节点在当前新条件下重新绘制，会改变图的结构")])]),t._v(" "),a("h4",[a("a",{staticClass:"md-header-anchor",attrs:{name:"数据信息栏"}}),t._v(" "),a("span",[t._v("数据信息栏")])]),t._v(" "),a("p",[a("span",[t._v("信息栏用于显示单击特定节点时节点的全部信息，可通过")]),t._v(" "),a("strong",[a("span",[t._v("箭头")])]),t._v(" "),a("span",[t._v("按钮实现对信息的折叠与展开")])]),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("h2",[a("a",{staticClass:"md-header-anchor",attrs:{name:"标量数据"}}),t._v(" "),a("span",[t._v("标量数据")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"主体界面-n308"}}),t._v(" "),a("span",[t._v("主体界面")])]),t._v(" "),a("p",[a("span",[t._v("标量图表操作：")])]),t._v(" "),a("ol",[a("li",[a("span",[t._v("不同分类的图表组可以单击选择关闭或打开视图")])]),t._v(" "),a("li",[a("span",[t._v("可以鼠标移动到数据上显示数据信息")])]),t._v(" "),a("li",[a("span",[t._v("每一图表右上角有放大缩小按钮")])]),t._v(" "),a("li",[a("span",[t._v("右上角矩形框可为用户定制所用，选中后再按定制按钮就可以把数据迁移上用户定制上；也可为合并多个图表时所用")])]),t._v(" "),a("li",[a("span",[t._v("在图表内部拖动鼠标选择一个方形区域可进行图表局部放大，双击图表可还原")])])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"控制栏"}}),t._v(" "),a("span",[t._v("控制栏")])]),t._v(" "),a("p",[a("span",[t._v("Smooth：调整数据显示平滑程度，选择范围为（0 ~ 0.9）")])]),t._v(" "),a("p",[a("span",[t._v("Y-axis：调整y轴数据显示方式，共两种，一种是linear（原始数据），一种是log-linear（取对数后的数据）")])]),t._v(" "),a("p",[a("span",[t._v("合并按钮：将勾选中的图表进行合并，合并限制：至多可勾选两种tag的图表，至多可勾选6幅图表")])]),t._v(" "),a("p",[a("span",[t._v("还原按钮：将勾选中的合并图表进行还原")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"数据信息栏-n326"}}),t._v(" "),a("span",[t._v("数据信息栏")])]),t._v(" "),a("p",[a("span",[t._v("暂无数据")])]),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("h2",[a("a",{staticClass:"md-header-anchor",attrs:{name:"媒体数据"}}),t._v(" "),a("span",[t._v("媒体数据")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"主体界面-n452"}}),t._v(" "),a("span",[t._v("主体界面")])]),t._v(" "),a("p",[a("span",[t._v("可以显示文本，图像，音频")])]),t._v(" "),a("h4",[a("a",{staticClass:"md-header-anchor",attrs:{name:"文本"}}),t._v(" "),a("span",[t._v("文本")])]),t._v(" "),a("ol",[a("li",[a("span",[t._v("显示相应的数据")])]),t._v(" "),a("li",[a("span",[t._v("slider 可以对step进行拖拽")])])]),t._v(" "),a("h4",[a("a",{staticClass:"md-header-anchor",attrs:{name:"图像"}}),t._v(" "),a("span",[t._v("图像")])]),t._v(" "),a("ol",[a("li",[a("span",[t._v("可以对图像进行点击，显示大图")])]),t._v(" "),a("li",[a("span",[t._v("slider 可以对step进行拖拽")])])]),t._v(" "),a("h4",[a("a",{staticClass:"md-header-anchor",attrs:{name:"音频"}}),t._v(" "),a("span",[t._v("音频")])]),t._v(" "),a("ol",[a("li",[a("span",[t._v("可以播放音频")])]),t._v(" "),a("li",[a("span",[t._v("slider 可以对step进行拖拽")])])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"数据信息栏-n472"}}),t._v(" "),a("span",[t._v("数据信息栏")])]),t._v(" "),a("ol",[a("li",[a("p",[a("span",[t._v("暂时为空")])]),t._v(" "),a("p",[t._v(" ")])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("h2",[a("a",{staticClass:"md-header-anchor",attrs:{name:"统计分析"}}),t._v(" "),a("span",[t._v("统计分析")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"主体界面-n551"}}),t._v(" "),a("span",[t._v("主体界面")])]),t._v(" "),a("p",[a("span",[t._v("由直方图和分布图两部分组成")])]),t._v(" "),a("p",[a("span",[t._v("直方图操作：")])]),t._v(" "),a("ol",[a("li",[a("span",[t._v("直方图可以单击选择关闭或打开视图")])]),t._v(" "),a("li",[a("span",[t._v("可以鼠标移动到数据上显示数据信息")])]),t._v(" "),a("li",[a("span",[t._v("每一直方图右上角有放大缩小按钮")])]),t._v(" "),a("li",[a("span",[t._v("右上角矩形框为用户定制所用，选中后再按定制按钮就可以把数据迁移上用户定制上")])])]),t._v(" "),a("p",[a("span",[t._v("分布图操作：")])]),t._v(" "),a("ol",[a("li",[a("span",[t._v("分布图可以单击选择关闭或打开视图")])]),t._v(" "),a("li",[a("span",[t._v("每一直方图右上角有放大缩小按钮")])]),t._v(" "),a("li",[a("span",[t._v("右上角矩形框为用户定制所用，选中后再按定制按钮就可以把数据迁移上用户定制上")])])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"控制栏-n571"}}),t._v(" "),a("span",[t._v("控制栏")])]),t._v(" "),a("p",[a("span",[t._v("直方图控制栏：")])]),t._v(" "),a("p",[a("span",[t._v("数据显示比率参数：调整数据显示数量")])]),t._v(" "),a("p",[a("span",[t._v("统计区间个数参数：调整总体数据的统计区间个数")])]),t._v(" "),a("p",[a("span",[t._v("模式下拉框：直方图三维或二维显示")])]),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"数据信息栏-n577"}}),t._v(" "),a("span",[t._v("数据信息栏")])]),t._v(" "),a("p",[a("span",[t._v("显示直方图选中的原始数据")])]),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("h2",[a("a",{staticClass:"md-header-anchor",attrs:{name:"降维分析"}}),t._v(" "),a("span",[t._v("降维分析")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"主体界面-n671"}}),t._v(" "),a("span",[t._v("主体界面")])]),t._v(" "),a("p",[a("span",[t._v("可以显示2维，3维分类结果")])]),t._v(" "),a("h4",[a("a",{staticClass:"md-header-anchor",attrs:{name:"2维操作"}}),t._v(" "),a("span",[t._v("2维操作")])]),t._v(" "),a("ol",[a("li",[a("span",[t._v("可以对点(线条)进行点击，数据信息栏会显示存储的图片/文本")])]),t._v(" "),a("li",[a("span",[t._v("鼠标移动上去可以简单显示对应的点和标签")])]),t._v(" "),a("li",[a("span",[t._v("拖拽可以对点进行局部放大")])]),t._v(" "),a("li",[a("span",[t._v("双击显示窗口可以回到初始的显示界面")])])]),t._v(" "),a("h4",[a("a",{staticClass:"md-header-anchor",attrs:{name:"3维操作"}}),t._v(" "),a("span",[t._v("3维操作")])]),t._v(" "),a("ol",[a("li",[a("span",[t._v("可以对点(线条)进行点击，数据信息栏会显示存储的图片/文本")])]),t._v(" "),a("li",[a("span",[t._v("鼠标移动上去可以简单显示对应的点和标签")])]),t._v(" "),a("li",[a("span",[t._v("鼠标滚轮可以进行缩放")])])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"控制面板"}}),t._v(" "),a("span",[t._v("控制面板")])]),t._v(" "),a("ol",[a("li",[a("span",[t._v("可以选择对应的标签(Tag)")])]),t._v(" "),a("li",[a("span",[t._v("可以选择对应的降维方法(PCA TSNE)")])]),t._v(" "),a("li",[a("span",[t._v("可以选择维度信息")])]),t._v(" "),a("li",[a("span",[t._v("播放按钮可以显示出step动态的动画（这个功能对于应2，3,4-8维）")])])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"数据信息栏-n711"}}),t._v(" "),a("span",[t._v("数据信息栏")])]),t._v(" "),a("ol",[a("li",[a("p",[a("span",[t._v("显示对应的数据（文字和图片）")])]),t._v(" "),a("p",[t._v(" ")])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("h2",[a("a",{staticClass:"md-header-anchor",attrs:{name:"超参数"}}),t._v(" "),a("span",[t._v("超参数")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"主体界面-n767"}}),t._v(" "),a("span",[t._v("主体界面")])]),t._v(" "),a("p",[a("span",[t._v("主界面由平行坐标以及表格数据")])]),t._v(" "),a("p",[a("span",[t._v("平行坐标操作：")])]),t._v(" "),a("ol",[a("li",[a("span",[t._v("选择坐标轴上部分区域高亮显示对应的表格数据也会高亮")])]),t._v(" "),a("li",[a("span",[t._v("鼠标移动到线上高亮显示")])]),t._v(" "),a("li",[a("span",[t._v("坐标轴移动以改变平行坐标")])])]),t._v(" "),a("p",[a("span",[t._v("表格操作：")])]),t._v(" "),a("ol",[a("li",[a("span",[t._v("鼠标移动到某一行，平行坐标上对应数据会高亮显示")])])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"控制面板-n783"}}),t._v(" "),a("span",[t._v("控制面板")])]),t._v(" "),a("p",[a("span",[t._v("主参数 控制颜色映射对应的数据")])]),t._v(" "),a("p",[a("span",[t._v("坐标尺度： 数值型数据可以选择线性坐标轴和对数坐标轴")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"统计信息栏"}}),t._v(" "),a("span",[t._v("统计信息栏")])]),t._v(" "),a("p",[a("span",[t._v("显示选中的数据进行统计信息显示。")])]),t._v(" "),a("p",[a("span",[t._v("默认选中全部数据")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"数据信息栏-n789"}}),t._v(" "),a("span",[t._v("数据信息栏")])]),t._v(" "),a("p",[a("span",[t._v("显示选中数据的原始信息。")])]),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("h2",[a("a",{staticClass:"md-header-anchor",attrs:{name:"异常检测"}}),t._v(" "),a("span",[t._v("异常检测")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"主体界面-n811"}}),t._v(" "),a("span",[t._v("主体界面")])]),t._v(" "),a("p",[a("span",[t._v("由直方图、颜色矩阵和盒须图三部分组成")]),t._v(" "),a("span",[t._v("直方图：数据的统计信息，区间不均匀分布，坐标轴上的红色标记对应盒须图异常点的上下边界")]),t._v(" "),a("span",[t._v("颜色矩阵：用矩形表示数值点，根据数值大小为矩形赋予一个颜色值，颜色矩阵可以通过滚轮放大缩小查看；")]),t._v(" "),a("span"),t._v(" "),a("span",[t._v("颜色条上下三角形可拖动，只查看一定范围内的数值分布，数值大小超出上下三角形数值的矩形颜色变灰")]),t._v(" "),a("span",[t._v("盒须图：拖动下方坐标轴上的刷子可查看相应范围内的盒须图，")]),t._v(" "),a("span"),t._v(" "),a("span",[t._v("点击某个盒须图，请求异常点数据，在盒须图中用红色圆圈标记出来，并把颜色矩阵中对应的矩形的边界高亮")]),t._v(" "),a("span"),t._v(" "),a("span",[t._v("异常值的上下边界也可拖拽，停止拖拽时会重新获取新范围外的异常点数据")]),t._v(" "),a("span")]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"控制栏-n813"}}),t._v(" "),a("span",[t._v("控制栏")])]),t._v(" "),a("p",[a("span",[t._v("主要功能：调节盒须图异常值的上下边界")]),t._v(" "),a("span",[t._v("联动选择：勾选联动后，盒须图异常值的上下边界会同步变化")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"数据信息栏-n815"}}),t._v(" "),a("span",[t._v("数据信息栏")])]),t._v(" "),a("p",[a("span",[t._v("鼠标放到颜色矩阵或是盒须图的异常点上，显示该点所在的行、列、数值大小等")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"数据信息栏-n817"}}),t._v(" "),a("span",[t._v("数据信息栏")])]),t._v(" "),a("p",[a("span",[t._v("暂无数据")])]),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("h2",[a("a",{staticClass:"md-header-anchor",attrs:{name:"用户定制"}}),t._v(" "),a("span",[t._v("用户定制")])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"主体界面-n134"}}),t._v(" "),a("span",[t._v("主体界面")])]),t._v(" "),a("p",[a("span",[t._v("可以将媒体数据，标量数据，统计分析数据集中到用户定制集中显示")])]),t._v(" "),a("ol",{attrs:{start:""}},[a("li",[a("span",[t._v("通过点击上面信息框的勾选框，再点击用户定制图标，自动跳转到用户定制")])]),t._v(" "),a("li",[a("span",[t._v("点击‘X’，会删除对应的显示组件")])])]),t._v(" "),a("h3",[a("a",{staticClass:"md-header-anchor",attrs:{name:"控制栏-n141"}}),t._v(" "),a("span",[t._v("控制栏")])]),t._v(" "),a("p",[a("span",[t._v("对应的显示组件有对应的控制栏的话，右边会出现相应的控制栏")])]),t._v(" "),a("p",[t._v(" ")]),t._v(" "),a("p",[t._v(" ")])])]),t._v(" "),a("el-dialog",{staticClass:"layout-svg-save-dialog",attrs:{visible:t.dataSyncVisible,title:"设定数据同步间隔"},on:{"update:visible":function(e){t.dataSyncVisible=e}}},[a("div",[a("el-checkbox",{model:{value:t.syncDataBool,callback:function(e){t.syncDataBool=e},expression:"syncDataBool"}},[t._v("启用同步")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-input-number",{staticClass:"input-number",attrs:{min:5,disabled:!t.syncDataBool,size:"mini"},model:{value:t.timeSync,callback:function(e){t.timeSync=e},expression:"timeSync"}}),t._v("秒\n    ")],1)]),t._v(" "),a("div",{ref:"left",staticClass:"layout-sidebar layout-same-style",style:{height:t.leftStyle.height,width:t.leftStyle.width}},[a("logo",{attrs:{collapse:!1}}),t._v(" "),a("div",{class:["layout-sidebar-category-container"]},[a("div",{staticClass:"layout-sidebar-category layout-same-style"},t._l(t.allCategoryInform,function(e,i){return a("div",{key:e.id,class:["layout-sidebar-category-each"],style:{height:100/t.allCategoryInform.length+"%",lineHeight:100/t.allCategoryInform.length+"%"}},[a("div",{ref:"eachTop",refInFor:!0,class:["layout-sidebar-category-each-top"]}),t._v(" "),a("div",{ref:"eachMiddle",refInFor:!0,class:["layout-sidebar-category-each-middle"],style:e.rawName==t.selectedRaw||i==t.initId&&t.initFlag?{borderLeft:"4px solid #2e4fde"}:{}},[a("router-link",{class:[e.rawName==t.selectedRaw||i==t.initId&&t.initFlag?"category-selected":""],attrs:{to:e.routerName,tag:"li"},nativeOn:{click:function(a){return t.change(e)}}},[a("i",{class:["iconfont",e.icon],style:{fontSize:"16px"}}),t._v(" "),a("span",{class:[t.leftStyle.categoryFlage?"span-after":""],style:e.rawName==t.selectedRaw||i==t.initId&&t.initFlag?{fontSize:"16px",color:"rgb(46, 79, 222)"}:{fontSize:"16px"}},[t._v(t._s(e.name))])])],1),t._v(" "),a("div",{class:["layout-sidebar-category-each-bottom"]})])}),0)]),t._v(" "),a("div",{class:["layout-sidebar-setting"]},t._l(t.leftSilderIcons,function(e){return a("p",{directives:[{name:"show",rawName:"v-show",value:e.shaowFlag,expression:"item.shaowFlag"}],key:e.id,ref:"item.ref",refInFor:!0,style:{position:"absolute",marginLeft:e.margin},on:{click:function(a){return t.isHide(e)}}},[a("i",{class:["iconfont",e.name],style:{fontSize:e.size}})])}),0)],1),t._v(" "),a("div",{staticClass:"layout-header-content layout-same-style",style:{height:t.rightStyle.height,width:t.rightStyle.width}},[a("div",{staticClass:"layout-header layout-same-style"},[a("div",{class:["same-div"],staticStyle:{width:"400px"}},[t._l(t.icons,function(e,i){return a("p",{key:i,class:["same-p"],attrs:{title:e.chName},on:{click:function(a){return t.jsutTest(e.raw)}}},[a("i",{class:["iconfont",e.name],style:{fontSize:e.size}})])}),t._v(" "),a("p",{class:["tool-p"]}),t._v(" "),a("p",{class:["run-select-container"],style:{width:"40%"}},[t.update?a("el-select",{class:["run-selest"],attrs:{multiple:2!==t.multipleFlag&&t.isMultiple,disabled:2===t.multipleFlag,clearable:2!==t.multipleFlag&&t.isMultiple,size:"mini",placeholder:"RUN","collapse-tags":"",filterable:""},on:{focus:function(e){return t.getOptions()}},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1):t._e()],1)],2),t._v(" "),a("div",{class:["same-div"],staticStyle:{width:"calc(100% - 800px)"}}),t._v(" "),a("div",{class:["same-div","search-tag"],staticStyle:{width:"400px"}},[a("p",{class:["run-select-container"],style:{margin:"0 0 0 0"}},[a("i",{class:["el-icon-refresh"],staticStyle:{"font-size":"19px",color:"whitesmoke",cursor:"pointer"},on:{click:t.isClicked}}),t._v(" "),t._l(t.settingHelp,function(e){return a("i",{key:e.id,class:["iconfont",e.name,"icon-setting-help"],style:{fontSize:e.size,cursor:"pointer"},on:{click:function(a){return t.getTigger(e)}}})})],2)])]),t._v(" "),a("div",{staticClass:"layout-content layout-same-style",staticStyle:{"background-color":"white"},attrs:{id:"full-screen1"}},[a("div",{class:["right-slider",t.rightRetract.retractFlage?"right-slider-last":""],style:{right:t.rightRetract.setBackLeft,width:t.rightRetract.width}},t._l(t.rightSilderIcons,function(e){return a("p",{directives:[{name:"show",rawName:"v-show",value:e.shaowFlag&&"graph"!==t.selectedRaw,expression:"item.shaowFlag && selectedRaw !== 'graph'"}],key:e.id,on:{click:function(a){return t.rightSilder(e)}}},[a("i",{class:["iconfont",e.name],style:{fontSize:e.size}})])}),0),t._v(" "),a("router-view",{class:[t.rawShape,"layout-same-style"],style:{width:t.contentsStyle.leftWidth},attrs:{id:"full-screen"}}),t._v(" "),a("router-view",{directives:[{name:"show",rawName:"v-show",value:t.contentsStyle.rightShowFlag,expression:"contentsStyle.rightShowFlag"}],staticClass:"layout-content-paramenter layout-same-style",attrs:{name:"right"}})],1)])],1)},staticRenderFns:[]};var k=a("VU/8")(I,M,!1,function(t){a("rcwl")},"data-v-4d6df0ee",null).exports,O={components:{Layout:k}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var B=a("VU/8")(O,T,!1,function(t){a("O2VS")},"data-v-241a97a2",null).exports,P=a("c/Tr"),R=a.n(P),A=a("fZjL"),F=a.n(A),L=a("Xxa5"),N=a.n(L),U=a("exGp"),W=a.n(U),K=a("//Fk"),j=a.n(K),G=a("mtWM"),H=a.n(G),z=a("Y81h"),q=a.n(z),Y=(a("UVIz"),H.a.create({baseURL:f.DJANGOHOSTNAME,timeout:35e3,withCredentials:!0}));Y.interceptors.request.use(function(t){return q.a.start(),t},function(t){return console.log("error",t),j.a.reject(t)}),Y.interceptors.response.use(function(t){return q.a.done(),t},function(t){return j.a.reject(t)});var J={useGet:function(t,e){Q.state.params;return Y.get(t,{params:e})},usePost:function(t,e){return Y.post(t,e)}},V={manage:{initCategory:"/api/getCategory",waitingPage:"/api/init"},category:{scalar:"/api/scalar",histogram:"/api/histogram",graph:"/api/graph",distribution:"/api/distribution",embedding:"/api/getEmbedding",text:"/api/text",audio:"/api/audio",audio_raw:"/api/audio_raw",image:"/api/image",image_raw:"/api/image_raw",roc:"/api/getRoc",hyperparm:"/api/hyperparm",custom:"/api/getCustom",projector:"/api/projector",projector_data:"/api/projector_data",projector_sample:"/api/projector_sample",exception:"/api/exception",exception_data:"/api/exception_data",exception_hist:"/api/exception_hist",exception_box:"/api/exception_box"}},Q={namespaced:!0,state:{stateStore:{},category:[],initShowPanel:"",initSidebarId:"",categoryIndex:"",runFileCategory:"",userSelectRunFile:"",runCategoryDetail:"",multipleFlag:"",svgDownloadList:[],subCategoryTimerId:null,initWaitingMessage:"",timeSyncInterval:!1,errorMessage:"",params:{id:"",trainJobName:""}},getters:{allCategoryInform:function(t){return t.category},initShowPanelInfo:function(t){return t.initShowPanel},initRunFile:function(t){return t.runFileCategory},initWaitingMessage:function(t){return t.initWaitingMessage},getParams:function(t){return t.params},getErrorMessage:function(t){return t.errorMessage},setDownloadSvgClass:function(t){return t.svgDownloadList},getStateStore:function(t){return t.stateStore},getTimer:function(t){return t.timeSyncInterval}},actions:{initWaitingPage:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.useGet("/api/init",e).then(function(e){t.commit("setCookie","session_id",e.data.data.session_id),t.commit("setWaitingMessage",e.data.data.msg)});case 2:case"end":return a.stop()}},i,a)}))()},initFeatchCategory:function(t,e){var a=this;return W()(N.a.mark(function i(){var s,n;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=e.split("/"),n=s[s.length-1],a.next=4,J.useGet(V.manage.initCategory,{}).then(function(e){var a=e.data.data,i=[],s=[],r={};F()(a).forEach(function(t){i=i.concat(F()(a[t]).filter(function(t){return!i.includes(t)})),s.push(t)});var o=[];i.forEach(function(t){o.push(f.CATEGORYORDER.indexOf(t))}),o.sort();var c=0;c="index"===n?0:o.indexOf(f.CATEGORYORDER.indexOf(n)),0!==i.length?i.forEach(function(e){var i=[],c=[],l=[];s.forEach(function(t){a[t].hasOwnProperty(e)&&(c.push(t),i.push(a[t][e]),l.push(t)),r[e]=l}),e===f.CATEGORYORDER[o[0]]&&"index"===n?t.dispatch(e+"/getSelfCategoryInfo",[c,i,{initStateFlag:!0}],{root:!0}):e===n?t.dispatch(e+"/getSelfCategoryInfo",[c,i,{initStateFlag:!0}],{root:!0}):t.dispatch(e+"/getSelfCategoryInfo",[c,i,{initStateFlag:!1}],{root:!0})}):(t.commit("setErrorMessage","日志文件中尚未发现可展示信息！_"+(new Date).getTime()),r.custom=["Ax7yxZA1"],o.push(9),c=0),t.commit("setRunCategoryDetail",r),t.commit("setCategory",[o,c]),t.commit("setRunCategory",f.CATEGORYORDER[o[c]])});case 4:case"end":return a.stop()}},i,a)}))()},featchCategory:function(t,e){var a=this;return W()(N.a.mark(function i(){var s,n;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=e.split("/"),n=s[s.length-1],a.next=4,J.useGet(V.manage.initCategory,{}).then(function(e){var a=e.data.data,i=[],s=[],r={};F()(a).forEach(function(t){i=i.concat(F()(a[t]).filter(function(t){return!i.includes(t)})),s.push(t)});var o=[];i.forEach(function(t){o.push(f.CATEGORYORDER.indexOf(t))}),o.sort();var c=0;c="index"===n?0:o.indexOf(f.CATEGORYORDER.indexOf(n)),0!==i.length?i.forEach(function(e){var i=[],n=[],o=[];s.forEach(function(t){a[t].hasOwnProperty(e)&&(n.push(t),i.push(a[t][e]),o.push(t)),r[e]=o}),t.dispatch(e+"/getIntervalSelfCategoryInfo",[n,i],{root:!0})}):(t.commit("setErrorMessage","日志文件中尚未发现可展示信息！_"+(new Date).getTime()),r.custom=["Ax7yxZA1"],o.push(9),c=0),t.commit("setRunCategoryDetail",r),t.commit("setCategory",[o,c]),t.commit("setRunCategory",f.CATEGORYORDER[o[c]])});case 4:case"end":return a.stop()}},i,a)}))()},timingFeatchCategory:function(t,e){var a=this;return W()(N.a.mark(function i(){var s,n,r;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:s=e[1].split("/"),n=s[s.length-1],r=setInterval(W()(N.a.mark(function e(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:J.useGet(V.manage.initCategory,{test:1}).then(function(e){var a=e.data.data,i=[],s=[],r={};F()(a).forEach(function(t){i=i.concat(F()(a[t]).filter(function(t){return!i.includes(t)})),s.push(t)});var o=[];i.forEach(function(t){o.push(f.CATEGORYORDER.indexOf(t))}),o.sort();var c=0;c="index"===n?0:o.indexOf(f.CATEGORYORDER.indexOf(n)),0!==i.length?i.forEach(function(e){var i=[],c=[],l=[];s.forEach(function(t){a[t].hasOwnProperty(e)&&(c.push(t),i.push(a[t][e]),l.push(t)),r[e]=l}),e===f.CATEGORYORDER[o[0]]&&"index"===n?t.dispatch(e+"/getSelfCategoryInfo",[c,i,{initStateFlag:!0}],{root:!0}):e===n?t.dispatch(e+"/getSelfCategoryInfo",[c,i,{initStateFlag:!0}],{root:!0}):t.dispatch(e+"/getSelfCategoryInfo",[c,i,{initStateFlag:!1}],{root:!0})}):t.commit("setErrorMessage","日志文件中尚未发现可展示信息！_"+(new Date).getTime()),t.commit("setRunCategoryDetail",r),t.commit("setCategory",[o,c]),t.commit("setRunCategory",f.CATEGORYORDER[o[c]])});case 1:case"end":return e.stop()}},e,a)})),e[0]),t.commit("setSyncTime",r);case 4:case"end":return i.stop()}},i,a)}))()},timingFeatchCategoryOnce:function(t,e){var a=this;return W()(N.a.mark(function i(){var s,n;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=e.split("/"),n=s[s.length-1],a.next=4,J.useGet(V.manage.initCategory,{}).then(function(e){var a=e.data.data,i=[],s=[],r={};F()(a).forEach(function(t){i=i.concat(F()(a[t]).filter(function(t){return!i.includes(t)})),s.push(t)});var o=[];i.forEach(function(t){o.push(f.CATEGORYORDER.indexOf(t))}),o.sort();var c=0;c="index"===n?0:o.indexOf(f.CATEGORYORDER.indexOf(n)),0!==i.length?i.forEach(function(e){var i=[],c=[],l=[];s.forEach(function(t){a[t].hasOwnProperty(e)&&(c.push(t),i.push(a[t][e]),l.push(t)),r[e]=l}),e===f.CATEGORYORDER[o[0]]&&"index"===n?t.dispatch(e+"/getSelfCategoryInfo",[c,i,{initStateFlag:!0}],{root:!0}):e===n?t.dispatch(e+"/getSelfCategoryInfo",[c,i,{initStateFlag:!0}],{root:!0}):t.dispatch(e+"/getSelfCategoryInfo",[c,i,{initStateFlag:!1}],{root:!0})}):t.commit("setErrorMessage","日志文件中尚未发现可展示信息！_"+(new Date).getTime()),t.commit("setRunCategoryDetail",r),t.commit("setCategory",[o,c]),t.commit("setRunCategory",f.CATEGORYORDER[o[c]])});case 4:case"end":return a.stop()}},i,a)}))()},getClickState:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.state.categoryIndex.forEach(function(a){var i=f.CATEGORYORDER[a];a===e?t.commit(i+"/setClickState",!0,{root:!0}):t.commit(i+"/setClickState",!1,{root:!0})});case 1:case"end":return a.stop()}},i,a)}))()}},mutations:{setParams:function(t,e){t.params=e},setCookie:function(t,e,a){var i=new Date;i.setTime(i.getTime()+12096e5),document.cookie=e+"="+escape(a)+";expires="+i.toGMTString()+"; path=/"},setCategory:function(t,e){t.categoryIndex=e[0];var a=[];R()(e[0]).forEach(function(t,e){a.push({id:e,rawName:f.CATEGORYORDER[t],routerName:"/index/"+f.CATEGORYORDER[t],name:f.CATEGORY[t][3],nameCopy:f.CATEGORY[t][3],icon:f.CATEGORY[t][4],iconCopy:f.CATEGORY[t][4]})}),t.category=a,t.initSidebarId=e[1],t.initShowPanel!==a[e[1]]&&(t.initShowPanel=a[e[1]]);var i={};t.category.forEach(function(t){i[t.rawName]=[],"graph"===t.rawName&&i.graph.push("#svg-canvas")}),t.svgDownloadList=i},setSyncTime:function(t){t.timeSyncInterval=!t.timeSyncInterval},clearSync:function(t){clearInterval(t.timeSyncInterval)},setWaitingMessage:function(t,e){t.initWaitingMessage=e},setRunCategory:function(t,e){var a=[],i=[],s="";void 0!==t.runCategoryDetail[e]&&(t.runCategoryDetail[e].forEach(function(t,n){a.push({value:t,label:t}),0===f.RUNFILESHOWFlAG[e]?(s=!1,0===n&&(i=t)):(i.push(t),s=!0),2===f.RUNFILESHOWFlAG[e]&&(a=[],i=[],s=2)}),e in t.stateStore?t.userSelectRunFile=t.stateStore[e]:(t.stateStore[e]=i,t.userSelectRunFile=i)),t.runFileCategory=a,t.multipleFlag=s},setUserSelectRunFile:function(t,e){t.userSelectRunFile=e},setRunCategoryDetail:function(t,e){t.runCategoryDetail=e},setTimer:function(t){t.timeSyncInterval=!t.timeSyncInterval},setErrorMessage:function(t,e){t.errorMessage=e}}},Z={namespaced:!0,state:{categoryInfo:"",initStateFlag:!1,dataSets:[],dataSetsState:[],histTags:[],oldHistData:[],histData:[],oldDistData:[],distData:[],binNum:30,clickState:!1,histMode:"三维",showNumber:100,histShow:!0,distShow:!1,histCheckedArray:[],distCheckedArray:[],statisticColor:["#9FA5FA","#6dd2f0","#c06f98","#f07c82","#57c3c2","#9359b1","#8cc269","#ffa60f","#de5991","#EA7E53","#cc95c0"],statisticInfo:[],errorMessage:"",freshFlag:!0,downLoadArray:[],featchHistDataFinished:!0,featchDistDataFinished:!0,updateFlag:!1},getters:{getInitStateFlag:function(t){return t.initStateFlag},getShowNumber:function(t){return t.showNumber},getMode:function(t){return t.histMode},getDistData:function(t){return t.distData},getHistData:function(t){return t.histData},getBinNum:function(t){return t.binNum},getShowStatisticFlag:function(t){return t.showStatisticFlag},getDataSets:function(t){return t.dataSets},getCategoryInfo:function(t){return t.categoryInfo},getClickState:function(t){return t.clickState},getDataSetsState:function(t){return t.dataSetsState},getStatisticColor:function(t){return t.statisticColor},getHistCheckedArray:function(t){return t.histCheckedArray},getDistCheckedArray:function(t){return t.distCheckedArray},getStatisticInfo:function(t){return t.statisticInfo},getErrorMessage:function(t){return t.errorMessage},getHistShow:function(t){return t.histShow},getDistShow:function(t){return t.distShow},getDownLoadArray:function(t){return t.downLoadArray},getFeatchHistDataFinished:function(t){return t.featchHistDataFinished},getFeatchDistDataFinished:function(t){return t.featchDistDataFinished},getUpdateFlag:function(t){return t.updateFlag}},actions:{getSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.state.freshFlag&&(t.commit("setFreshFlag",!1),t.commit("setSelfCategoryInfo",e),e[2].initStateFlag&&t.dispatch("featchAllHistData"));case 1:case"end":return a.stop()}},i,a)}))()},getIntervalSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.state.featchDistDataFinished&&t.state.featchHistDataFinished&&(t.commit("setIntervalSelfCategoryInfo",e),t.commit("setUpdateFlag"));case 1:case"end":return a.stop()}},i,a)}))()},featchAllDistData:function(t){var e=this;return W()(N.a.mark(function a(){var i,s,n;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.commit("setFeatchDistDataFinished",!1),i=N.a.mark(function a(i,s){var r,o;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r=N.a.mark(function a(n){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.useGet(V.category.distribution,{run:t.state.dataSets[i],tag:t.state.histTags[i][n]}).then(function(e){200===Number(e.data.code)?(t.commit("storeDistData",[t.state.dataSets[i],t.state.histTags[i][n],e.data.data[t.state.histTags[i][n]],i,s]),t.commit("manageDistData",s)):t.commit("setErrorMessage",t.state.dataSets[i]+","+t.state.histTags[i][n]+","+e.data.msg)});case 2:case"end":return e.stop()}},a,e)}),o=0;case 2:if(!(o<t.state.histTags[i].length)){a.next=7;break}return a.delegateYield(r(o),"t0",4);case 4:o++,s++,a.next=2;break;case 7:n=s;case 8:case"end":return a.stop()}},a,e)}),s=0,n=0;case 3:if(!(s<t.state.dataSets.length)){a.next=8;break}return a.delegateYield(i(s,n),"t0",5);case 5:s++,a.next=3;break;case 8:t.commit("setFeatchDistDataFinished",!0);case 9:case"end":return a.stop()}},a,e)}))()},featchAllHistData:function(t){var e=this;return W()(N.a.mark(function a(){var i,s,n;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.commit("setFeatchHistDataFinished",!1),i=N.a.mark(function a(i,s){var r,o;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r=N.a.mark(function a(n){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.useGet(V.category.histogram,{run:t.state.dataSets[i],tag:t.state.histTags[i][n]}).then(function(e){if(200===Number(e.data.code)){var a=e.data.data[t.state.histTags[i][n]].length;a>50&&5e3/a<t.state.showNumber&&t.commit("changeShownumber",Math.round(5e3/a)),t.commit("storeHistData",[t.state.dataSets[i],t.state.histTags[i][n],e.data.data[t.state.histTags[i][n]],i,s]),t.commit("manageHistData",{index:s,length:1})}else t.commit("setErrorMessage",t.state.dataSets[i]+","+t.state.histTags[i][n]+","+e.data.msg)});case 2:case"end":return e.stop()}},a,e)}),o=0;case 2:if(!(o<t.state.histTags[i].length)){a.next=7;break}return a.delegateYield(r(o),"t0",4);case 4:o++,s++,a.next=2;break;case 7:n=s;case 8:case"end":return a.stop()}},a,e)}),s=0,n=0;case 3:if(!(s<t.state.dataSets.length)){a.next=8;break}return a.delegateYield(i(s,n),"t0",5);case 5:s++,a.next=3;break;case 8:t.commit("setFeatchHistDataFinished",!0),t.commit("setFreshFlag",!0);case 10:case"end":return a.stop()}},a,e)}))()}},mutations:{setSelfCategoryInfo:function(t,e){t.categoryInfo=["histogram","distribution"],t.dataSets=e[0];for(var a=0;a<t.dataSets.length;a++)t.histTags.push(e[1][a].histogram);t.dataSetsState=[];for(var i=0;i<t.dataSets.length;i++)t.dataSetsState[t.dataSets[i]]=!0;t.initStateFlag=e[2].initStateFlag},setIntervalSelfCategoryInfo:function(t,e){t.categoryInfo=["histogram","distribution"],t.dataSets=e[0],t.histTags=[];for(var a=0;a<t.dataSets.length;a++)t.histTags.push(e[1][a].histogram);t.initStateFlag=!1;for(var i=0,s=0;s<t.dataSets.length;s++)i+=e[1][s].histogram.length;i<t.histData.length&&(t.oldHistData=t.oldHistData.slice(0,i),t.oldDistData=t.oldDistData.slice(0,i),t.histData=t.histData.slice(0,i),t.distData=t.distData.slice(0,i))},setInitStateFlag:function(t,e){t.initStateFlag=e},setClickState:function(t,e){t.clickState=e},changeMode:function(t,e){t.histMode=e,t.isSwitchFlag=!0;var a=[];if("三维"===t.histMode){for(var i=0;i<t.downLoadArray.length;i++)a.push(t.downLoadArray[i].replace(/overlay/,"offset"));t.downLoadArray=a}else{for(var s=0;s<t.downLoadArray.length;s++)a.push(t.downLoadArray[s].replace(/offset/,"overlay"));t.downLoadArray=a}},changeShownumber:function(t,e){t.showNumber=e},storeDistData:function(t,e){var a=e.pop();t.oldDistData.length>a?t.oldDistData.splice(a,1,e):t.oldDistData.push(e)},manageDistData:function(t,e){for(var a=e,i=t.oldDistData[a][2],s=[],n=0;n<=8;n++){for(var r=[],o=0;o<i.length;o++){var c=[];c.push(i[o][1]),c.push(i[o][2][n][1]),r.push(c)}s.push(r)}for(var l=1;l<s.length;l++)for(var h=0;h<s[l-1].length;h++)s[l][h].push(s[l-1][h][1]);var d=[t.oldDistData[a][0],t.oldDistData[a][1],s,t.oldDistData[a][3],a];e>=t.distData?(t.distData.push(d),t.distCheckedArray.push(!1)):t.distData.splice(a,1,d)},clearHistData:function(t){t.oldHistData=[],t.histData=[],t.histCheckedArray=[]},clearDistData:function(t){t.oldDistData=[],t.distData=[],t.distCheckedArray=[]},storeHistData:function(t,e){var a=e.pop();t.oldHistData.length>a?t.oldHistData.splice(a,1,e):t.oldHistData.push(e)},manageHistData:function(t,e){for(var a,i=[],s=e.index,n=e.index+e.length;s<n;s++){for(var r=t.oldHistData[s][2],o=[],c=1e3,l=-1e3,h=0;h<r.length;h++)c>r[h][2]&&(c=r[h][2]),l<r[h][3]&&(l=r[h][3]);for(var d=(l-c)/t.binNum,u=0;u<r.length;u++){var g=r[u][4];g[0][0]=g[0][1]-d/2,g[g.length-1][1]=g[g.length-1][0]+d/2;var p=[],f=c,_=f,m=0;p.push([c-d/2,0,r[u][1]]);for(var v=0;v<t.binNum;v++){_=(f=_)+d;for(var y=0;m<g.length-1&&!(_<g[m][0]);m++){var x=Math.max(f,g[m][0]),C=g[m][1]-g[m][0];if(_<=g[m][1]){0!==C&&(y+=(_-x)/C*g[m][2]);break}0!==C&&(y+=(g[m][1]-x)/C*g[m][2])}p.push([(f+_)/2,y,r[u][1]])}p.push([l+d/2,0,r[u][1]]),o.push(p)}i.push([t.oldHistData[s][0],t.oldHistData[s][1],o,t.oldHistData[s][3],s])}e.index>=t.histData.length?(t.histCheckedArray.push(!1),t.histData.push(i[0])):(a=t.histData).splice.apply(a,[e.index,e.length].concat(i))},setBinNum:function(t,e){t.binNum=e},setDataSetsState:function(t,e){t.dataSetsState=e},setHistShow:function(t,e){t.histShow=e},setDistShow:function(t,e){t.distShow=e},setStatisticInfo:function(t,e){t.statisticInfo=e},setHistCheckedArray:function(t,e){t.histCheckedArray[e.idx]=e.value},setDistCheckedArray:function(t,e){t.distCheckedArray[e.idx]=e.value},setErrorMessage:function(t,e){t.errorMessage=e},setFreshFlag:function(t,e){t.freshFlag=e},setDownLoadArray:function(t,e){if(e[0])t.downLoadArray.push(e[1]);else{var a=t.downLoadArray.indexOf(e[1]);-1!==a&&t.downLoadArray.splice(a,1)}},setFeatchHistDataFinished:function(t,e){t.featchHistDataFinished=e},setFeatchDistDataFinished:function(t,e){t.featchDistDataFinished=e},setUpdateFlag:function(t){t.updateFlag=!t.updateFlag}}},X=a("mvHQ"),$=a.n(X),tt=a("BO1k"),et=a.n(tt),at={namespaced:!0,state:{initshowrun:{},categoryInfo:"",detailData:{},clickState:!1,smoothvalue:0,yaxis:"linear",checkeditem:{},mergeditem:{},startmerged:!1,endmerged:!1,mergestep:0,backstep:0,checkedorder:[],mergednumber:0,backednumber:[],cleancheck:!1,totaltag:{},freshInfo:{},freshnumber:0,errorMessage:"",downLoadArray:[],grade:{},checked:{},mergedorder:{},showFlag:{},subisshow:{},IntervalChange:!1},getters:{initshowrun:function(t){return t.initshowrun},smoothvalue:function(t){return t.smoothvalue},categoryInfo:function(t){return t.categoryInfo},detailData:function(t){return t.detailData},yaxis:function(t){return t.yaxis},checkeditem:function(t){return t.checkeditem},mergeditem:function(t){return t.mergeditem},startmerged:function(t){return t.startmerged},endmerged:function(t){return t.endmerged},mergestep:function(t){return t.mergestep},backstep:function(t){return t.backstep},checkedorder:function(t){return t.checkedorder},mergednumber:function(t){return t.mergednumber},backednumber:function(t){return t.backednumber},cleancheck:function(t){return t.cleancheck},getTotaltag:function(t){return t.totaltag},getFreshInfo:function(t){return t.freshInfo},getErrorMessage:function(t){return t.errorMessage},freshnumber:function(t){return t.freshnumber},getDownLoadArray:function(t){return t.downLoadArray},grade:function(t){return t.grade},checked:function(t){return t.checked},mergedorder:function(t){return t.mergedorder},showFlag:function(t){return t.showFlag},subisshow:function(t){return t.subisshow},getIntervalChange:function(t){return t.IntervalChange}},actions:{getSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){var s,n,r,o;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(s={},n={},r=function(t){F()(e[1][t]).forEach(function(a){s[a]=[],a in n||(n[a]={}),n[a][e[0][t]]=!0})},o=0;o<e[1].length;o++)r(o);t.commit("setinitshowrun",n),t.commit("setSelfCategoryInfo",e),t.commit("setInitDetailDataInfo",s),e[2].initStateFlag&&t.commit("setfreshnumber");case 8:case"end":return a.stop()}},i,a)}))()},getIntervalSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.commit("setIntervalSelfCategoryInfo",e);case 1:case"end":return a.stop()}},i,a)}))()},getData:function(t,e){var a=this;return W()(N.a.mark(function i(){var s,n,r;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:s=0;case 1:if(!(s<e[1].length)){i.next=12;break}n=N.a.mark(function i(n){var r;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(F()(t.state.categoryInfo[1][n]).indexOf(e[0])>-1)){a.next=5;break}if(!(t.state.categoryInfo[1][n][e[0]].indexOf(e[1][s])>-1)){a.next=5;break}return r={run:t.state.categoryInfo[0][n],tag:e[1][s]},a.next=5,J.useGet(V.category.scalar,r).then(function(a){200==+a.data.code?t.commit("setDetailData",[e[0],{run:t.state.categoryInfo[0][n],value:a.data.data}]):t.commit("setErrorMessage",a.data.msg+"_"+(new Date).getTime())});case 5:case"end":return a.stop()}},i,a)}),r=0;case 4:if(!(r<t.state.categoryInfo[0].length)){i.next=9;break}return i.delegateYield(n(r),"t0",6);case 6:r++,i.next=4;break;case 9:s++,i.next=1;break;case 12:case"end":return i.stop()}},i,a)}))()}},mutations:{setIntervalSelfCategoryInfo:function(t,e){if(F()(t.detailData).length<e[0].length)for(var a=0;a<e[1].length;a++){var i=!0,s=!1,n=void 0;try{for(var r,o=et()(F()(e[1][a]));!(i=(r=o.next()).done);i=!0){var c=r.value;-1==F()(t.detailData).indexOf(c)&&(t.detailData[c]=[])}}catch(t){s=!0,n=t}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}}for(var l=!(F()(t.initshowrun).length>0),h=0;h<e[0].length;h++)for(var d=F()(e[1][h]),u=0;u<d.length;u++)d[u]in t.initshowrun?e[0][h]in t.initshowrun[d[u]]||(t.initshowrun[d[u]][e[0][h]]=l):(t.initshowrun[d[u]]={},t.initshowrun[d[u]][e[0][h]]=l);t.categoryInfo=e,t.freshnumber+=1},setinitshowrun:function(t,e){t.initshowrun=e},setSelfCategoryInfo:function(t,e){t.categoryInfo=e},setInitDetailDataInfo:function(t,e){t.detailData=e},setDetailData:function(t,e){var a=[];for(var i in e[1].value)a.push(i+"-"+e[1].run);var s=[],n=[];for(var r in t.detailData[e[0]])for(var o in t.detailData[e[0]][r].value)s.push(o+"-"+t.detailData[e[0]][r].run),n.push(r);for(var c=0;c<a.length;c++)-1!=s.indexOf(a[c])?t.detailData[e[0]][n[s.indexOf(a[c])]].value=e[1].value:t.detailData[e[0]].push(e[1])},setClickState:function(t,e){t.clickState=e},setFreshInfo:function(t,e){t.freshInfo[e[0]]=e[1]},setfreshnumber:function(t){t.freshnumber+=1},setErrorMessage:function(t,e){t.errorMessage=e},setsmoothvalue:function(t,e){t.smoothvalue=e},setyaxis:function(t,e){t.yaxis=e},setcheckeditem:function(t,e){t.checkeditem.hasOwnProperty(e[0])||(t.checkeditem[e[0]]=[]),-1===$()(t.checkeditem[e[0]]).indexOf($()(e[1]))&&t.checkeditem[e[0]].push(e[1])},deletecheckeditem:function(t,e){if(1===t.checkeditem[e[0]].length)delete t.checkeditem[e[0]];else{var a=$()(t.checkeditem[e[0]]).indexOf($()(e[1]));a>-1&&t.checkeditem[e[0]].splice(a,1)}},merge:function(t){t.mergeditem[t.checkedorder[0]]=t.checkeditem,!0===t.startmerged&&(t.startmerged=!1),t.startmerged=!0},reducemergeditem:function(t,e){delete t.mergeditem[e]},back:function(t){t.startmerged=!1,!0===t.endmerged&&(t.endmerged=!1),t.endmerged=!0,t.mergestep=0},setmergestep:function(t){t.mergestep=t.mergestep+1},addcheckedorder:function(t,e){!0===t.endmerged&&(t.endmerged=!1),-1===t.checkedorder.indexOf(e)&&t.checkedorder.push(e)},reducecheckedorder:function(t,e){var a=t.checkedorder.indexOf(e);a>-1&&t.checkedorder.splice(a,1)},setdatainit:function(t){t.checkeditem=[];for(var e=0;e<t.checkedorder.length;e++)t.downLoadArray.pop();t.checkedorder=[],t.mergestep=0,t.startmerged=!1,t.mergednumber=t.mergednumber+1},addbackednumber:function(t,e){!0===t.endmerged&&(t.endmerged=!1),-1===t.backednumber.indexOf(e)&&t.backednumber.push(e)},reducebackednumber:function(t,e){var a=t.backednumber.indexOf(e);a>-1&&t.backednumber.splice(a,1)},setTotaltag:function(t,e){t.totaltag=e},setDownLoadArray:function(t,e){-1===t.downLoadArray.indexOf(e)&&t.downLoadArray.push(e)},deleteDownLoadArray:function(t,e){var a=t.downLoadArray.indexOf(e);a>-1&&t.downLoadArray.splice(a,1)},setmergedorder:function(t,e){t.mergedorder[e[0]]=e[1]},setgrade:function(t,e){t.grade[e[0]]=e[1]},setchecked:function(t,e){t.checked[e[0]]=e[1]},setshowFlag:function(t,e){t.showFlag[e[0]]=e[1]},setsubisshow:function(t,e){t.subisshow[e[0]]=e[1]}}},it=a("pFYg"),st=a.n(it),nt={namespaced:!0,state:{categoryInfo:"",detailData:"",clickState:!1,showrun:{},totaltag:"",freshInfo:{},errorMessage:"",showFlag:{firstTime:!0},IntervalChange:!1},getters:{categoryInfo:function(t){return t.categoryInfo},detailData:function(t){return t.detailData},showrun:function(t){return t.showrun},getTotaltag:function(t){return t.totaltag},getFreshInfo:function(t){return t.freshInfo},getErrorMessage:function(t){return t.errorMessage},getShowFlag:function(t){return t.showFlag},getIntervalChange:function(t){return t.IntervalChange}},actions:{getSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){var s,n;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(s={},n=0;n<e[1].length;n++)F()(e[1][n]).forEach(function(t){s[t]=[]});t.commit("setSelfCategoryInfo",e),t.commit("setInitDetailDataInfo",s),e[2].initStateFlag&&("object"===st()(e[1])||e[1][0]);case 5:case"end":return a.stop()}},i,a)}))()},getIntervalSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){var s,n;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(s={},n=0;n<e[1].length;n++)F()(e[1][n]).forEach(function(t){s[t]=[]});t.commit("setSelfCategoryInfo",e),t.commit("setIntervalDetailDataInfo",s);case 4:case"end":return a.stop()}},i,a)}))()},getData:function(t,e){var a=this;return W()(N.a.mark(function i(){var s,n,r;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:s=0;case 1:if(!(s<e[1].length)){i.next=12;break}n=N.a.mark(function i(n){var r;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(F()(t.state.categoryInfo[1][n]).indexOf(e[0])>-1)){a.next=5;break}if(!(t.state.categoryInfo[1][n][e[0]].indexOf(e[1][s])>-1)){a.next=5;break}return r={run:t.state.categoryInfo[0][n],tag:e[1][s]},a.next=5,J.useGet(V.category[e[0]],r).then(function(a){200==+a.data.code?t.commit("setDetailData",[e[0],{run:t.state.categoryInfo[0][n],value:a.data.data,port:V.category[e[0]],parameter:r}]):t.commit("setErrorMessage",a.data.msg+"_"+(new Date).getTime())});case 5:case"end":return a.stop()}},i,a)}),r=0;case 4:if(!(r<t.state.categoryInfo[0].length)){i.next=9;break}return i.delegateYield(n(r),"t0",6);case 6:r++,i.next=4;break;case 9:s++,i.next=1;break;case 12:case"end":return i.stop()}},i,a)}))()}},mutations:{setShowFlag:function(t,e){t.showFlag[e[0]]=e[1]},setSelfCategoryInfo:function(t,e){t.categoryInfo=e},setInitDetailDataInfo:function(t,e){t.detailData=e},setIntervalDetailDataInfo:function(t,e){""==t.detailData?t.detailData=e:F()(e).forEach(function(e){-1==F()(t.detailData).indexOf(e)&&(t.detailData[e]=[])})},setDetailData:function(t,e){var a=[];for(var i in e[1].value)a.push(i+"-"+e[1].run);var s=[],n=[];for(var r in t.detailData[e[0]])for(var o in t.detailData[e[0]][r].value)s.push(o+"-"+t.detailData[e[0]][r].run),n.push(r);for(var c=0;c<a.length;c++)-1!=s.indexOf(a[c])?t.detailData[e[0]][n[s.indexOf(a[c])]].value=e[1].value:t.detailData[e[0]].push(e[1])},setClickState:function(t,e){t.clickState=e},setshowrun:function(t,e){for(var a=0;a<t.categoryInfo[0].length;a++)e.indexOf(t.categoryInfo[0][a])>-1?t.showrun[t.categoryInfo[0][a]]=!0:t.showrun[t.categoryInfo[0][a]]=!1},setTotaltag:function(t,e){t.totaltag=e},setFreshInfo:function(t,e){t.freshInfo[e[0]]=e[1]},setErrorMessage:function(t,e){t.errorMessage=e}}},rt={copy:[0],sInitState:0,srcData:[],graphData:"",runName:[],tagName:[],retList:"",clear:0,info:"",reg:"",run:0,hidden_:0,pre:0,clickDel:[],modifyClick:"",curTag:"",runChangeTag:!1,isDrawing:!1,list:[]},ot={getSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.commit("setSelgCategoryInfo",e);case 1:case"end":return a.stop()}},i,a)}))()},getIntervalSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.commit("setIntervalSelgCategoryInfo",e);case 1:case"end":return a.stop()}},i,a)}))()},getFullData:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.run){a.next=2;break}return a.abrupt("return");case 2:rt.sInitState=0,"c_graph"===e.tag?J.useGet(V.category.graph,e).then(function(e){var a=JSON.parse(e.data.data);t.commit("setGraphData",a.net),t.commit("setRetList",a.operator)}):J.useGet(V.category.graph,e).then(function(e){var a=JSON.parse(e.data.data);t.commit("setSrcData",a.net),t.commit("setGraphData",a.net[0]),t.commit("setOptionList",a.net.length),t.commit("setRetList",a.operator)});case 4:case"end":return a.stop()}},i,a)}))()}},ct={namespaced:!0,state:rt,getters:{getGraphData:function(t){return t.graphData},getRetList:function(t){return t.retList},getReg:function(t){return t.reg},getClear:function(t){return t.clear},getInfo:function(t){return t.info},getHidden:function(t){return t.hidden_},getRun:function(t){return t.run},getPre:function(t){return t.pre},getClick:function(t){return t.clickDel},getModifyClick:function(t){return t.modifyClick},getRunName:function(t){return t.runName},getTagName:function(t){return t.tagName},getCurTag:function(t){return t.curTag},getRunChangeTag:function(t){return t.runChangeTag},getIsDrawing:function(t){return t.isDrawing},getSList:function(t){return t.list},getInitOption:function(t){return t.sInitState}},actions:ot,mutations:{setOptionList:function(t,e){for(var a=[],i=0;i<e;i+=1){var s={};s.value=i,s.label="结构图"+i,a.push(s)}t.list=a},setSrcData:function(t,e){t.srcData=e},setSelgCategoryInfo:function(t,e){t.runName=e[0],t.tagName=e[1],t.curTag=t.tagName[0][0]},setIntervalSelgCategoryInfo:function(t,e){t.runName=e[0],t.tagName=e[1]},setGraphData:function(t,e){t.graphData=e,t.copy[0]=e},setRetList:function(t,e){t.retList=e},Clear:function(t){t.clear+=1},getNodeInfo:function(t,e){t.info=e},regularEx:function(t,e){t.reg=e},Run:function(t){t.run+=1},Hidden:function(t){t.hidden_+=1},Pre:function(t){t.pre+=1},getClickDel:function(t,e){t.clickDel=e},Modify:function(t,e){t.modifyClick=e},setCurTag:function(t,e){t.curTag=e},setRunChangeTag:function(t,e){t.runChangeTag=e},setIsDrawing:function(t,e){t.isDrawing=e},setData:function(t,e){"s_graph"===t.curTag?(t.graphData=t.srcData[e],t.copy[0]=t.srcData[e],t.sInitState=e):"c_graph"===t.curTag&&(t.copy[0]=t.graphData)}}},lt=a("woOf"),ht=a.n(lt),dt={namespaced:!0,state:{categoryInfo:"",detailData:"",clickState:!1,scalarData:{},scalar:{},scalarmid:{},audioData:[],imageData:[],textData:[],statisticData:[],audio:[],text:[],image:[],statistic:[],statisticMode:"三维",statisticShowNumber:30,lastRouter:-1},getters:{getAudioData:function(t){return t.audioData},getAudio:function(t){return t.audio},getTextData:function(t){return t.textData},getText:function(t){return t.text},getImageData:function(t){return t.imageData},getImage:function(t){return t.image},getScalarData:function(t){return t.scalarData},getScalar:function(t){return t.scalar},getStatisticData:function(t){return t.statisticData},getStatisticMode:function(t){return t.statisticMode},getStatisticShowNumber:function(t){return t.statisticShowNumber}},actions:{getSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,a)}))()},getIntervalSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,a)}))()},getData:function(t,e){var a=this;return W()(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,a)}))()},dynamicGetData:function(t){var e=this;return W()(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,e)}))()},getScalarDataInterval:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.useGet(V.category.scalar,e).then(function(a){200==+a.data.code?t.commit("setScalarDataInterval",[e.run,e.tag,a.data.data]):t.commit("setErrorMessage",a.data.msg+"_"+(new Date).getTime())});case 2:case"end":return a.stop()}},i,a)}))()},getAudioDataInterval:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.useGet(e[1].content.port,e[1].content.parameter).then(function(a){200==+a.data.code?t.commit("setAudioDataInterval",[e[0],e[1],a.data.data]):t.commit("setErrorMessage",a.data.msg+"_"+(new Date).getTime())});case 2:case"end":return a.stop()}},i,a)}))()},getImageDataInterval:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.useGet(e[1].content.port,e[1].content.parameter).then(function(a){200==+a.data.code?t.commit("setImageDataInterval",[e[0],e[1],a.data.data]):t.commit("setErrorMessage",a.data.msg+"_"+(new Date).getTime())});case 2:case"end":return a.stop()}},i,a)}))()},getTextDataInterval:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.useGet(e[1].content.port,e[1].content.parameter).then(function(a){200==+a.data.code?t.commit("setTextDataInterval",[e[0],e[1],a.data.data]):t.commit("setErrorMessage",a.data.msg+"_"+(new Date).getTime())});case 2:case"end":return a.stop()}},i,a)}))()},getHistDataInterval:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.useGet(V.category.histogram,{run:e.run,tag:e.tag}).then(function(a){200===Number(a.data.code)?t.commit("manageHistData",{data:a.data.data[e.tag],index:e.index}):t.commit("setErrorMessage",e.run+","+e.tag+","+a.data.msg)});case 2:case"end":return a.stop()}},i,a)}))()},getDistDataInterval:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.useGet(V.category.distribution,{run:e.run,tag:e.tag}).then(function(a){200===Number(a.data.code)?t.commit("manageDistData",{data:a.data.data[e.tag],index:e.index}):t.commit("setErrorMessage",e.run+","+e.tag+","+a.data.msg)});case 2:case"end":return a.stop()}},i,a)}))()},getStatisticDataInterval:function(t,e){var a=this;return W()(N.a.mark(function i(){var s;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:s={run:e[1].ttlabel,tag:e[1].tag,index:e[0]},"threed"===e[1].componentName||"orthographic"===e[1].componentName?t.dispatch("getHistDataInterval",s):t.dispatch("getDistDataInterval",s);case 2:case"end":return a.stop()}},i,a)}))()}},mutations:{setSelfCategoryInfo:function(t,e){t.categoryInfo=e},setInitDetailDataInfo:function(t,e){t.detailData=e},setDetailData:function(t,e){t.detailData.push(e)},setClickState:function(t,e){t.clickState=e},setScalarDataInterval:function(t,e){var a=e[0]+" "+e[1];t.scalarData[a].value=e[2],t.scalar[a]=e[2]},setAudioDataInterval:function(t,e){e[1].content.value=e[2],t.audio[e[0]]=e[1]},setImageDataInterval:function(t,e){e[1].content.value=e[2],t.image[e[0]]=e[1]},setTextDataInterval:function(t,e){e[1].content.value=e[2],t.text[e[0]]=e[1]},setAudioData:function(t,e){for(var a=e.content.run+"/"+F()(e.content.value)[0],i=!0,s=0;s<t.audio.length;s+=1)if(a===t.audio[s].stringIndex){i=!1,t.audio.splice(s,1),e.copyToData&&(t.audioData=JSON.parse($()(t.audio)));break}i&&t.audio.push({stringIndex:a,checked:e.checked,content:e.content})},setTextData:function(t,e){for(var a=e.content.run+"/"+F()(e.content.value)[0],i=!0,s=0;s<t.text.length;s+=1)if(a===t.text[s].stringIndex){i=!1,t.text.splice(s,1),e.copyToData&&(t.textData=JSON.parse($()(t.text)));break}i&&t.text.push({stringIndex:a,checked:e.checked,content:e.content})},setImageData:function(t,e){for(var a=e.content.run+"/"+F()(e.content.value)[0],i=!0,s=0;s<t.image.length;s+=1)if(a===t.image[s].stringIndex){i=!1,t.image.splice(s,1),e.copyToData&&(t.imageData=JSON.parse($()(t.image)));break}i&&t.image.push({stringIndex:a,checked:e.checked,content:e.content})},setStatisticData:function(t,e){for(var a=-1,i=0;i<t.statistic.length;i+=1)if(t.statistic[i].ttlabel===e.ttlabel&&t.statistic[i].tag===e.tag&&(t.statistic[i].componentName===e.componentName||"threed"===e.componentName||"orthographic"===e.componentName)){e.delete?(t.statistic.splice(i,1),t.statisticData=t.statistic):t.statistic.splice(i,1),t.statisticData.length||(t.statisticMode="三维",t.statisticShowNumber=10),a=1;break}-1===a&&(e.itemp<1e3&&(e.itemp=1e3+e.itemp),e.divId="custom"+e.componentName+e.itemp,"三维"===t.statisticMode&&"orthographic"===e.componentName?e.componentName="threed":"二维"===t.statisticMode&&"threed"===e.componentName&&(e.componentName="orthographic"),t.statistic.push(e))},setData:function(t,e){switch(e){case"scalar":ht()(t.scalarmid,JSON.parse($()(t.scalar))),ht()(t.scalarData,JSON.parse($()(t.scalar))),t.scalar={};break;case"media":t.imageData=JSON.parse($()(t.image)),t.audioData=JSON.parse($()(t.audio)),t.textData=JSON.parse($()(t.text));break;case"statistic":t.statisticData=JSON.parse($()(t.statistic));break;case"custom":t.imageData=JSON.parse($()(t.image)),t.audioData=JSON.parse($()(t.audio)),t.textData=JSON.parse($()(t.text)),t.statisticData=JSON.parse($()(t.statistic))}},setRouter:function(t,e){e},setStatisticMode:function(t,e){if(t.statisticMode=e,"三维"===e)for(var a=0;a<t.statistic.length;a+=1)"orthographic"===t.statistic[a].componentName&&(t.statistic[a].componentName="threed");else for(var i=0;i<t.statistic.length;i+=1)"threed"===t.statistic[i].componentName&&(t.statistic[i].componentName="orthographic");t.statisticData=JSON.parse($()(t.statistic))},setStatisticShowNumber:function(t,e){t.statisticShowNumber=e},setScalar:function(t,e){t.scalar[e[0]]=e[1]},deleteScalar:function(t,e){delete t.scalar[e]},deleteScalarData:function(t,e){delete t.scalarmid[e],t.scalarData=JSON.parse($()(t.scalarmid))},cleanScalar:function(t){t.scalar={}},manageDistData:function(t,e){for(var a=e.data,i=[],s=0;s<=8;s++){for(var n=[],r=0;r<a.length;r++){var o=[];o.push(a[r][1]),o.push(a[r][2][s][1]),n.push(o)}i.push(n)}for(var c=1;c<i.length;c++)for(var l=0;l<i[c-1].length;l++)i[c][l].push(i[c-1][l][1]);var h=JSON.parse($()(t.statisticData[e.index]));h.data=i,t.statisticData.splice(e.index,1,h)},manageHistData:function(t,e){for(var a=e.data,i=[],s=1e3,n=-1e3,r=0;r<a.length;r++)s>a[r][2]&&(s=a[r][2]),n<a[r][3]&&(n=a[r][3]);for(var o=(n-s)/30,c=0;c<a.length;c++){var l=a[c][4];l[0][0]=l[0][1]-o/2,l[l.length-1][1]=l[l.length-1][0]+o/2;var h=[],d=s,u=d,g=0;h.push([s-o/2,0,a[c][1]]);for(var p=0;p<30;p++){u=(d=u)+o;for(var f=0;g<l.length-1&&!(u<l[g][0]);g++){var _=Math.max(d,l[g][0]),m=l[g][1]-l[g][0];if(u<=l[g][1]){0!==m&&(f+=(u-_)/m*l[g][2]);break}0!==m&&(f+=(l[g][1]-_)/m*l[g][2])}h.push([(d+u)/2,f,a[c][1]])}h.push([n+o/2,0,a[c][1]]),i.push(h)}var v=JSON.parse($()(t.statisticData[e.index]));v.data=i,t.statisticData.splice(e.index,1,v)}}},ut=a("lHA8"),gt=a.n(ut);function pt(t){var e=new Date(1e3*t).toLocaleString("en-GB",{hour12:!1}).split("/");return e[2].split(",")[0]+"/"+e[1]+"/"+e[0]+e[2].split(",")[1]}var ft={categoryInfo:{curRuns:[],curTags:[],initFlag:!1,received:!1},questionInfo:{received:!1},curInfo:{curTag:"",curStep:0,curMapStep:0,curMethod:"PCA",curDim:"3维",received:!1},curData:{data:[],label:[],labelType:[],labelTypeColor:{},echaLabelNumber:{},received:!1},checkLabels:[],receivedCategoryInfo:!1,receivedQuestionInfo:!1,receivedCurInfo:!1,receivedCurData:!1,legendColor:["#EF6F38","#EFDD79","#C5507A","#9359B0","#525C99","#47C1D6","#B5D4E8","#15746C","#81c19c","#A08983"],panelSampleData:{type:"",url:""},message:"",initStateFlag:!1,errorMessage:"",lineWidth:.4,IntervalChange:!1},_t={getSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.commit("setSelfCategoryInfo",e),!0===e[2].initStateFlag&&t.dispatch("fetchOneStep",t.state.categoryInfo.curRuns[0]);case 2:case"end":return a.stop()}},i,a)}))()},getIntervalSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.commit("setIntervalSelfCategoryInfo",e);case 1:case"end":return a.stop()}},i,a)}))()},fetchOneStep:function(t,e){var a=this;return W()(N.a.mark(function i(){var s,n,r;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:ft.questionInfo.received=!1,ft.receivedQuestionInfo=!1,ft.receivedCurInfo=!1,s={data:[],index:0},void 0==e&&(e=t.state.categoryInfo.curRuns[0]),n=N.a.mark(function i(n){var r,o,c,l,h,d,u;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(r=[],e!=t.state.categoryInfo.curRuns[n]){i.next=13;break}o=N.a.mark(function e(i){var s;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={run:t.state.categoryInfo.curRuns[n],tag:t.state.categoryInfo.curTags[n][i]},e.next=3,J.useGet(V.category.projector,s).then(function(e){if(200==+e.data.code){var a=e.data.data[t.state.categoryInfo.curTags[n][i]],s=e.data.data.shape,o=e.data.data.sample,c=e.data.data.sample_type;r.push([a,s,o,c])}else t.commit("setErrorMessage",e.data.msg+"_"+(new Date).getTime())});case 3:case"end":return e.stop()}},e,a)}),c=0;case 4:if(!(c<t.state.categoryInfo.curTags[n].length)){i.next=9;break}return i.delegateYield(o(c),"t0",6);case 6:c++,i.next=4;break;case 9:s.data.push(r),s.index=n,i.next=19;break;case 13:l=[],h=[],d=[],u=[],r.push([l,h,d,u]),s.data.push(r);case 19:case"end":return i.stop()}},i,a)}),r=0;case 7:if(!(r<t.state.categoryInfo.curRuns.length)){i.next=12;break}return i.delegateYield(n(r),"t0",9);case 9:r++,i.next=7;break;case 12:t.commit("setOneStep",s);case 13:case"end":return i.stop()}},i,a)}))()},fetchAllStep:function(t){var e=this;return W()(N.a.mark(function a(){var i,s,n;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i=[],s=N.a.mark(function a(s){var n,r,o;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=[],r=N.a.mark(function a(i){var r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={run:t.state.categoryInfo.curRuns[s],tag:t.state.categoryInfo.curTags[s][i]},e.next=3,J.useGet(V.category.projector,r).then(function(e){if(200==+e.data.code){var a=e.data.data[t.state.categoryInfo.curTags[s][i]],r=e.data.data.shape,o=e.data.data.sample,c=e.data.data.sample_type;n.push([a,r,o,c])}else t.commit("setErrorMessage",e.data.msg+"_"+(new Date).getTime())});case 3:case"end":return e.stop()}},a,e)}),o=0;case 3:if(!(o<t.state.categoryInfo.curTags[s].length)){a.next=8;break}return a.delegateYield(r(o),"t0",5);case 5:o++,a.next=3;break;case 8:i.push(n);case 9:case"end":return a.stop()}},a,e)}),n=0;case 3:if(!(n<t.state.categoryInfo.curRuns.length)){a.next=8;break}return a.delegateYield(s(n),"t0",5);case 5:n++,a.next=3;break;case 8:t.commit("setAllStep",i);case 9:case"end":return a.stop()}},a,e)}))()},featchData:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.useGet(V.category.projector_data,e).then(function(a){200==+a.data.code?(t.commit("setCurData",a.data.data[e.step]),t.commit("setCurInfo",["received",!0])):t.commit("setErrorMessage",a.data.msg+"_"+(new Date).getTime())});case 2:case"end":return a.stop()}},i,a)}))()},fetchSampleData:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return void 0,i=e.split("?")[1],e=i?JSON.parse('{"'+decodeURIComponent(i).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/\+/g," ")+'"}'):{},a.next=3,J.useGet(V.category.projector_sample,e).then(function(e){200==+e.data.code?t.commit("setPanelSampleData",["sampData",e.data.data]):t.commit("setErrorMessage",e.data.msg+"_"+(new Date).getTime())});case 3:case"end":return a.stop()}var i},i,a)}))()}},mt={namespaced:!0,state:ft,getters:{getCurInfo:function(t){return t.curInfo},getCategoryInfo:function(t){return t.categoryInfo},getQuestionInfo:function(t){return t.questionInfo},getReceivedCategoryInfo:function(t){return t.receivedCategoryInfo},getReceivedQuestionInfo:function(t){return t.receivedQuestionInfo},getReceivedCurInfo:function(t){return t.receivedCurInfo},getReceivedCurData:function(t){return t.receivedCurData},getCurData:function(t){return t.curData},getCheckLabels:function(t){return t.checkLabels},getLegendColor:function(t){return t.legendColor},getPanelSampleData:function(t){return t.panelSampleData},getMessage:function(t){return t.message},getInitStateFlag:function(t){return t.initStateFlag},getErrorMessage:function(t){return t.errorMessage},getLineWidth:function(t){return t.lineWidth},getIntervalChange:function(t){return t.IntervalChange}},actions:_t,mutations:{setIntervalSelfCategoryInfo:function(t,e){t.categoryInfo.curRuns=e[0].slice(0),t.categoryInfo.curTags=e[1].slice(0),t.IntervalChange=!t.IntervalChange,void 0==t.curInfo.curRun&&(t.curInfo.curRun=t.categoryInfo.curRuns[0],t.curInfo.curTags=t.categoryInfo.curTags[0],t.curInfo.curTag=t.categoryInfo.curTags[0][0],t.curInfo.curStep=0,t.curInfo.curMapStep=0,t.categoryInfo.received=!0,t.receivedCategoryInfo=!0)},setSelfCategoryInfo:function(t,e){t.categoryInfo.curRuns=e[0].slice(0),t.categoryInfo.curTags=e[1].slice(0),t.categoryInfo.initFlag=e[2].initStateFlag;for(var a=0;a<t.categoryInfo.curRuns.length;a++){t.questionInfo[t.categoryInfo.curRuns[a]]={};for(var i=0;i<t.categoryInfo.curTags[a].length;i++)t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][i]]={}}t.curInfo.curRun=t.categoryInfo.curRuns[0],t.curInfo.curTags=t.categoryInfo.curTags[0],t.curInfo.curTag=t.categoryInfo.curTags[0][0],t.curInfo.curStep=0,t.curInfo.curMapStep=0,t.categoryInfo.received=!0,t.receivedCategoryInfo=!0,t.initStateFlag=e[2].initStateFlag},setOneStep:function(t,e){var a=e.index,i=[];i=e.data;for(var s=0;s<t.categoryInfo.curTags[a].length;s++)t.questionInfo[t.categoryInfo.curRuns[a]]={},t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][s]]={},t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][s]].allSteps=i[a][s][0].slice(0),t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][s]].curMin=i[a][s][0][0],t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][s]].curMax=i[a][s][0].length-1,t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][s]].shape=i[a][s][1][1],t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][s]].sample=i[a][s][2],t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][s]].sample_type=i[a][s][3];t.questionInfo.received=!0,t.receivedQuestionInfo=!0,t.receivedCurInfo=!0},setAllStep:function(t,e){for(var a=0;a<t.categoryInfo.curRuns.length;a++)for(var i=0;i<t.categoryInfo.curTags[a].length;i++)t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][i]]={},t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][i]].allSteps=e[a][i][0],t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][i]].curMin=e[a][i][0][0],t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][i]].curMax=e[a][i][0].length-1,t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][i]].shape=e[a][i][1][1],t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][i]].sample=e[a][i][2],t.questionInfo[t.categoryInfo.curRuns[a]][t.categoryInfo.curTags[a][i]].sample_type=e[a][i][3];t.questionInfo.received=!0,t.receivedQuestionInfo=!0,t.receivedCurInfo=!0},setReceivedCategoryInfo:function(t,e){t.receivedCategoryInfo=e},setReceivedQuestionInfo:function(t,e){t.receivedquestionInfo=e},setReceivedCurInfo:function(t,e){t.receivedCurInfo=e},setReceivedCurData:function(t,e){t.receivedCurData=e},setPanelSampleData:function(t,e){t.panelSampleData.type=e[0],t.panelSampleData.url=e[1]},setMessage:function(t,e){t.message=e},setCurData:function(t,e){if(t.curData.data=e[0].slice(0),0==e[1].slice(0).length)for(var a=0;a<e[0].length;a++)e[1].push("NULL");t.curData.label=e[1].slice(0),t.curData.labelType=[],t.curData.echaLabelNumber={},t.curData.labelTypeColor={};for(var i=R()(new gt.a(e[1])).sort(function(t,e){return t<e?-1:t>e?1:0}),s=0;s<i.length&&s<10;s++)t.curData.labelType.push(i[s]+"");i.length>10&&(t.curData.labelType[9]="其他");for(var n=0;n<t.curData.labelType.length;n++)t.curData.labelTypeColor[t.curData.labelType[n]]=t.legendColor[n];for(var r=0;r<t.curData.labelType.length;r++)t.curData.echaLabelNumber[t.curData.labelType[r]]=0;for(var o=0;o<e[1].length;o++)-1!==t.curData.labelType.indexOf(e[1][o].toString())?t.curData.echaLabelNumber[e[1][o].toString()]++:t.curData.echaLabelNumber[t.curData.labelType[9]]++;t.receivedCurData=!t.receivedCurData},setCheckLabels:function(t,e){t.checkLabels=e},setCurInfo:function(t,e){"curTag"===e[0]?t.curInfo.curTag=e[1]:"curStep"===e[0]?t.curInfo.curStep=e[1]:"curMethod"===e[0]?t.curInfo.curMethod=e[1]:"curDim"===e[0]?t.curInfo.curDim=e[1]:"received"===e[0]?t.curInfo.received=e[1]:"curMapStep"===e[0]&&(t.curInfo.curMapStep=e[1])},setInitStateFlag:function(t,e){t.initStateFlag=e},setErrorMessage:function(t,e){t.errorMessage=e},setLineWidth:function(t,e){t.lineWidth=e}}},vt={namespaced:!0,state:{run:[],tag:[],initStateFlag:!1,allStep:[],allData:[],exceptionShow:!1,curRunTag:null,curNewData:[],curNewExcepBox:[],rectCurInfo:[],curIqrTimes:["","","",1.5,1.5],linkChecked:!1,excepBoxStatistic:[],errorMessage:"",dq0Show:!0,upDownValue:[0,0],oneDataTemp:[],successFlag:!1,updateFlag:!1,updateHistMatrixDataFlag:"run",fetchAllStepNotify:!0},getters:{getInitStateFlag:function(t){return t.initStateFlag},getRun:function(t){return t.run},getTag:function(t){return t.tag},getAllStep:function(t){return t.allStep},getAllData:function(t){return t.allData},getExceptionShow:function(t){return t.exceptionShow},getCurRunTag:function(t){return t.curRunTag},getCurNewData:function(t){return t.curNewData},getCurNewExcepBox:function(t){return t.curNewExcepBox},getRectCurInfo:function(t){return t.rectCurInfo},getCurIqrTimes:function(t){return t.curIqrTimes},getLinkChecked:function(t){return t.linkChecked},getExcepBoxStatistic:function(t){return t.excepBoxStatistic},getErrorMessage:function(t){return t.errorMessage},getDq0Show:function(t){return t.dq0Show},getUpDownValue:function(t){return t.upDownValue},getUpdateFlag:function(t){return t.updateFlag},getUpdateHistMatrixDataFlag:function(t){return t.updateHistMatrixDataFlag},getFetchAllStepNotify:function(t){return t.fetchAllStepNotify}},actions:{getSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){var s;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.commit("setSelfCategoryInfo",e),s={run:e[0][0],tag:e[1][0][0],index:0,step:""},t.commit("setCurRunTag",s),e[2].initStateFlag&&t.dispatch("fetchAllStep");case 4:case"end":return a.stop()}},i,a)}))()},getIntervalSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.commit("setIntervalSelfCategoryInfo",e);case 1:case"end":return a.stop()}},i,a)}))()},fetchAllStep:function(t){var e=this;return W()(N.a.mark(function a(){var i,s;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i={}).run=t.state.curRunTag.run,i.tag=t.state.curRunTag.tag,0!==t.state.run.length){e.next=6;break}return e.abrupt("return");case 6:return s=[],e.next=9,J.useGet(V.category.exception,i).then(function(e){200===Number(e.data.code)?s.push([i.run,i.tag,e.data.data[i.tag]]):t.commit("setErrorMessage",i.run+","+i.tag+","+e.data.msg)});case 9:if(""!==t.state.curRunTag.step&&-1!==s[0][2].step.indexOf(t.state.curRunTag.step)){e.next=15;break}return e.next=12,t.commit("setCurStep",s[0][2].step[0]);case 12:if("none"!==t.state.updateHistMatrixDataFlag){e.next=15;break}return e.next=15,t.commit("setUpdateHistMatrixDataFlag","step"+(new Date).getTime());case 15:t.commit("setAllStep",s),t.commit("setFetchAllStepNotify");case 17:case"end":return e.stop()}},a,e)}))()},fetchData:function(t){var e=this;return W()(N.a.mark(function a(){var i,s,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={run:t.state.curRunTag.run,tag:t.state.curRunTag.tag,step:t.state.curRunTag.step},s=[],n=!0,e.next=5,J.useGet(V.category.exception_data,i).then(function(e){if(200!==Number(e.data.code))return n=!1,void t.commit("setErrorMessage",i.run+","+i.tag+","+e.data.msg);s.push(i.run),s.push(i.tag),s.push(i.step);var a=e.data.data[i.step];if(!(a[4][0]instanceof Array)){var r=a[4];a[4]=[],a[4].push(r)}a[0][0]=a[4].length,a[0][1]=a[4][0].length,s.push(a)});case 5:if(!n){e.next=8;break}return e.next=8,J.useGet(V.category.exception_hist,i).then(function(e){if(200!==Number(e.data.code))return n=!1,void t.commit("setErrorMessage",i.run+","+i.tag+","+e.data.msg);s.push(e.data.data[i.step][0])});case 8:s.push(t.state.curRunTag.index),t.commit("setTempData",{data:s,flag:n});case 10:case"end":return e.stop()}},a,e)}))()},fetchAllData:function(t){var e=this;return W()(N.a.mark(function a(){var i;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.commit("setExceptionShow",!1),e.next=3,t.dispatch("fetchData");case 3:i=!0,t.state.successFlag||(t.state.oneDataTemp=[],i=!1),t.commit("setAllData",t.state.oneDataTemp),t.commit("setExceptionShow",i);case 7:case"end":return e.stop()}},a,e)}))()},fetchOneData:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.commit("setCurStep",e.step);case 2:return a.next=4,t.dispatch("fetchData");case 4:t.state.successFlag||(t.state.oneDataTemp=[]),t.commit("setOneData",t.state.oneDataTemp);case 6:case"end":return a.stop()}},i,a)}))()},fetchExcepBox:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.useGet(V.category.exception_box,e).then(function(a){200===Number(a.data.code)?t.commit("setExcepBox",[e.run,e.tag,a.data.data[e.step]]):t.commit("setErrorMessage",e.run+","+e.tag+","+a.data.msg)});case 2:case"end":return a.stop()}},i,a)}))()}},mutations:{setSelfCategoryInfo:function(t,e){t.run=e[0],t.tag=e[1],t.initStateFlag=e[2].initStateFlag,t.allData=[]},setInitStateFlag:function(t,e){t.initStateFlag=e},clearAllData:function(t){t.allData=[]},setAllStep:function(t,e){t.allStep=e},setAllData:function(t,e){var a=[];a.push(e),t.allData=a},setExceptionShow:function(t,e){t.exceptionShow=e},setOneData:function(t,e){t.curNewData=e;for(var a=2;a<=4;a++)t.allData[0][a]=e[a]},setExcepBox:function(t,e){t.curNewExcepBox=e},setAllStepBoxDown:function(t,e){t.allStep[e.index][2].box[e.step][0][4]=e.down},setAllStepBoxUp:function(t,e){t.allStep[e.index][2].box[e.step][0][0]=e.up},setCurRunTag:function(t,e){t.curRunTag=e},setRectCurInfo:function(t,e){t.rectCurInfo=e},setCurIqrTimes:function(t,e){e[3]=Number(e[3]),e[4]=Number(e[4]),t.curIqrTimes[0]===e[0]&&t.curIqrTimes[1]===e[1]&&t.curIqrTimes[2]===e[2]&&t.curIqrTimes[3]===e[3]&&t.curIqrTimes[4]===e[4]||(t.curIqrTimes=e)},setLinkChecked:function(t,e){t.linkChecked=e},setExcepBoxStatistic:function(t,e){t.excepBoxStatistic=e},setErrorMessage:function(t,e){t.errorMessage=e},setDq0Show:function(t,e){t.dq0Show=e},setUpDownValue:function(t,e){t.upDownValue=e},setTempData:function(t,e){t.oneDataTemp=e.data,t.successFlag=e.flag},setIntervalSelfCategoryInfo:function(t,e){t.run=e[0],t.tag=e[1],t.updateFlag=!t.updateFlag,null===t.curRunTag||-1===t.run.indexOf(t.curRunTag.run)||0===t.allStep.length?(t.curRunTag={run:t.run[0],tag:t.tag[0][0],index:0,step:""},t.updateHistMatrixDataFlag="run"+t.run[0]):-1===t.tag[t.curRunTag.index].indexOf(t.curRunTag.tag)?(t.curRunTag.tag=t.tag[t.curRunTag.index][0],t.updateHistMatrixDataFlag="tag"+t.curRunTag.tag):t.updateHistMatrixDataFlag="none"},setCurStep:function(t,e){t.curRunTag.step=e},setUpdateHistMatrixDataFlag:function(t,e){t.updateHistMatrixDataFlag=e},setFetchAllStepNotify:function(t){t.fetchAllStepNotify=!t.fetchAllStepNotify}}},yt=a("M4fF"),xt={namespaced:!0,state:{categoryInfo:[],allData:"",key:"",items:[],selected:"",focusData:[],globalSelectedDatas:"",axisType:{},globalChange:1,hypEmpty:!1,errorMessage:"",mainParams:[],axisParams:[],IntervalChange:!1},getters:{getCategoryInfo:function(t){return t.categoryInfo},getAllData:function(t){return t.allData},getKey:function(t){return t.key},getItems:function(t){return t.items},getSelected:function(t){return t.selected},getFocusData:function(t){return t.focusData},getGlobalSelectedDatas:function(t){return t.globalSelectedDatas},getAxisType:function(t){return t.axisType},getGlobalChange:function(t){return t.globalChange},getHypEmpty:function(t){return t.hypEmpty},getErrorMessage:function(t){return t.errorMessage},getMainParams:function(t){return t.mainParams},getAxisParms:function(t){return t.axisParams},getIntervalChange:function(t){return t.IntervalChange}},actions:{getSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.commit("setSelfCategoryInfo",e[2].initStateFlag),e[2].initStateFlag&&t.dispatch("featchAllData",{run:e[0][0]});case 2:case"end":return a.stop()}},i,a)}))()},getIntervalSelfCategoryInfo:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.commit("setIntervalSelfCategoryInfo",e);case 1:case"end":return a.stop()}},i,a)}))()},featchAllData:function(t,e){var a=this;return W()(N.a.mark(function i(){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:J.useGet(V.category.hyperparm,e).then(function(e){if(200==+e.data.code)t.commit("setAllData",e.data.data);else{t.commit("setAllData","null");var a=new Date;t.commit("setErrorMessage",e.data.msg+"_"+a.getTime())}});case 1:case"end":return a.stop()}},i,a)}))()}},mutations:{setIntervalSelfCategoryInfo:function(t,e){t.IntervalChange=!t.IntervalChange},setSelfCategoryInfo:function(t,e){t.categoryInfo=e},setAllData:function(t,e){if(t.key="",t.allData=[],t.items=[],t.globalSelectedDatas=[],t.focusData=[],t.hypEmpty=!1,"null"!==e){var a=[],i=e.hparamsInfo,s=i.length,n=new gt.a,r=new gt.a,o=e.metrics.length;if(0===e.metrics.length||e.metrics[0].value.length===s){for(var c=function(){var t=F()(i[l]),s={};i[l][t[0]].hparams.forEach(function(t){(Number(t.data)<=0||isNaN(Number(t.data))||Object(yt.isBoolean)(t.data)||Object(yt.isString)(t.data))&&r.add(t.name),Object(yt.isNumber)(t.data)||n.add(t.name),Object(yt.isNumber)(t.data)?s[t.name]=+t.data.toFixed(4):s[t.name]=String(t.data)});for(var c=0;c<o;c++){var h="metric/"+e.metrics[c].tag,d=e.metrics[c].value;Number(d[l])<=0&&r.add(h),Object(yt.isNumber)(d[0])||n.add(h),s[h]=+d[l].toFixed(4)}a.push(s)},l=0;l<s;l++)c();var h=F()(a[0]).sort(),d=[];a.forEach(function(t){var e={};h.forEach(function(a){e[a]=t[a]}),d.push(e)}),t.allData=d;var u=F()(d[0]).filter(function(t){return!r.has(t)}),g=F()(d[0]).filter(function(t){return!n.has(t)});t.axisParams=u,t.mainParams=g;var p={};u.forEach(function(t){p[t]="linear"}),t.axisType=p,t.selected=g[0],t.globalSelectedDatas=d}else t.errorMessage="超参数数据获取不完整"}},setSelected:function(t,e){t.selected=e},setFocusData:function(t,e){t.focusData=e},setGlobalSelectedDatas:function(t,e){t.globalSelectedDatas=e},setAxisType:function(t,e,a){t.axisType[a]=e,t.globalChange+=1},setHypEmpty:function(t,e){t.hypEmpty=e},setErrorMessage:function(t,e){t.errorMessage=e}}};i.default.use(o.b);var Ct=new o.b.Store({state:{},mutations:{},actions:{},modules:{layout:Q,statistic:Z,scalar:at,media:nt,graph:ct,custom:dt,embedding:mt,exception:vt,hyperparm:xt}}),Dt=a("zL8q"),wt=a.n(Dt),St=(a("tvR6"),a("7xIN"),a("/ocq")),bt=Object(o.a)("scalar"),Et=bt.mapMutations,It=bt.mapGetters,Mt=Object(o.a)("custom").mapMutations,kt=Object(o.a)("layout").mapGetters,Ot={props:{chartdata:Object,start:Boolean,end:Boolean,ytext:String,scaleLargeSmall:Boolean,classname:String,isaddmain:Boolean,title:String},data:function(){return{data:[],yname:[],mergeddata:[],mergeddata0:[],mergeddata1:[],mergetype:"",yname0:[],yname1:[],legendnumber:0,drawnumber:0,thisid:"",customcontent:{}}},computed:n()({},It(["smoothvalue","yaxis","mergeditem","checkedorder","freshnumber","grade"]),kt(["setDownloadSvgClass","getTimer"])),watch:{freshnumber:function(t){""===this.mergetype&&this.SvgDraw()},isaddmain:function(t){if(t){if("single"===this.mergetype){this.thisid="";for(var e=0;e<this.mergeddata.length;e++)this.thisid=this.thisid+this.mergeddata[e].run+this.mergeddata[e].tag;this.customcontent={title:this.title,mergetype:this.mergetype,legendnumber:this.legendnumber,value:this.mergeddata},this.setScalar([this.thisid,this.customcontent])}else if("double"===this.mergetype){this.thisid="";for(var a=0;a<this.mergeddata0.length;a++)this.thisid=this.thisid+this.mergeddata0[a].run+this.mergeddata0[a].tag;for(var i=0;i<this.mergeddata1.length;i++)this.thisid=this.thisid+this.mergeddata1[i].run+this.mergeddata1[i].tag;this.customcontent={title:this.title,mergetype:this.mergetype,legendnumber:this.legendnumber,value0:this.mergeddata0,value1:this.mergeddata1},this.setScalar([this.thisid,this.customcontent])}}else this.deleteScalar(this.thisid)},smoothvalue:function(){"main"===this.grade[this.classname]?"single"===this.mergetype?(r.B("#svg"+this.classname).remove(),this.MergeSvgDraw()):"double"===this.mergetype&&(r.B("#svg"+this.classname).remove(),this.DYMergeSvgDraw()):(r.B("#svg"+this.classname).remove(),this.SvgDraw())},yaxis:function(){"main"===this.grade[this.classname]?"single"===this.mergetype?(r.B("#svg"+this.classname).remove(),this.MergeSvgDraw()):"double"===this.mergetype&&(r.B("#svg"+this.classname).remove(),this.DYMergeSvgDraw()):(r.B("#svg"+this.classname).remove(),this.SvgDraw())},start:function(t){t&&(1===F()(this.mergeditem[this.classname]).length?(this.mergetype="single",this.legendnumber=this.checkedorder.length,this.mergeddata=[].concat(this.mergeditem[this.classname][F()(this.mergeditem[this.classname])[0]]),r.B("#svg"+this.classname).remove(),this.MergeSvgDraw()):2===F()(this.mergeditem[this.classname]).length&&(this.mergetype="double",this.legendnumber=this.checkedorder.length,this.mergeddata0=[].concat(this.mergeditem[this.classname][F()(this.mergeditem[this.classname])[0]]),this.mergeddata1=[].concat(this.mergeditem[this.classname][F()(this.mergeditem[this.classname])[1]]),r.B("#svg"+this.classname).remove(),this.yname0[0]=F()(this.mergeditem[this.classname])[0],this.yname0[1]="log("+this.yname0[0]+")",this.yname1[0]=F()(this.mergeditem[this.classname])[1],this.yname1[1]="log("+this.yname1[0]+")",this.DYMergeSvgDraw()),this.setmergestep())},end:function(t){t&&(this.deleteScalar(this.thisid),this.mergeddata=[],this.mergeddata0=[],this.mergeddata1=[],this.mergetype="",this.yname0=[],this.yname1=[],this.data=this.chartdata.value[F()(this.chartdata.value)[0]],this.yname[0]=this.ytext,this.yname[1]="log("+this.ytext+")",r.B("#svg"+this.classname).remove(),this.SvgDraw())},getTimer:function(){if("main"===this.grade[this.classname])1===F()(this.mergeditem[this.classname]).length?(this.mergetype="single",this.mergeddata=[].concat(this.mergeditem[this.classname][F()(this.mergeditem[this.classname])[0]]),this.legendnumber=this.mergeddata.length,this.MergeSvgDraw()):2===F()(this.mergeditem[this.classname]).length&&(this.mergetype="double",this.mergeddata0=[].concat(this.mergeditem[this.classname][F()(this.mergeditem[this.classname])[0]]),this.mergeddata1=[].concat(this.mergeditem[this.classname][F()(this.mergeditem[this.classname])[1]]),this.legendnumber=this.mergeddata0.length+this.mergeddata1.length,this.yname0[0]=F()(this.mergeditem[this.classname])[0],this.yname0[1]="log("+this.yname0[0]+")",this.yname1[0]=F()(this.mergeditem[this.classname])[1],this.yname1[1]="log("+this.yname1[0]+")",this.DYMergeSvgDraw());else if(2===F()(this.chartdata).length)this.data=this.chartdata.value[F()(this.chartdata.value)[0]],this.yname[0]=this.ytext,this.yname[1]="log("+this.ytext+")";else if(4===F()(this.chartdata).length)this.mergetype="single",this.legendnumber=this.chartdata.legendnumber,this.mergeddata=this.chartdata.value;else if(5===F()(this.chartdata).length){this.mergetype="double",this.legendnumber=this.chartdata.legendnumber,this.mergeddata0=this.chartdata.value0,this.mergeddata1=this.chartdata.value1;var t=this.mergeddata0[0].tag.split("/"),e=this.mergeddata1[0].tag.split("/");this.yname0[0]=t[t.length-1],this.yname0[1]="log("+this.yname0[0]+")",this.yname1[0]=e[e.length-1],this.yname1[1]="log("+this.yname1[0]+")"}}},created:function(){if("main"===this.grade[this.classname])1===F()(this.mergeditem[this.classname]).length?(this.mergetype="single",this.mergeddata=[].concat(this.mergeditem[this.classname][F()(this.mergeditem[this.classname])[0]]),this.legendnumber=this.mergeddata.length,this.MergeSvgDraw()):2===F()(this.mergeditem[this.classname]).length&&(this.mergetype="double",this.mergeddata0=[].concat(this.mergeditem[this.classname][F()(this.mergeditem[this.classname])[0]]),this.mergeddata1=[].concat(this.mergeditem[this.classname][F()(this.mergeditem[this.classname])[1]]),this.legendnumber=this.mergeddata0.length+this.mergeddata1.length,this.yname0[0]=F()(this.mergeditem[this.classname])[0],this.yname0[1]="log("+this.yname0[0]+")",this.yname1[0]=F()(this.mergeditem[this.classname])[1],this.yname1[1]="log("+this.yname1[0]+")",this.DYMergeSvgDraw());else if(2===F()(this.chartdata).length)this.data=this.chartdata.value[F()(this.chartdata.value)[0]],this.yname[0]=this.ytext,this.yname[1]="log("+this.ytext+")";else if(4===F()(this.chartdata).length)this.mergetype="single",this.legendnumber=this.chartdata.legendnumber,this.mergeddata=this.chartdata.value;else if(5===F()(this.chartdata).length){this.mergetype="double",this.legendnumber=this.chartdata.legendnumber,this.mergeddata0=this.chartdata.value0,this.mergeddata1=this.chartdata.value1;var t=this.mergeddata0[0].tag.split("/"),e=this.mergeddata1[0].tag.split("/");this.yname0[0]=t[t.length-1],this.yname0[1]="log("+this.yname0[0]+")",this.yname1[0]=e[e.length-1],this.yname1[1]="log("+this.yname1[0]+")"}},mounted:function(){"double"===this.mergetype?this.DYMergeSvgDraw():"single"===this.mergetype?this.MergeSvgDraw():this.SvgDraw()},methods:n()({},Et(["setmergestep"]),Mt(["setScalar","deleteScalar"]),{SvgDraw:function(){var t=[].concat(JSON.parse($()(this.data))),e=[].concat(JSON.parse($()(this.data))),a=1*this.smoothvalue,i=this.yname[0];if("log-linear"===this.yaxis){for(var s=0,n=0;n<t.length;n++){if(!(e[n].value>0)){s=1;break}e[n].value=Math.log(e[n].value)}0===s&&(i=this.yname[1],t=e)}var o=[].concat(JSON.parse($()(t)));if(0!==o.length){r.B("#svg"+this.classname).remove();for(var c=o[0].value,l=1;l<o.length;l++)o[l].value=c*a+(1-a)*o[l].value,c=o[l].value;var h=20,d=70,u=350-d-20,g=270-h-70,p=r.B("#"+this.classname).append("svg").attr("id","svg"+this.classname).attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 350 270").append("g").attr("transform","translate("+d+","+h+")");p.append("defs").append("marker").attr("id","xarrowhead"+this.classname).attr("markerUnits","strokeWidth").attr("markerWidth","15").attr("markerHeight","15").attr("viewBox","0 0 12 12").attr("refX","5").attr("refY","6").append("path").attr("d","M2,2 L10,6 L2,10 L6,6 L2,2"),p.append("defs").append("marker").attr("id","yarrowhead"+this.classname).attr("markerUnits","strokeWidth").attr("markerWidth","15").attr("markerHeight","15").attr("viewBox","0 0 12 12").attr("refX","5").attr("refY","6").attr("orient","-90deg").append("path").attr("d","M2,2 L10,6 L2,10 L6,6 L2,2");var f=r.m(t,function(t){return t.step}),_=f[1]-f[0];f[1]=f[1]+_/4;var m=r.w().domain(f).rangeRound([0,u]),v=p.append("g").attr("transform","translate(0,"+g+")").call(r.b(m).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t}));v.select("path").attr("marker-end","url(#xarrowhead"+this.classname+")"),p.append("text").attr("text-anchor","middle").attr("x",u/2).attr("y",g+h+20).text("step");var y=r.m(t,function(t){return t.value}),x=y[1]-y[0];y[0]=y[0]-x/4,y[1]=y[1]+x/4;var C=r.w().domain(y).rangeRound([g,0]),D=p.append("g").call(r.c(C).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t}));D.select("path").attr("marker-end","url(#yarrowhead"+this.classname+")"),p.append("text").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("y",20-d).attr("x",-g/2).text(i),p.append("defs").append("svg:clipPath").attr("id","clip"+this.classname).append("svg:rect").attr("width",u).attr("height",g).attr("x",0).attr("y",0);var w=r.e().extent([[0,0],[u,g]]).on("end",function(){var t=r.l.selection;if(t)m.domain([m.invert(t[0][0]),m.invert(t[1][0])]),C.domain([C.invert(t[1][1]),C.invert(t[0][1])]),S.select(".brush").call(w.move,null);else{if(!b)return b=setTimeout(O,350);m.domain(f),C.domain(y)}v.transition().duration(1e3).call(r.b(m).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),D.transition().duration(1e3).call(r.c(C).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),S.select(".smoothline").transition().duration(1e3).attr("d",r.q().x(function(t){return m(t.step)}).y(function(t){return C(t.value)})),S.select(".originalline").transition().duration(1e3).attr("d",r.q().x(function(t){return m(t.step)}).y(function(t){return C(t.value)})),S.selectAll(".myCircle").transition().duration(1e3).attr("cx",function(t){return m(t.step)}).attr("cy",function(t){return C(t.value)})}),S=p.append("g").attr("clip-path","url(#clip"+this.classname+")");S.append("path").datum(t).attr("class","originalline").attr("fill","none").attr("stroke","blue").attr("stroke-width",1.5).attr("stroke-opacity",.2).attr("d",r.q().x(function(t){return m(t.step)}).y(function(t){return C(t.value)})),S.append("path").datum(o).attr("class","smoothline").attr("fill","none").attr("stroke","blue").attr("stroke-width",1.5).attr("d",r.q().x(function(t){return m(t.step)}).y(function(t){return C(t.value)})),S.append("g").attr("class","brush").call(w);var b,E=r.B("#"+this.classname).select(".tooltip"),I=r.B("#td1"+this.classname),M=r.B("#td2"+this.classname),k=r.B("#td3"+this.classname);S.selectAll(".myCircle").data(o).enter().append("circle").attr("class","myCircle").attr("cx",function(t){return m(t.step)}).attr("cy",function(t){return C(t.value)}).attr("r",3).attr("stroke-width",10).attr("stroke","black").attr("fill","black").attr("fill-opacity",0).attr("stroke-opacity",0).on("mouseover",function(t){r.B(this).attr("fill-opacity",1),E.style("visibility","visible")}).on("mousemove",function(t){var e=new Date(1e3*t.wall_time).toLocaleString("en-GB",{hour12:!1}).split("/"),a=e[2].split(",")[0],i=e[1],s=e[0],n=e[2].split(",")[1],r=t.value,o=Math.abs(r);if(o>1e4){var c=o.toString().length-1;r=r/Math.pow(10,c)+"e+"+c}else if(o<.01&&0!==o){for(var l=o.toString(),h=3;h<l.length&&"0"===l[h];h++);r=(r*Math.pow(10,h-1)).toFixed(7)+"e-"+(h-1)}else r=r.toFixed(7);I.html(a+"/"+i+"/"+s+n),M.html(t.step),k.html(r)}).on("mouseout",function(t){r.B(this).attr("fill-opacity",0),E.style("visibility","hidden")}),p.on("dblclick",function(){m.domain(f),v.transition().call(r.b(m).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),C.domain(y),D.transition().call(r.c(C).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),S.selectAll(".smoothline").transition().duration(1e3).attr("d",r.q().x(function(t){return m(t.step)}).y(function(t){return C(t.value)})),S.selectAll(".originalline").transition().duration(1e3).attr("d",r.q().x(function(t){return m(t.step)}).y(function(t){return C(t.value)})),S.selectAll(".myCircle").transition().duration(1e3).attr("cx",function(t){return m(t.step)}).attr("cy",function(t){return C(t.value)})})}function O(){b=null}},MergeSvgDraw:function(){var t=this.legendnumber,e=[].concat(JSON.parse($()(this.mergeddata))),a=[].concat(JSON.parse($()(this.mergeddata))),i=1*this.smoothvalue,s=this.yname[0];if("log-linear"===this.yaxis){for(var n=0,o=0;o<e.length;o++){for(var c=0;c<e[o].value.length;c++){if(!(a[o].value[c].value>0)){n=1;break}a[o].value[c].value=Math.log(a[o].value[c].value)}if(1===n)break}0===n&&(s=this.yname[1],e=a)}for(var l=[].concat(JSON.parse($()(e))),h=0;h<l.length;h++)for(var d=l[h].value[0].value,u=1;u<l[h].value.length;u++)l[h].value[u].value=d*i+(1-i)*l[h].value[u].value,d=l[h].value[u].value;for(var g=[],p=[],f=0;f<e.length;f++)e[f].order=f,l[f].order=f,g=g.concat(e[f].value),p=p.concat(l[f].value);var _=e.map(function(t){return t.order}),m=r.y().domain(_).range(["#ed357b","#1d276e","#6ec6d0","#0c9257","#ffdf1e","#fe8325"]),v=20,y=70,x=350-y-20,C=250+20*t-v-(50+20*t),D=r.B("#"+this.classname).append("svg").attr("id","svg"+this.classname).attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 350 "+(250+20*t).toString()).append("g").attr("transform","translate("+y+","+v+")");D.append("defs").append("marker").attr("id","xarrowhead"+this.classname).attr("markerUnits","strokeWidth").attr("markerWidth","15").attr("markerHeight","15").attr("viewBox","0 0 12 12").attr("refX","5").attr("refY","6").append("path").attr("d","M2,2 L10,6 L2,10 L6,6 L2,2"),D.append("defs").append("marker").attr("id","yarrowhead"+this.classname).attr("markerUnits","strokeWidth").attr("markerWidth","15").attr("markerHeight","15").attr("viewBox","0 0 12 12").attr("refX","5").attr("refY","6").attr("orient","-90deg").append("path").attr("d","M2,2 L10,6 L2,10 L6,6 L2,2");var w=r.m(g,function(t){return t.step}),S=w[1]-w[0];w[0]=w[0]-S/4,w[1]=w[1]+S/4;var b=r.w().domain(w).rangeRound([0,x]),E=D.append("g").attr("transform","translate(0,"+C+")").call(r.b(b).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t}));E.select("path").attr("marker-end","url(#xarrowhead"+this.classname+")"),D.append("text").attr("text-anchor","middle").attr("x",x/2).attr("y",C+v+20).text("step");var I=r.m(g,function(t){return t.value}),M=I[1]-I[0];I[0]=I[0]-M/4,I[1]=I[1]+M/4;var k=r.w().domain(I).rangeRound([C,0]),O=D.append("g").call(r.c(k).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t}));O.select("path").attr("marker-end","url(#yarrowhead"+this.classname+")"),D.append("text").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("y",20-y).attr("x",-C/2).text(s),D.append("defs").append("svg:clipPath").attr("id","clip"+this.classname).append("svg:rect").attr("width",x).attr("height",C).attr("x",0).attr("y",0);var T=r.e().extent([[0,0],[x,C]]).on("end",function(){var t=r.l.selection;if(t)b.domain([b.invert(t[0][0]),b.invert(t[1][0])]),k.domain([k.invert(t[1][1]),k.invert(t[0][1])]),B.select(".brush").call(T.move,null);else{if(!L)return L=setTimeout(U,350);b.domain(w),k.domain(w)}E.transition().duration(1e3).call(r.b(b).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),O.transition().duration(1e3).call(r.c(k).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),B.selectAll(".smoothline").transition().duration(1e3).attr("d",function(t){return r.q().x(function(t){return b(t.step)}).y(function(t){return k(t.value)})(t.value)}),B.selectAll(".myCircle").transition().duration(1e3).attr("cx",function(t){return b(t.step)}).attr("cy",function(t){return k(t.value)})}),B=D.append("g").attr("clip-path","url(#clip"+this.classname+")");B.selectAll(".smoothline").data(l).enter().append("path").attr("class","smoothline").attr("fill","none").attr("stroke",function(t){return m(t.order)}).attr("stroke-width",1.5).attr("d",function(t){return r.q().x(function(t){return b(t.step)}).y(function(t){return k(t.value)})(t.value)}),B.append("g").attr("class","brush").call(T);var P=r.B("#"+this.classname).select(".tooltip"),R=r.B("#td1"+this.classname),A=r.B("#td2"+this.classname),F=r.B("#td3"+this.classname);B.selectAll(".myCircle").data(p).enter().append("circle").attr("class","myCircle").attr("cx",function(t){return b(t.step)}).attr("cy",function(t){return k(t.value)}).attr("r",3).attr("stroke","black").attr("stroke-width",10).attr("fill","black").attr("fill-opacity",0).attr("stroke-opacity",0).on("mouseover",function(t){r.B(this).attr("fill-opacity",1),P.style("visibility","visible")}).on("mousemove",function(t){var e=new Date(1e3*t.wall_time).toLocaleString("en-GB",{hour12:!1}).split("/"),a=e[2].split(",")[0],i=e[1],s=e[0],n=e[2].split(",")[1],r=t.value,o=Math.abs(r);if(o>1e4){var c=o.toString().length-1;r=r/Math.pow(10,c)+"e+"+c}else if(o<.01&&0!==o){for(var l=o.toString(),h=3;h<l.length&&"0"===l[h];h++);r=(r*Math.pow(10,h-1)).toFixed(7)+"e-"+(h-1)}else r=r.toFixed(7);R.html(a+"/"+i+"/"+s+n),A.html(t.step),F.html(r)}).on("mouseout",function(t){r.B(this).attr("fill-opacity",0),P.style("visibility","hidden")});var L,N=D.selectAll(".legend").data(l).enter().append("g").attr("class","legend").attr("transform",function(t,e){return"translate(0,"+20*e+")"});function U(){L=null}N.append("rect").attr("x",-40).attr("y",C+v+40).attr("width",18).attr("height",4).style("fill",function(t){return m(t.order)}),N.append("text").attr("x",-16).attr("y",C+v+40).attr("dy",".5em").attr("font-size","10px").style("text-anchor","start").text(function(t){return t.run+","+t.tag}),D.on("dblclick",function(){b.domain(w),E.transition().call(r.b(b).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),k.domain(I),O.transition().call(r.c(k).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),B.selectAll(".smoothline").transition().duration(1e3).attr("d",function(t){return r.q().x(function(t){return b(t.step)}).y(function(t){return k(t.value)})(t.value)}),B.selectAll(".myCircle").transition().duration(1e3).attr("cx",function(t){return b(t.step)}).attr("cy",function(t){return k(t.value)})})},DYMergeSvgDraw:function(){var t=this.legendnumber,e=[].concat(JSON.parse($()(this.mergeddata0))),a=[].concat(JSON.parse($()(this.mergeddata1))),i=[].concat(JSON.parse($()(this.mergeddata0))),s=[].concat(JSON.parse($()(this.mergeddata1))),n=1*this.smoothvalue,o=this.yname0[0],c=this.yname1[0];if("log-linear"===this.yaxis){for(var l=0,h=0;h<e.length&&1!==l;h++)for(var d=0;d<e[h].value.length;d++){if(!(i[h].value[d].value>0)){l=1;break}i[h].value[d].value=Math.log(i[h].value[d].value)}for(var u=0;u<a.length&&1!==l;u++)for(var g=0;g<a[u].value.length;g++){if(!(s[u].value[g].value>0)){l=1;break}s[u].value[g].value=Math.log(s[u].value[g].value)}0===l&&(o=this.yname0[1],c=this.yname1[1],e=i,a=s)}for(var p=[].concat(JSON.parse($()(e))),f=[].concat(JSON.parse($()(a))),_=0;_<p.length;_++)for(var m=p[_].value[0].value,v=1;v<p[_].value.length;v++)p[_].value[v].value=m*n+(1-n)*p[_].value[v].value,m=p[_].value[v].value;for(var y=0;y<f.length;y++)for(var x=f[y].value[0].value,C=1;C<f[y].value.length;C++)f[y].value[C].value=x*n+(1-n)*f[y].value[C].value,x=f[y].value[C].value;for(var D=[],w=[],S=[],b=[],E=0;E<e.length;E++)e[E].order=E,p[E].order=E,D=D.concat(e[E].value),S=S.concat(p[E].value);for(var I=0;I<a.length;I++)a[I].order=I,f[I].order=I,w=w.concat(a[I].value),b=b.concat(f[I].value);var M=e.map(function(t){return t.order}),k=r.y().domain(M).range(["#ed357b","#1d276e","#6ec6d0","#0c9257","#ffdf1e","#fe8325"]),O=a.map(function(t){return t.order}),T=r.y().domain(O).range(["#fe8325","#ffdf1e","#0c9257","#6ec6d0","#1d276e","#ed357b"]),B=20,P=70,R=350-P-70,A=250+20*t-B-(50+20*t),F=r.B("#"+this.classname).append("svg").attr("id","svg"+this.classname).attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 350 "+(250+20*t).toString()).append("g").attr("transform","translate("+P+","+B+")");F.append("defs").append("marker").attr("id","yarrowhead"+this.classname).attr("markerUnits","strokeWidth").attr("markerWidth","15").attr("markerHeight","15").attr("viewBox","0 0 12 12").attr("refX","5").attr("refY","6").attr("orient","-90deg").append("path").attr("d","M2,2 L10,6 L2,10 L6,6 L2,2");var L=r.m(D,function(t){return t.step}),N=r.m(w,function(t){return t.step}),U=[];U[0]=Math.min(L[0],N[0]),U[1]=Math.max(L[1],N[1]);var W=U[1]-U[0];U[0]=U[0]-W/4,U[1]=U[1]+W/4;var K=r.w().domain(U).rangeRound([0,R]),j=F.append("g").attr("transform","translate(0,"+A+")").call(r.b(K).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t}));F.append("text").attr("text-anchor","middle").attr("x",R/2).attr("y",A+B+20).text("step");var G=r.m(D,function(t){return t.value}),H=G[1]-G[0];G[0]=G[0]-H/4,G[1]=G[1]+H/4;var z=r.w().domain(G).rangeRound([A,0]),q=F.append("g").call(r.c(z).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t}));q.select("path").attr("marker-end","url(#yarrowhead"+this.classname+")"),F.append("text").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("y",20-P).attr("x",-A/2).text(o);var Y=r.m(w,function(t){return t.value}),J=Y[1]-Y[0];Y[0]=Y[0]-J/4,Y[1]=Y[1]+J/4;var V=r.w().domain(Y).rangeRound([A,0]),Q=F.append("g").attr("transform","translate("+R+",0)").call(r.d(V).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t}));Q.select("path").attr("marker-end","url(#yarrowhead"+this.classname+")"),F.append("text").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("y",R+P-10).attr("x",-A/2).text(c),F.append("defs").append("svg:clipPath").attr("id","clip"+this.classname).append("svg:rect").attr("width",R).attr("height",A).attr("x",0).attr("y",0);var Z=r.e().extent([[0,0],[R,A]]).on("end",function(){var t=r.l.selection;if(t)K.domain([K.invert(t[0][0]),K.invert(t[1][0])]),z.domain([z.invert(t[1][1]),z.invert(t[0][1])]),V.domain([V.invert(t[1][1]),V.invert(t[0][1])]),X.select(".brush").call(Z.move,null);else{if(!rt)return rt=setTimeout(ct,350);K.domain(U),z.domain(G),V.domain(Y)}j.transition().duration(1e3).call(r.b(K).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),q.transition().duration(1e3).call(r.c(z).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),Q.transition().duration(1e3).call(r.d(V).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),X.selectAll(".smoothline0").transition().duration(1e3).attr("d",function(t){return r.q().x(function(t){return K(t.step)}).y(function(t){return z(t.value)})(t.value)}),X.selectAll(".smoothline1").transition().duration(1e3).attr("d",function(t){return r.q().x(function(t){return K(t.step)}).y(function(t){return V(t.value)})(t.value)}),X.selectAll(".myCircle0").transition().duration(1e3).attr("cx",function(t){return K(t.step)}).attr("cy",function(t){return z(t.value)}),X.selectAll(".myCircle1").transition().duration(1e3).attr("cx",function(t){return K(t.step)}).attr("cy",function(t){return V(t.value)})}),X=F.append("g").attr("clip-path","url(#clip"+this.classname+")");X.selectAll(".smoothline0").data(p).enter().append("path").attr("class","smoothline0").attr("fill","none").attr("stroke",function(t){return k(t.order)}).attr("stroke-width",1.5).attr("d",function(t){return r.q().x(function(t){return K(t.step)}).y(function(t){return z(t.value)})(t.value)}),X.selectAll(".smoothline1").data(f).enter().append("path").attr("class","smoothline1").attr("fill","none").attr("stroke",function(t){return T(t.order)}).attr("stroke-width",1.5).attr("d",function(t){return r.q().x(function(t){return K(t.step)}).y(function(t){return V(t.value)})(t.value)}),X.append("g").attr("class","brush").call(Z);var tt=r.B("#"+this.classname).select(".tooltip"),et=r.B("#td1"+this.classname),at=r.B("#td2"+this.classname),it=r.B("#td3"+this.classname);X.selectAll(".myCircle0").data(S).enter().append("circle").attr("class","myCircle0").attr("cx",function(t){return K(t.step)}).attr("cy",function(t){return z(t.value)}).attr("r",3).attr("stroke","black").attr("stroke-width",10).attr("fill","black").attr("fill-opacity",0).attr("stroke-opacity",0).on("mouseover",function(t){r.B(this).attr("fill-opacity",1),tt.style("visibility","visible")}).on("mousemove",function(t){var e=new Date(1e3*t.wall_time).toLocaleString("en-GB",{hour12:!1}).split("/"),a=e[2].split(",")[0],i=e[1],s=e[0],n=e[2].split(",")[1],r=t.value,o=Math.abs(r);if(o>1e4){var c=o.toString().length-1;r=r/Math.pow(10,c)+"e+"+c}else if(o<.01&&0!==o){for(var l=o.toString(),h=3;h<l.length&&"0"===l[h];h++);r=(r*Math.pow(10,h-1)).toFixed(7)+"e-"+(h-1)}else r=r.toFixed(7);et.html(a+"/"+i+"/"+s+n),at.html(t.step),it.html(r)}).on("mouseout",function(t){r.B(this).attr("fill-opacity",0),tt.style("visibility","hidden")}),X.selectAll(".myCircle1").data(b).enter().append("circle").attr("class","myCircle1").attr("cx",function(t){return K(t.step)}).attr("cy",function(t){return V(t.value)}).attr("r",3).attr("stroke","black").attr("stroke-width",10).attr("fill","black").attr("fill-opacity",0).attr("stroke-opacity",0).on("mouseover",function(t){r.B(this).attr("fill-opacity",1),tt.style("visibility","visible")}).on("mousemove",function(t){var e=new Date(1e3*t.wall_time).toLocaleString("en-GB",{hour12:!1}).split("/"),a=e[2].split(",")[0],i=e[1],s=e[0],n=e[2].split(",")[1],r=t.value,o=Math.abs(r);if(o>1e4){var c=o.toString().length-1;r=r/Math.pow(10,c)+"e+"+c}else if(o<.01&&0!==o){for(var l=o.toString(),h=3;h<l.length&&"0"===l[h];h++);r=(r*Math.pow(10,h-1)).toFixed(7)+"e-"+(h-1)}else r=r.toFixed(7);et.html(a+"/"+i+"/"+s+n),at.html(t.step),it.html(r)}).on("mouseout",function(t){r.B(this).attr("fill-opacity",0),tt.style("visibility","hidden")});var st=p.length,nt=F.selectAll(".legend0").data(p).enter().append("g").attr("class","legend0").attr("transform",function(t,e){return"translate(0,"+20*e+")"});nt.append("rect").attr("x",-40).attr("y",A+B+40).attr("width",18).attr("height",4).style("fill",function(t){return k(t.order)}),nt.append("text").attr("x",-16).attr("y",A+B+40).attr("dy",".5em").attr("font-size","10px").style("text-anchor","start").text(function(t){return t.run+","+t.tag});var rt,ot=F.selectAll(".legend1").data(f).enter().append("g").attr("class","legend1").attr("transform",function(t,e){return"translate(0,"+20*(st+e)+")"});function ct(){rt=null}ot.append("rect").attr("x",-40).attr("y",A+B+40).attr("width",18).attr("height",4).style("fill",function(t){return T(t.order)}),ot.append("text").attr("x",-16).attr("y",A+B+40).attr("dy",".5em").attr("font-size","10px").style("text-anchor","start").text(function(t){return t.run+","+t.tag}),F.on("dblclick",function(){K.domain(U),j.transition().call(r.b(K).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),z.domain(G),q.transition().call(r.c(z).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),V.domain(Y),Q.transition().call(r.d(V).tickSizeOuter(0).ticks(5).tickFormat(function(t){var e=Math.abs(t);if(e>1e4){var a=e.toString().length-1;return t/Math.pow(10,a)+"e+"+a}if(e<.001){if(0===t)return t;for(var i=e.toString(),s=3;s<i.length&&"0"===i[s];s++);return(t*Math.pow(10,s-1)).toFixed(1)+"e-"+(s-1)}return t})),X.selectAll(".smoothline0").transition().duration(1e3).attr("d",function(t){return r.q().x(function(t){return K(t.step)}).y(function(t){return z(t.value)})(t.value)}),X.selectAll(".myCircle0").transition().duration(1e3).attr("cx",function(t){return K(t.step)}).attr("cy",function(t){return z(t.value)}),X.selectAll(".smoothline1").transition().duration(1e3).attr("d",function(t){return r.q().x(function(t){return K(t.step)}).y(function(t){return V(t.value)})(t.value)}),X.selectAll(".myCircle1").transition().duration(1e3).attr("cx",function(t){return K(t.step)}).attr("cy",function(t){return V(t.value)})})}})},Tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart",attrs:{id:t.classname}},[a("div",{class:["tooltip",t.scaleLargeSmall?"font1":"font2"],attrs:{scale:t.scaleLargeSmall}},[a("table",[t._m(0),t._v(" "),a("tr",[a("td",{staticClass:"td1",attrs:{id:"td1"+t.classname}}),t._v(" "),a("td",{staticClass:"td2",attrs:{id:"td2"+t.classname}}),t._v(" "),a("td",{staticClass:"td1",attrs:{id:"td3"+t.classname}})])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticClass:"td1"},[this._v("wall_time")]),this._v(" "),e("td",{staticClass:"td2"},[this._v("step")]),this._v(" "),e("td",{staticClass:"td1"},[this._v("value")])])}]};var Bt=a("VU/8")(Ot,Tt,!1,function(t){a("fx8v")},"data-v-2005e4c3",null).exports,Pt=Object(o.a)("scalar"),Rt=Pt.mapMutations,At=Pt.mapGetters,Ft=Object(o.a)("custom"),Lt=Ft.mapMutations,Nt=Ft.mapGetters,Ut=Object(o.a)("layout").mapGetters,Wt={components:{Scalarchart:Bt},props:{content:Object,subname:String},data:function(){return{scaleLargeSmall:!1,size:8,ytext:"",thisitem:{},isshow:{main:!0,subordinate:!1,general:!0,undefined:!0},start:!1,end:!1,chartchecked:!1,chartgrade:"general",info:"",id:"",chartdata:{run:"",value:{}},classname:"",isaddmain:!1}},computed:n()({},At(["checkeditem","startmerged","endmerged","mergestep","checkedorder","mergednumber","backednumber","getDownLoadArray","grade","mergedorder","checked","mergeditem"]),Nt(["getScalar"]),Ut(["setDownloadSvgClass","getTimer"])),watch:{mergestep:function(t){t===this.checkedorder.length&&0!==t&&this.mergedorder[this.classname]===this.mergednumber&&"main"===this.grade[this.classname]&&this.setdatainit()},getTimer:function(){var t=this.content.value[F()(this.content.value)[0]];if(this.chartdata.run=this.content.run,this.chartdata.value[F()(this.content.value)[0]]=[],t.length>1e3)for(var e=Math.ceil(t.length/1e3),a=0;a<t.length;a+=e)this.chartdata.value[F()(this.content.value)[0]].push(t[a]);else this.chartdata.value=this.content.value;this.id=this.chartdata.run+" "+F()(this.chartdata.value)[0],this.info=this.id,this.info.length>20&&(this.info=this.info.slice(0,17)+"...");var i=F()(this.chartdata.value)[0].split("/");this.ytext=i[i.length-1],this.classname=this.chartdata.run.replace(/\//g,"").replace(/\./g,"")+F()(this.chartdata.value)[0].replace(/\//g,"").replace(/\./g,""),this.thisitem.run=this.chartdata.run,this.thisitem.tag=F()(this.chartdata.value)[0],this.thisitem.value=this.chartdata.value[F()(this.chartdata.value)[0]],this.classname in this.checked||this.setchecked([this.classname,!1]),this.chartchecked=this.checked[this.classname],this.classname in this.grade||this.setgrade([this.classname,"general"]),this.classname in this.mergedorder||this.setmergedorder([this.classname,1e3])},startmerged:function(t){t&&(this.checkedorder.indexOf(this.classname)>0?(this.setgrade([this.classname,"subordinate"]),this.chartgrade=this.grade[this.classname],this.setmergedorder([this.classname,this.mergednumber]),this.setmergestep(),this.setchecked([this.classname,!1]),this.deleteScalar(this.id),this.chartchecked=this.checked[this.classname]):this.classname===this.checkedorder[0]&&(this.setgrade([this.classname,"main"]),this.chartgrade=this.grade[this.classname],this.setmergedorder([this.classname,this.mergednumber]),this.deleteScalar(this.id),this.start=t,this.setchecked([this.classname,!1]),this.chartchecked=this.checked[this.classname]))},endmerged:function(t){t&&this.backednumber.indexOf(this.mergedorder[this.classname])>-1&&("main"===this.grade[this.classname]&&(this.end=t,this.reducemergeditem(this.classname)),this.setgrade([this.classname,"general"]),this.chartgrade=this.grade[this.classname],this.setmergedorder([this.classname,1e3]),this.setchecked([this.classname,!1]),this.chartchecked=this.checked[this.classname])}},created:function(){var t=this.content.value[F()(this.content.value)[0]];if(this.chartdata.run=this.content.run,this.chartdata.value[F()(this.content.value)[0]]=[],t.length>1e3)for(var e=Math.ceil(t.length/1e3),a=0;a<t.length;a+=e)this.chartdata.value[F()(this.content.value)[0]].push(t[a]);else this.chartdata.value=this.content.value;this.id=this.chartdata.run+" "+F()(this.chartdata.value)[0],this.info=this.id,this.info.length>20&&(this.info=this.info.slice(0,17)+"...");var i=F()(this.chartdata.value)[0].split("/");this.ytext=i[i.length-1],this.classname=this.chartdata.run.replace(/\//g,"").replace(/\./g,"")+F()(this.chartdata.value)[0].replace(/\//g,"").replace(/\./g,""),this.thisitem.run=this.chartdata.run,this.thisitem.tag=F()(this.chartdata.value)[0],this.thisitem.value=this.chartdata.value[F()(this.chartdata.value)[0]],this.classname in this.checked||this.setchecked([this.classname,!1]),this.chartchecked=this.checked[this.classname],this.classname in this.grade||this.setgrade([this.classname,"general"]),this.classname in this.mergedorder||this.setmergedorder([this.classname,1e3])},mounted:function(){this.chartgrade=this.grade[this.classname]},methods:n()({},Rt(["setcheckeditem","deletecheckeditem","setdatainit","setmergestep","addcheckedorder","reducecheckedorder","addbackednumber","reducebackednumber","deleteDownLoadArray","setDownLoadArray","setgrade","setmergedorder","setchecked","reducemergeditem"]),Lt(["setScalar","deleteScalar"]),{sizebig:function(){this.size=24,this.info=this.id,this.scaleLargeSmall=!0},sizesmall:function(){this.size=8,this.scaleLargeSmall=!1,this.info.length>20&&(this.info=this.info.slice(0,17)+"...")},ischecked:function(){this.checked[this.classname]?(this.setchecked([this.classname,!1]),this.chartchecked=this.checked[this.classname],this.deleteDownLoadArray("#svg"+this.classname),this.setDownloadSvgClass.scalar=this.getDownLoadArray,"general"===this.grade[this.classname]?(this.deleteScalar(this.id),this.reducecheckedorder(this.classname),this.deletecheckeditem([this.ytext,this.thisitem])):"main"===this.grade[this.classname]&&(this.reducebackednumber(this.mergedorder[this.classname]),this.isaddmain=!1)):(this.setchecked([this.classname,!0]),this.chartchecked=this.checked[this.classname],this.start=!1,this.end=!1,this.setDownLoadArray("#svg"+this.classname),this.setDownloadSvgClass.scalar=this.getDownLoadArray,"general"===this.grade[this.classname]?(this.setScalar([this.id,this.content]),this.addcheckedorder(this.classname),this.setcheckeditem([this.ytext,this.thisitem])):"main"===this.grade[this.classname]&&(this.addbackednumber(this.mergedorder[this.classname]),this.isaddmain=!0))}})},Kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.isshow[t.chartgrade],expression:"isshow[chartgrade]"}],staticClass:"scalarcontainer"},[a("el-col",{attrs:{span:t.size}},[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"0px"}}},[a("div",{class:[t.scaleLargeSmall?"scalarContainerTitleLarge":"scalarContainerTitle"]},[a("div",[a("span",{staticClass:"tagShow"},[t._v(t._s(t.info))])]),t._v(" "),a("div",{staticClass:"titleRight"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击可放大此图表",placement:"top"}},[a("span",{staticClass:"scale",on:{click:function(e){return t.sizebig()}}},[a("i",{staticClass:"iconfont icon-fangda"})])]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击可缩小此图表",placement:"top"}},[a("span",{staticClass:"scale",on:{click:function(e){return t.sizesmall()}}},[a("i",{staticClass:"iconfont icon-suoxiao1"})])]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"勾选图表参与合并，或选中后点击定制按钮会跳转到用户定制界面",placement:"top"}},[a("span",{staticClass:"scale"},[a("i",{class:["iconfont",t.chartchecked?"icon-xuanzhong1":"icon-weixuanzhong1"],on:{click:function(e){return t.ischecked()}}})])])],1)]),t._v(" "),a("scalarchart",{attrs:{chartdata:t.chartdata,start:t.start,end:t.end,ytext:t.ytext,scaleLargeSmall:t.scaleLargeSmall,classname:t.classname,isaddmain:t.isaddmain,title:t.id}})],1)],1)],1)},staticRenderFns:[]};var jt=a("VU/8")(Wt,Kt,!1,function(t){a("EkMY")},"data-v-0538afcd",null).exports,Gt=Object(o.a)("scalar"),Ht=Gt.mapGetters,zt=Gt.mapActions,qt=Gt.mapMutations,Yt=Object(o.a)("layout"),Jt=Yt.mapGetters,Vt=Yt.mapState,Qt={components:{ScalarContainer:jt},props:{subname:String,index:Number,value:Array},data:function(){return{data:[],show:!0,isshow:{},subshow:!0,info:""}},computed:n()({},Ht(["detailData","categoryInfo","initshowrun","showFlag","subisshow"]),Vt(["userSelectRunFile"]),Jt(["getTimer"])),watch:{userSelectRunFile:function(t){for(var e=1,a=0;a<F()(this.isshow).length;a+=1)t.indexOf(F()(this.isshow)[a])>-1?(this.$set(this.isshow,F()(this.isshow)[a],!0),e-=1):this.$set(this.isshow,F()(this.isshow)[a],!1);var i;i=this.isshow,this.isshow={},this.isshow=i,1===e?(this.setsubisshow([this.subname,!1]),this.subshow=this.subisshow[this.subname]):(this.setsubisshow([this.subname,!0]),this.subshow=this.subisshow[this.subname])},getTimer:function(){for(var t=this.initshowrun[this.subname],e=F()(t),a=0;a<e.length;a++)this.$set(this.isshow,e[a],t[e[a]]);this.data=this.detailData[this.subname]}},created:function(){this.info=this.subname,this.info.length>10&&(this.info=this.info.slice(0,7)+"..."),this.isshow=this.initshowrun[this.subname],this.subname in this.showFlag?this.show=this.showFlag[this.subname]:0===this.index?(this.setshowFlag([this.subname,!1]),this.show=this.showFlag[this.subname]):(this.setshowFlag([this.subname,!0]),this.show=this.showFlag[this.subname]),this.showFlag[this.subname]||(this.getData([this.subname,this.value]),this.setFreshInfo([this.subname,this.showFlag[this.subname]]),this.data=this.detailData[this.subname]),this.subname in this.subisshow?this.subshow=this.subisshow[this.subname]:this.setsubisshow([this.subname,!0])},methods:n()({},zt(["getData"]),qt(["setDetailData","setshowrun","back","setFreshInfo","setshowFlag","setsubisshow"]),{deepClone:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e,a=getType(t);if("array"===a)e=[];else{if("object"!==a)return t;e={}}if("array"===a)for(var i=0,s=t.length;i<s;i++)e.push(deepClone(t[i]));else if("object"===a)for(var n in t)e[n]=deepClone(t[n]);return e}),showContent:function(){this.showFlag[this.subname]?(this.setshowFlag([this.subname,!1]),this.show=this.showFlag[this.subname],this.setFreshInfo([this.subname,this.showFlag[this.subname]]),this.getData([this.subname,this.value]),this.data=this.detailData[this.subname]):(this.setshowFlag([this.subname,!0]),this.show=this.showFlag[this.subname],this.setFreshInfo([this.subname,this.showFlag[this.subname]]))}})},Zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.subshow,expression:"subshow"}],staticClass:"scalars-container"},[a("div",{staticClass:"scalars-title",on:{click:function(e){return t.showContent()}}},[a("div",{class:[t.show?"sub":"sub1"]},[a("div",{staticClass:"my-label"},[a("div",{staticClass:"my-text"},[a("span",[t._v(t._s(t.info))])]),t._v(" "),t._m(0),t._v(" "),t._m(1)])]),t._v(" "),a("div",{staticClass:"line1"}),t._v(" "),a("div",{class:["line2",t.show?"linestyle":""]})]),t._v(" "),a("div",{class:[t.show?"showClass":""]},[a("div",{staticClass:"scalarscontent"},[a("el-row",{attrs:{gutter:20}},t._l(t.data,function(e){return a("scalar-container",{directives:[{name:"show",rawName:"v-show",value:t.isshow[e.run],expression:"isshow[item.run]"}],key:e.index,attrs:{content:e,subname:t.subname}})}),1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"circle-father"},[e("div",{staticClass:"circle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"triangle-father"},[e("div",{staticClass:"triangle"})])}]};var Xt=a("VU/8")(Qt,Zt,!1,function(t){a("bpef")},"data-v-30709c51",null).exports,$t=Object(o.a)("scalar"),te=$t.mapGetters,ee=$t.mapMutations,ae=$t.mapActions,ie=Object(o.a)("layout"),se=ie.mapState,ne=ie.mapGetters,re={components:{subScalars:Xt},data:function(){return{data:[],totaltag:{}}},computed:n()({},te(["categoryInfo","getTotaltag","getErrorMessage","getFreshInfo","getIntervalChange"]),se(["userSelectRunFile"]),ne(["getTimer"])),watch:{categoryInfo:function(){this.settotaltag()},getErrorMessage:function(t){this.$message({message:t.split("_")[0],type:"error"})},getIntervalChange:function(){this.settotaltag(),this.totaltag=this.getTotaltag}},created:function(){0!==F()(this.getTotaltag).length?this.totaltag=this.getTotaltag:this.settotaltag()},mounted:function(){},methods:n()({},ee(["setTotaltag"]),ae(["getData"]),{settotaltag:function(){if(""!==this.categoryInfo){this.data=[].concat(JSON.parse($()(this.categoryInfo))),this.totaltag={};for(var t={},e=0;e<this.data[1].length;e++){t=JSON.parse($()(this.data[1][e]));for(var a=0;a<F()(t).length;a++){void 0===this.totaltag[F()(t)[a]]&&(this.totaltag[F()(t)[a]]=[]);var i=this.totaltag[F()(t)[a]].concat(t[F()(t)[a]]);this.totaltag[F()(t)[a]]=R()(new gt.a(i))}}for(var s in this.setTotaltag(this.totaltag),this.getFreshInfo)!1===this.getFreshInfo[s]&&this.getData([s,this.totaltag[s]])}}})},oe={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"scalars"},[e("div",{staticClass:"display-panel"},this._l(this.totaltag,function(t,a,i){return e("subScalars",{key:a,attrs:{subname:a,value:t,index:i}})}),1)])])},staticRenderFns:[]};var ce=a("VU/8")(re,oe,!1,function(t){a("nx42")},"data-v-b605b0f4",null).exports,le=Object(o.a)("scalar"),he=le.mapMutations,de=le.mapGetters,ue=Object(o.a)("custom").mapMutations,ge={data:function(){return{checked:!0,xradio:0}},computed:n()({},de(["categoryInfo","smoothvalue","yaxis","checkeditem","checkedorder","backednumber"]),{smooth:{get:function(){return this.smoothvalue},set:function(t){this.setsmoothvalue(t)}},yselect:{get:function(){return this.yaxis},set:function(t){this.setyaxis(t)}}}),created:function(){},methods:n()({},he(["setsmoothvalue","setyaxis","merge","back"]),ue(["cleanScalar"]),{startmerge:function(){F()(this.checkeditem).length>2?this.$alert("选择种类超出限制","警告",{confirmButtonText:"确定"}):this.checkedorder.length>6?this.$alert("选择数量超出限制","警告",{confirmButtonText:"确定"}):1===F()(this.checkeditem).length&&this.checkeditem[F()(this.checkeditem)[0]].length>1?this.merge():2===F()(this.checkeditem).length&&this.merge()},startback:function(){this.backednumber.length>0&&this.back()}})},pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"temp"},[a("div",{staticClass:"information"},[a("el-card",[a("div",{staticClass:"infoTitle"},[a("div",[a("span",{staticClass:"icon iconfont"},[t._v("")]),t._v("控制面板")])]),t._v(" "),a("div",{staticClass:"infoContent"},[a("div",{staticClass:"scroll"},[a("span",[t._v("Smooth("+t._s(t.smooth)+")")]),t._v(" "),a("el-slider",{staticClass:"rangeNumber",attrs:{max:.9,step:.1},model:{value:t.smooth,callback:function(e){t.smooth=e},expression:"smooth"}})],1),t._v(" "),a("div",{staticClass:"select"},[a("span",[t._v("Y-axis:")]),t._v(" "),a("el-select",{staticClass:"modeselect",model:{value:t.yselect,callback:function(e){t.yselect=e},expression:"yselect"}},[a("el-option",{attrs:{value:"linear",label:"linear"}}),t._v(" "),a("el-option",{attrs:{value:"log-linear",label:"log-linear"}})],1)],1),t._v(" "),a("div",{staticClass:"action"},[a("span",[t._v("视图操作")]),t._v(" "),a("el-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:function(e){return t.startmerge()}}},[t._v("合并")]),t._v(" "),a("el-button",{staticClass:"button",attrs:{round:"",size:"small"},on:{click:function(e){return t.startback()}}},[t._v("还原")])],1)])])],1),t._v(" "),a("div",{staticClass:"information"},[a("el-card",[a("div",{staticClass:"infoTitle"},[a("div",[a("span",{staticClass:"icon iconfont"},[t._v("")]),t._v("数据信息栏")])]),t._v(" "),a("div",{staticClass:"infoContent"},[a("div",{staticClass:"infoItem"},[t._v("暂无信息")])])])],1)])},staticRenderFns:[]};var fe=a("VU/8")(ge,pe,!1,function(t){a("nn9G"),a("lBMw")},"data-v-14dde124",null).exports,_e=(a("sfy8"),Object(o.a)("custom")),me=_e.mapMutations,ve=_e.mapGetters,ye=Object(o.a)("layout").mapGetters,xe=Object(o.a)("media").mapMutations,Ce={props:{content:Object,parentComponent:Boolean},data:function(){return{scrollvalue:0,imagecontent:[],imgurl:"",size:8,scaleLargeSmall:!1,checked:!1}},computed:n()({},ve(["getImage"]),ye(["getParams","getTimer"])),watch:{getTimer:function(){this.imagecontent=this.content.value[F()(this.content.value)[0]]},scrollvalue:function(t){var e=this;return W()(N.a.mark(function a(){var i;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i={step:e.imagecontent[t].step.toString(),run:e.content.run,tag:F()(e.content.value)[0]},a.next=3,J.useGet(V.category.image_raw,i).then(function(t){200==+t.data.code?e.imgurl=t.data.data:e.setErrorMessage(t.data.msg+"_"+(new Date).getTime())});case 3:case"end":return a.stop()}},a,e)}))()}},created:function(){var t=this;return W()(N.a.mark(function e(){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.imagecontent=t.content.value[F()(t.content.value)[0]],a={step:t.imagecontent[0].step.toString(),run:t.content.run,tag:F()(t.content.value)[0]},e.next=4,J.useGet(V.category.image_raw,a).then(function(e){200==+e.data.code?t.imgurl=e.data.data:t.setErrorMessage(e.data.msg+"_"+(new Date).getTime())});case 4:case"end":return e.stop()}},e,t)}))()},mounted:function(){for(var t=this.content.run+"/"+F()(this.content.value)[0],e=0;e<this.getImage.length;e++)if(t===this.getImage[e].stringIndex){this.checked=!0;break}},methods:n()({},me(["setImageData"]),xe(["setErrorMessage"]),{ischecked:function(){var t={};t.content=this.content,t.checked=!1,t.copyToData=!0,this.setImageData(t)},ischeckedLocal:function(){this.checked=!this.checked;var t={};t.checked=this.checked,t.copyToData=!1,t.content=this.content,this.setImageData(t)},scaleLarge:function(){this.scaleLargeSmall=!0,this.size=24},scaleSmall:function(){this.size=8,this.scaleLargeSmall=!1},formatTooltip:function(t){return null===t?0:this.imagecontent[t].step}})},De={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imagecontainer"},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:8}},[a("div",{staticClass:"temp"},[a("div",{staticClass:"image-container-title"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"imagetext",staticStyle:{"margin-left":"2%"}},[a("span",[t._v("run: "+t._s(t.content.run))])])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"titleRight"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"勾选后，点击定制按钮会跳转到用户定制界面",placement:"top"}},[t.parentComponent?a("span",{directives:[{name:"show",rawName:"v-show",value:!t.checked,expression:"!checked"}],staticClass:"checkedBox",on:{click:function(e){return t.ischeckedLocal()}}},[a("i",{staticClass:"iconfont icon-weixuanzhong1"})]):t._e()]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"勾选后，点击定制按钮会跳转到用户定制界面",placement:"top"}},[t.parentComponent?a("span",{directives:[{name:"show",rawName:"v-show",value:t.checked,expression:"checked"}],staticClass:"checkedBox",on:{click:function(e){return t.ischeckedLocal()}}},[a("i",{staticClass:"iconfont icon-xuanzhong1"})]):t._e()]),t._v(" "),t.parentComponent?t._e():a("span",{staticClass:"checkedBox",on:{click:function(e){return t.ischecked()}}},[a("i",{staticClass:"close-i el-icon-circle-close"})])],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"imagetext"},[a("span",[t._v("step: "+t._s(t.imagecontent[t.scrollvalue].step))])])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"imagetext"},[a("span",[t._v("tag: "+t._s(Object.keys(t.content.value)[0]))])])])],1)],1)]),t._v(" "),a("div",{staticClass:"imagecontent demo-image__placeholder"},[a("div",{staticClass:"block"},[a("el-image",{attrs:{src:t.imgurl,"preview-src-list":[t.imgurl]}},[a("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v("\n            加载中"),a("span",{staticClass:"dot"},[t._v("...")])])])],1)]),t._v(" "),a("el-slider",{staticClass:"slider",attrs:{max:t.imagecontent.length-1,disabled:t.imagecontent.length-1==0,"format-tooltip":t.formatTooltip},model:{value:t.scrollvalue,callback:function(e){t.scrollvalue=e},expression:"scrollvalue"}})],1)],1)},staticRenderFns:[]};var we=a("VU/8")(Ce,De,!1,function(t){a("/n+d")},"data-v-1182def4",null).exports,Se=Object(o.a)("media"),be=Se.mapGetters,Ee=Se.mapActions,Ie=Se.mapMutations,Me=Object(o.a)("layout").mapState,ke={components:{ImageContainer:we},props:{subname:String,index:Number,value:Array},data:function(){return{showFlag:!0,parentComponent:!0}},computed:n()({},be(["detailData","categoryInfo","showrun","getShowFlag"]),Me(["userSelectRunFile"])),watch:{userSelectRunFile:function(t){this.setshowrun(t),!1===this.showFlag&&(this.showFlag=!0,this.showFlag=!1)},showFlag:function(t){this.setShowFlag([this.subname,this.showFlag])}},created:function(){this.setshowrun(this.userSelectRunFile),0===this.index&&this.getShowFlag.firstTime&&(this.showFlag=!1,this.setFreshInfo([this.subname,this.showFlag]),this.getData([this.subname,this.value]),this.setShowFlag(["firstTime",!1])),this.getShowFlag.firstTime||void 0!==this.getShowFlag[this.subname]&&(this.showFlag=this.getShowFlag[this.subname])},methods:n()({},Ee(["getData"]),Ie(["setDetailData","setshowrun","setFreshInfo","setShowFlag"]),{showContent:function(){this.showFlag?(this.showFlag=!1,this.setFreshInfo([this.subname,this.showFlag]),0!==this.index&&this.getData([this.subname,this.value])):(this.showFlag=!0,this.setFreshInfo([this.subname,this.showFlag]))}})},Oe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imagescontainer"},[a("div",{class:["images-title",t.showFlag?"titleStyle":""],on:{click:function(e){return t.showContent()}}},[a("div",{class:[t.showFlag?"sub":"sub1"]},[t._m(0)]),t._v(" "),a("div",{staticClass:"line1"}),t._v(" "),a("div",{class:["line2",t.showFlag?"linestyle":""]})]),t._v(" "),a("div",{class:[t.showFlag?"showClass":""]},[a("div",{staticClass:"imagescontent"},[a("el-row",{attrs:{gutter:20}},t._l(t.detailData[t.subname],function(e){return a("image-container",{directives:[{name:"show",rawName:"v-show",value:t.showrun[e.run],expression:"showrun[item.run]"}],key:e.id,attrs:{content:e,parentComponent:t.parentComponent}})}),1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"my-label"},[e("div",{staticClass:"my-text"},[e("span",[this._v("图像")])]),this._v(" "),e("div",{staticClass:"circle-father"},[e("div",{staticClass:"circle"})]),this._v(" "),e("div",{staticClass:"triangle-father"},[e("div",{staticClass:"triangle"})])])}]};var Te=a("VU/8")(ke,Oe,!1,function(t){a("xiTD")},"data-v-31192122",null).exports,Be=a("Gu7T"),Pe=a.n(Be);function Re(t){var e=void 0===t?"undefined":st()(t);if("number"===e||"string"===e){t=parseInt(t);var a=Math.floor(t/60);return t-=60*a,("0"+a).slice(-2)+":"+("0"+t).slice(-2)}return"0:00:00"}var Ae={filters:{formatSecond:function(){return Re(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)},transPlayPause:function(t){return t?"暂停":"播放"},transMutedOrNot:function(t){return t?"放音":"静音"},transSpeed:function(t){return"快进: x"+t}},props:{theUrl:{type:String,required:!0},theSpeeds:{type:Array,default:function(){return[1,1.5,2]}},theControlList:{type:String,default:""},index:Number},data:function(){return{url:this.theUrl||"http://devtest.qiniudn.com/secret base~.mp3",audio:{currentTime:0,maxTime:0,playing:!1,muted:!1,speed:1,waiting:!0,preload:"auto"},mutedShow:!1,sliderTime:0,volume:100,speeds:this.theSpeeds,controlList:{noDownload:!1,noMuted:!1,noVolume:!1,noProcess:!1,onlyOnePlaying:!1,noSpeed:!1,noPadding:!1}}},watch:{theUrl:function(){this.url=this.theUrl,this.audio.playing=!1}},created:function(){this.setControlList()},mounted:function(){this.changeMutedKey()},methods:{downAudio:function(t){var e=this;fetch(t,{headers:new Headers({Origin:location.origin}),mode:"cors"}).then(function(t){return t.blob()}).then(function(t){var a=window.URL.createObjectURL(t);e.download(a,"audio.wav"),window.URL.revokeObjectURL(a)})},download:function(t,e){var a=document.createElement("a");a.download=e,a.href=t,document.body.appendChild(a),a.click(),a.remove()},setControlList:function(){var t=this;this.theControlList.split(" ").forEach(function(e){void 0!==t.controlList[e]&&(t.controlList[e]=!0)})},changeSpeed:function(){var t=this.speeds.indexOf(this.audio.speed)+1;this.audio.speed=this.speeds[t%this.speeds.length],this.$refs.audio.playbackRate=this.audio.speed},startMutedOrNot:function(){this.$refs.audio.muted=!this.$refs.audio.muted,this.audio.muted=this.$refs.audio.muted},formatVolumeToolTip:function(t){return"音量条: "+t},formatProcessToolTip:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"进度条: "+Re(t=parseInt(this.audio.maxTime/100*t))},changeVolume:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$refs.audio.volume=t/100,this.volume=t},changeCurrentTime:function(t){this.$refs.audio.currentTime=parseInt(t/100*this.audio.maxTime)},startPlayOrPause:function(){return this.audio.playing?this.pausePlay():this.startPlay()},startPlay:function(){this.$refs.audio.play()},pausePlay:function(){this.$refs.audio.pause()},onPause:function(){this.audio.playing=!1},onError:function(){this.audio.waiting=!0},onWaiting:function(t){},onPlay:function(t){if(this.audio.playing=!0,this.audio.loading=!1,this.controlList.onlyOnePlaying){var e=t.target,a=document.getElementsByTagName("audio");[].concat(Pe()(a)).forEach(function(t){t!==e&&t.pause()})}},onTimeupdate:function(t){this.audio.currentTime=t.target.currentTime,this.sliderTime=parseInt(this.audio.currentTime/this.audio.maxTime*100)},onLoadedmetadata:function(t){this.audio.waiting=!1,this.audio.maxTime=parseInt(t.target.duration)},changeMutedKey:function(){r.C(".volmeBand").style("display","none"),r.C(".volmeBand").on("mouseover",function(){r.C(".volmeBand").style("display","null")}).on("mouseout",function(){})}}},Fe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.audio.waiting,expression:"audio.waiting"}],staticClass:"di main-wrap"},[a("audio",{ref:"audio",staticClass:"dn",attrs:{src:t.url,preload:t.audio.preload},on:{play:t.onPlay,error:t.onError,waiting:t.onWaiting,pause:t.onPause,timeupdate:t.onTimeupdate,loadedmetadata:t.onLoadedmetadata}}),t._v(" "),a("div",{staticClass:"audioOut"},[a("el-card",{staticClass:"mainAudio myCard"},[a("el-row",{key:"1",staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:2}},[a("el-button",{staticClass:"playButton",attrs:{icon:t.audio.playing?"iconfont icon-zanting":"iconfont icon-ziyuan74",type:"primary",size:"medium"},on:{click:t.startPlayOrPause}})],1),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:t.controlList.noPadding,expression:"controlList.noPadding"}],attrs:{span:2}},[a("span",{staticClass:"timeInfo",attrs:{type:"info"}},[t._v("     ")])]),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.controlList.noDownload,expression:"!controlList.noDownload"}],staticClass:"hidden-md-and-down",attrs:{span:6}},[a("span",{staticClass:"timeInfo",attrs:{type:"info"}},[t._v(t._s(t._f("formatSecond")(t.audio.currentTime))+"/"+t._s(t._f("formatSecond")(t.audio.maxTime)))])]),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.controlList.noProcess,expression:"!controlList.noProcess"}],staticClass:"hidden-sm-and-down",attrs:{span:13}},[a("el-slider",{staticClass:"slider",attrs:{"format-tooltip":t.formatProcessToolTip},on:{change:t.changeCurrentTime},model:{value:t.sliderTime,callback:function(e){t.sliderTime=e},expression:"sliderTime"}})],1),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.controlList.noMuted,expression:"!controlList.noMuted"}],class:["mutedKey"+t.index,"hidden-sm-and-down"],attrs:{span:2}},[a("el-button",{class:[t.audio.muted?"gray":"light"],attrs:{type:"primary",icon:"iconfont icon-ziyuan73",size:"medium"},on:{click:t.startMutedOrNot}})],1),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.controlList.noDownload,expression:"!controlList.noDownload"}],staticClass:"hidden-md-and-down",attrs:{span:2}},[a("el-button",{staticClass:"download",attrs:{href:t.url,download:"audio.wav",icon:"el-icon-bottom",type:"primary",target:"_blank"},on:{click:function(e){return t.downAudio(t.url)}}})],1)],1)],1)],1)])},staticRenderFns:[]};var Le=a("VU/8")(Ae,Fe,!1,function(t){a("TlOq")},"data-v-a92b6bec",null).exports,Ne=Object(o.a)("custom"),Ue=Ne.mapMutations,We=Ne.mapGetters,Ke=Object(o.a)("layout").mapGetters,je=Object(o.a)("media").mapMutations,Ge={components:{customAudio:Le},props:{content:Object,index:Number,parentComponent:Boolean},data:function(){return{scrollvalue:0,audiocontent:[],audiourl:"",size:8,checked:!1,normalTime:""}},computed:n()({},We(["getAudio"]),Ke(["getParams","getTimer"])),watch:{getTimer:function(){this.audiocontent=this.content.value[F()(this.content.value)[0]]},scrollvalue:function(t){var e=this;return W()(N.a.mark(function a(){var i;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.normalTime=pt(e.audiocontent[e.scrollvalue].wall_time),i={step:e.audiocontent[t].step.toString(),run:e.content.run,tag:F()(e.content.value)[0]},a.next=4,J.useGet(V.category.audio_raw,i).then(function(t){200==+t.data.code?e.audiourl=t.data.data:e.setErrorMessage(t.data.msg+"_"+(new Date).getTime())});case 4:case"end":return a.stop()}},a,e)}))()}},mounted:function(){for(var t=this.content.run+"/"+F()(this.content.value)[0],e=0;e<this.getAudio.length;e++)if(t===this.getAudio[e].stringIndex){this.checked=!0;break}this.normalTime=pt(this.audiocontent[this.scrollvalue].wall_time)},created:function(){var t=this;return W()(N.a.mark(function e(){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.audiocontent=t.content.value[F()(t.content.value)[0]],a={step:t.audiocontent[0].step.toString(),run:t.content.run,tag:F()(t.content.value)[0]},e.next=4,J.useGet(V.category.audio_raw,a).then(function(e){200==+e.data.code?t.audiourl=e.data.data:t.setErrorMessage(e.data.msg+"_"+(new Date).getTime())});case 4:case"end":return e.stop()}},e,t)}))()},methods:n()({},Ue(["setAudioData"]),je(["setErrorMessage"]),{sizebig:function(){this.size=24},sizesmall:function(){this.size=8},ischecked:function(){var t={};t.content=this.content,t.index=this.index,t.checked=!1,t.copyToData=!0,this.setAudioData(t)},ischeckedLocal:function(){var t={};t.content=this.content,t.index=this.index,t.checked=this.checked,t.copyToData=!1,this.setAudioData(t)},formatTooltip:function(t){return null===t?0:this.audiocontent[t].step}})},He={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"audiocontainer"},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:8}},[a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-tag",{staticClass:"top"},[t._v("RUN")])],1),t._v(" "),a("el-col",{staticClass:"center",attrs:{span:16}},[a("span",[t._v(t._s(t.content.run))])]),t._v(" "),a("el-col",{staticClass:"center",attrs:{span:2}},[a("div",{staticClass:"leftItem"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"勾选后，点击定制按钮会跳转到用户定制界面",placement:"top"}},[t.parentComponent?a("el-checkbox",{on:{change:t.ischeckedLocal},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}}):t._e()],1),t._v(" "),t.parentComponent?t._e():a("span",{on:{click:t.ischecked}},[a("i",{staticClass:"close-i el-icon-circle-close"})])],1)])],1),t._v(" "),a("el-divider"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-tag",{staticClass:"top"},[t._v("TAG")])],1),t._v(" "),a("el-col",{staticClass:"center",attrs:{span:18}},[a("span",[t._v(t._s(Object.keys(t.content.value)[0]))])])],1),t._v(" "),a("el-divider"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-tag",{staticClass:"bottom"},[t._v("STEP")])],1),t._v(" "),a("el-col",{staticClass:"center",attrs:{span:18}},[a("span",[t._v(t._s(t.audiocontent[t.scrollvalue].step))])])],1),t._v(" "),a("el-divider"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-tag",{staticClass:"bottom"},[t._v("WALL_TIME")])],1),t._v(" "),a("el-col",{staticClass:"center",attrs:{span:18}},[a("span",[t._v(t._s(t.normalTime))])])],1),t._v(" "),a("el-divider"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-tag",{staticClass:"bottom"},[t._v("LABEL")])],1),t._v(" "),a("el-col",{staticClass:"center",attrs:{span:18}},[a("span",[t._v(t._s(t.audiocontent[t.scrollvalue].label))])])],1)],1),t._v(" "),a("div",{staticClass:"audiocontent"},[a("customAudio",{attrs:{theUrl:t.audiourl,index:t.index,theControlList:"noMuted noSpeed onlyOnePlaying"}}),t._v(" "),a("el-slider",{staticClass:"slider",attrs:{max:t.audiocontent.length-1,disabled:t.audiocontent.length-1==0,"format-tooltip":t.formatTooltip},model:{value:t.scrollvalue,callback:function(e){t.scrollvalue=e},expression:"scrollvalue"}})],1)],1)],1)},staticRenderFns:[]};var ze=a("VU/8")(Ge,He,!1,function(t){a("AkWq"),a("F13i")},"data-v-2be8aa3d",null).exports,qe=Object(o.a)("media"),Ye=qe.mapGetters,Je=qe.mapActions,Ve=qe.mapMutations,Qe=Object(o.a)("layout").mapState,Ze={components:{audioContainer:ze},props:{subname:String,index:Number,value:Array},data:function(){return{showFlag:!0,parentComponent:!0}},computed:n()({},Ye(["detailData","categoryInfo","showrun","getShowFlag"]),Qe(["userSelectRunFile"])),watch:{userSelectRunFile:function(t){this.setshowrun(t),!1===this.showFlag&&(this.showFlag=!0,this.showFlag=!1)},showFlag:function(t){this.setShowFlag([this.subname,this.showFlag])}},created:function(){this.setshowrun(this.userSelectRunFile),0===this.index&&this.getShowFlag.firstTime&&(this.showFlag=!1,this.setFreshInfo([this.subname,!1]),this.getData([this.subname,this.value]),this.setShowFlag(["firstTime",!1])),this.getShowFlag.firstTime||void 0!==this.getShowFlag[this.subname]&&(this.showFlag=this.getShowFlag[this.subname])},methods:n()({},Je(["getData"]),Ve(["setDetailData","setshowrun","setFreshInfo","setShowFlag"]),{showContent:function(){this.showFlag?(this.showFlag=!1,this.setFreshInfo([this.subname,!1]),0!==this.index&&this.getData([this.subname,this.value])):(this.showFlag=!0,this.setFreshInfo([this.subname,!0]))}})},Xe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"audioscontainer"},[a("div",{class:["audios-title",t.showFlag?"titleStyle":""],on:{click:function(e){return t.showContent()}}},[a("div",{class:[t.showFlag?"sub":"sub1"]},[t._m(0)]),t._v(" "),a("div",{staticClass:"line1"}),t._v(" "),a("div",{class:["line2",t.showFlag?"linestyle":""]})]),t._v(" "),a("div",{class:[t.showFlag?"showClass":""]},[a("div",{staticClass:"audioscontent"},[a("el-row",{attrs:{gutter:20}},t._l(t.detailData[t.subname],function(e,i){return a("audio-container",{directives:[{name:"show",rawName:"v-show",value:t.showrun[e.run],expression:"showrun[item.run]"}],key:e.index,attrs:{content:e,index:i,parentComponent:t.parentComponent}})}),1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"my-label"},[e("div",{staticClass:"my-text"},[e("span",[this._v("音频")])]),this._v(" "),e("div",{staticClass:"circle-father"},[e("div",{staticClass:"circle"})]),this._v(" "),e("div",{staticClass:"triangle-father"},[e("div",{staticClass:"triangle"})])])}]};var $e=a("VU/8")(Ze,Xe,!1,function(t){a("8A+e")},"data-v-6daa9990",null).exports,ta=Object(o.a)("custom"),ea=ta.mapMutations,aa=ta.mapGetters,ia=Object(o.a)("layout").mapGetters,sa={name:"TextContainer",props:{content:Object,parentComponent:Boolean},data:function(){return{scrollvalue:0,textcontent:[],size:8,checked:!1,normalTime:""}},computed:n()({},aa(["getText"]),ia(["getParams","getTimer"])),watch:{scrollvalue:function(t){this.normalTime=pt(this.textcontent[this.scrollvalue].wall_time)},getTimer:function(){this.textcontent=this.content.value[F()(this.content.value)[0]]}},created:function(){this.textcontent=this.content.value[F()(this.content.value)[0]],this.scrollvalue=0},mounted:function(){for(var t=this.content.run+"/"+F()(this.content.value)[0],e=0;e<this.getText.length;e++)if(t===this.getText[e].stringIndex){this.checked=!0;break}this.normalTime=pt(this.textcontent[this.scrollvalue].wall_time)},methods:n()({},ea(["setTextData"]),{sizebig:function(){this.size=24},sizesmall:function(){this.size=8},formatTooltip:function(t){return null===t?0:this.textcontent[t].step},ischecked:function(){var t={};t.content=this.content,t.copyToData=!0,t.checked=!1,this.setTextData(t)},ischeckedLocal:function(){var t={};t.content=this.content,t.copyToData=!1,t.checked=this.checked,this.setTextData(t)}})},na={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"textcontainer"},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:8}},[a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-tag",{staticClass:"top"},[t._v("RUN")])],1),t._v(" "),a("el-col",{staticClass:"center",attrs:{span:16}},[a("span",[t._v(t._s(t.content.run))])]),t._v(" "),a("el-col",{staticClass:"center",attrs:{span:2}},[a("div",{staticClass:"leftItem"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"勾选后，点击定制按钮会跳转到用户定制界面",placement:"top"}},[t.parentComponent?a("el-checkbox",{on:{change:t.ischeckedLocal},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}}):t._e()],1),t._v(" "),t.parentComponent?t._e():a("span",{on:{click:t.ischecked}},[a("i",{staticClass:"close-i el-icon-circle-close"})])],1)])],1),t._v(" "),a("el-divider"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-tag",{staticClass:"top"},[t._v("TAG")])],1),t._v(" "),a("el-col",{staticClass:"center",attrs:{span:18}},[a("span",[t._v(t._s(Object.keys(t.content.value)[0]))])])],1),t._v(" "),a("el-divider"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-tag",{staticClass:"bottom"},[t._v("STEP")])],1),t._v(" "),a("el-col",{staticClass:"center",attrs:{span:18}},[a("span",[t._v(t._s(t.textcontent[t.scrollvalue].step))])])],1),t._v(" "),a("el-divider"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-tag",{staticClass:"bottom"},[t._v("WALL_TIME")])],1),t._v(" "),a("el-col",{staticClass:"center",attrs:{span:18}},[a("span",[t._v(t._s(t.normalTime))])])],1),t._v(" "),a("el-divider"),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-tag",{staticClass:"bottom"},[t._v("VALUE")])],1),t._v(" "),a("el-col",{staticClass:"center",staticStyle:{height:"100px",overflow:"scroll"},attrs:{span:18}},t._l(t.textcontent[t.scrollvalue].value,function(e,i){return a("div",{key:i,staticClass:"my-label"},[a("div",{staticClass:"circle-father"},[a("div",{staticClass:"circle"})]),t._v(" "),a("div",{staticClass:"my-text"},[a("p",{staticStyle:{"white-space":"pre-wrap"},domProps:{innerHTML:t._s(e)}},[t._v("\n                "+t._s(e)+"\n              ")])])])}),0)],1)],1),t._v(" "),a("div",{staticClass:"textcontent"},[a("el-slider",{attrs:{max:t.textcontent.length-1,disabled:t.textcontent.length-1==0,"format-tooltip":t.formatTooltip},model:{value:t.scrollvalue,callback:function(e){t.scrollvalue=e},expression:"scrollvalue"}})],1)],1)],1)},staticRenderFns:[]};var ra=a("VU/8")(sa,na,!1,function(t){a("e9iV")},"data-v-12515912",null).exports,oa=Object(o.a)("media"),ca=oa.mapGetters,la=oa.mapActions,ha=oa.mapMutations,da=Object(o.a)("layout").mapState,ua={components:{textContainer:ra},props:{subname:String,index:Number,value:Array},data:function(){return{showFlag:!0,parentComponent:!0}},computed:n()({},ca(["detailData","categoryInfo","showrun","getShowFlag"]),da(["userSelectRunFile"])),watch:{userSelectRunFile:function(t){this.setshowrun(t),!1===this.showFlag&&(this.showFlag=!0,this.showFlag=!1)},showFlag:function(t){this.setShowFlag([this.subname,this.showFlag])}},created:function(){this.setshowrun(this.userSelectRunFile),0===this.index&&this.getShowFlag.firstTime&&(this.showFlag=!1,this.setFreshInfo([this.subname,this.showFlag]),this.getData([this.subname,this.value]),this.setShowFlag(["firstTime",!1])),this.getShowFlag.firstTime||void 0!==this.getShowFlag[this.subname]&&(this.showFlag=this.getShowFlag[this.subname])},methods:n()({},la(["getData"]),ha(["setDetailData","setshowrun","setFreshInfo","setShowFlag"]),{showContent:function(){this.showFlag?(this.showFlag=!1,this.setFreshInfo([this.subname,this.showFlag]),0!==this.index&&this.getData([this.subname,this.value])):(this.showFlag=!0,this.setFreshInfo([this.subname,this.showFlag]))}})},ga={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"textscontainer"},[a("div",{class:["texts-title",t.showFlag?"titleStyle":""],on:{click:function(e){return t.showContent()}}},[a("div",{class:[t.showFlag?"sub":"sub1"]},[t._m(0)]),t._v(" "),a("div",{staticClass:"line1"}),t._v(" "),a("div",{class:["line2",t.showFlag?"linestyle":""]})]),t._v(" "),a("div",{class:[t.showFlag?"showClass":""]},[a("div",{staticClass:"textscontent"},[a("el-row",{attrs:{gutter:20}},t._l(t.detailData[t.subname],function(e){return a("textContainer",{directives:[{name:"show",rawName:"v-show",value:t.showrun[e.run],expression:"showrun[item.run]"}],key:e.index,attrs:{content:e,parentComponent:t.parentComponent}})}),1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"my-label"},[e("div",{staticClass:"my-text"},[e("span",[this._v("文本")])]),this._v(" "),e("div",{staticClass:"circle-father"},[e("div",{staticClass:"circle"})]),this._v(" "),e("div",{staticClass:"triangle-father"},[e("div",{staticClass:"triangle"})])])}]};var pa=a("VU/8")(ua,ga,!1,function(t){a("i91a")},"data-v-bd999470",null).exports,fa=Object(o.a)("custom").mapMutations,_a=Object(o.a)("media"),ma=_a.mapGetters,va=_a.mapMutations,ya=_a.mapActions,xa=Object(o.a)("layout").mapGetters,Ca={components:{images:Te,audios:$e,texts:pa},data:function(){return{type:{audio:"audios",image:"images",text:"texts"},data:[],totaltag:""}},beforeRouteLeave:function(t,e,a){this.setRouter(2),a()},computed:n()({},ma(["categoryInfo","getTotaltag","getFreshInfo","getErrorMessage","getIntervalChange"]),xa(["getTimer"])),watch:{categoryInfo:function(){this.settotaltag()},getErrorMessage:function(t){this.$message({message:t.split("_")[0],type:"error"})},getIntervalChange:function(){this.settotaltag&&(console.log("dataing"),this.settotaltag(),this.totaltag=this.getTotaltag)}},mounted:function(){""!==this.getTotaltag?this.totaltag=this.getTotaltag:this.settotaltag()},methods:n()({},fa(["setRouter"]),va(["setTotaltag"]),ya(["getData"]),{settotaltag:function(){if(""!==this.categoryInfo){this.data=[].concat(JSON.parse($()(this.categoryInfo))),this.totaltag={};for(var t={},e=0;e<this.data[1].length;e++){t=JSON.parse($()(this.data[1][e]));for(var a=0;a<F()(t).length;a++){void 0===this.totaltag[F()(t)[a]]&&(this.totaltag[F()(t)[a]]=[]);var i=this.totaltag[F()(t)[a]].concat(t[F()(t)[a]]);this.totaltag[F()(t)[a]]=R()(new gt.a(i))}}for(var s in this.setTotaltag(this.totaltag),this.getFreshInfo)!1===this.getFreshInfo[s]&&this.getData([s,this.totaltag[s]])}}})},Da={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"medias"},[a("div",{class:["display-panel"]},t._l(t.totaltag,function(e,i,s){return a("div",{key:s},[a(t.type[i],{tag:"component",staticClass:"content",attrs:{value:e,subname:i,index:s}})],1)}),0)])])},staticRenderFns:[]};var wa=a("VU/8")(Ca,Da,!1,function(t){a("5ryG")},"data-v-49879287",null).exports,Sa=Object(o.a)("media"),ba=(Sa.mapMutations,Sa.mapGetters,{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mediaspanel"},[e("div",{staticClass:"panel"},[e("el-card",{staticClass:"father"},[e("div",{staticClass:"info"},[e("div",{staticClass:"infoTitle"},[e("span",{staticClass:"iconfont icon-ziyuan41",attrs:{i:""}},[this._v("  数据信息栏")])]),this._v(" "),e("div",{staticClass:"infoContent"},[e("div",{staticClass:"infoItem"},[e("span",[this._v("暂无信息")])])])])])],1)])},staticRenderFns:[]});var Ea=a("VU/8")({},ba,!1,function(t){a("edQV")},"data-v-0ecd001c",null).exports,Ia=a("gntY"),Ma={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"temp"},[e("div",{staticClass:"Graph",attrs:{id:"test"}},[e("svg",{staticStyle:{float:"left"},attrs:{id:"svg-canvas"}},[e("defs",[e("marker",{attrs:{id:"dot",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",viewBox:"0 0 20 20",refX:"10",refY:"10"}},[e("circle",{staticStyle:{fill:"black"},attrs:{cx:"10",cy:"10",r:"4"}})])]),this._v(" "),e("g",{attrs:{id:"draw"}})]),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.showTag,expression:"showTag"}],staticClass:"assist",staticStyle:{right:"0%",display:"flex","flex-direction":"column",width:"20%",height:"100%","background-color":"white"},attrs:{id:"assist"}},[this._m(0),this._v(" "),e("div",{staticStyle:{height:"calc(100% - 20px)"}},[e("svg")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"20px"}},[e("span",[this._v("删除节点")])])}]};var ka=function(t){a("kUQg")},Oa=a("VU/8")(Ia.a,Ma,!1,ka,"data-v-0b2a24e7",null).exports;i.default.use(wt.a);var Ta=Object(o.a)("graph"),Ba=Ta.mapGetters,Pa=Ta.mapMutations,Ra=Object(o.a)("layout").mapState,Aa={name:"GraphsPanel",data:function(){return{value1:"",option:[],tag:{NODE_PROPERTIES:0,INPUTS:0,OUTPUTS:0,ATTRIBUTES:0},graphDegree:100,reg:"",clickNode:[],value:"",min:"",max:"",text1:"",text2:"",obj:"",options:[{value:"input",label:"入度"},{value:"output",label:"出度"}],tags:[{value:"<",label:"<"},{value:"<=",label:"<="},{value:"==",label:"="},{value:">",label:">"},{value:">=",label:">="}],item:[[{type:"",tag:"",num:""}]],Reg:"",tagRadioFlag:!0,cGraph:!0}},computed:n()({},Ba(["getInfo","getClick","getRunName","getTagName","getCurTag","getRunChangeTag","getIsDrawing","getSList","getInitOption"]),Ra(["userSelectRunFile"])),watch:{getInitOption:function(t){this.value1=t},getSList:function(t){this.option=t},value1:function(t){this.setData(t)},getCurTag:function(t){this.obj="",this.cGraph="c_graph"===t},userSelectRunFile:function(){"c_graph"===this.getCurTag?this.cGraph=!0:this.cGraph=!1},getInfo:function(t){r.C(".flag").style("display",""),this.tag.ATTRIBUTES=1,this.tag.INPUTS=1,this.tag.OUTPUTS=1,this.tag.NODE_PROPERTIES=1;var e=JSON.parse(t),a={};if(e.info)"init"===e.info&&(this.obj="");else{if(a.NODE_PROPERTIES={},a.NODE_PROPERTIES.name=e.uid,e.op&&(a.NODE_PROPERTIES.op=e.op),e.attr)for(var i in a.ATTRIBUTES={},e.attr)"_output_shapes"===i?1===e.attr[i].length?""!==e.attr[i][0]&&(a.ATTRIBUTES[i]=e.attr[i][0]):a.ATTRIBUTES[i]=e.attr[i]:"shape"===i?""!==e.attr[i]&&(a.ATTRIBUTES[i]=e.attr[i]):a.ATTRIBUTES[i]=e.attr[i];if(e.inNode.length>0){a.INPUTS={};if(1===e.inNode.length)a.INPUTS.input=e.inNode[0];else{var s="";for(var n in e.inNode)s="input"+n.toString(),a.INPUTS[s]=e.inNode[n]}}if(e.outNode.length>0){a.OUTPUTS={};if(1===e.outNode.length)a.OUTPUTS.output=e.outNode[0];else{var o="";for(var c in e.outNode)o="output"+c.toString(),a.OUTPUTS[o]=e.outNode[c]}}this.obj=a}},getClick:function(t){this.clickNode.push(t)}},mounted:function(){"c_graph"===this.getCurTag?this.cGraph=!0:this.cGraph=!1,this.option=this.getSList,this.value1=this.getInitOption},methods:n()({},Pa(["Clear","regularEx","Run","Hidden","Pre","Modify","regClear","setCurTag","setData"]),{changeTag:function(t){if(!this.getRunChangeTag&&!this.getIsDrawing){for(var e=0,a=0;a<this.getRunName.length;a+=1)if(this.userSelectRunFile===this.getRunName[a]){e=a;break}1!==this.getTagName[e].length&&this.setCurTag(t)}},addAnd:function(t){t.push({type:"",tag:"",num:""})},delAnd:function(t,e,a,i){if(0!==a||0!==i||1!==this.item.length||1!==t.length){var s=t.indexOf(e);t.splice(s,1),0===t.length&&this.item.splice(a,1)}},addOr:function(){this.item.splice(this.item.length,0,[{type:"",tag:"",num:""}])},delOr:function(t){0===t&&1===this.item.length||this.item.splice(t,1)},to_Reg:function(){for(var t="",e=0;e<this.item.length;e+=1){for(var a="",i=0;i<this.item[e].length;i+=1){var s="";(s=""===this.item[e][i].type||""===this.item[e][i].tag||""===this.item[e][i].num||isNaN(Number(this.item[e][i].num))?"":s+this.item[e][i].type+this.item[e][i].tag+this.item[e][i].num)&&(a=a+s+"&&")}"&&"===a.slice(-2)&&(a=a.substring(0,a.length-2)),a&&(a="("+a+")",e>0&&""!==t&&(a="||"+a),t+=a)}this.Reg=t},hidde:function(){this.to_Reg(),this.regularEx(this.Reg),this.Hidden()},switchTag:function(t){t=t.replace(/\s/,""),"none"===r.B("#"+t)._groups[0][0].style.display?(r.B("#"+t).style("display",""),this.tag[t]=1):(r.B("#"+t).style("display","none"),this.tag[t]=0)}})},Fa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"temp"},[a("div",{staticClass:"graphPanel"},[a("div",{staticClass:"graphPanelHead"},[a("div",{class:[t.cGraph?"graphhead2":"graphhead1"],attrs:{id:"c-graph"},on:{click:function(e){return t.changeTag("c_graph")}}},[t._v("\n        计算图\n      ")]),t._v(" "),a("div",{class:[t.cGraph?"graphhead1":"graphhead2"],attrs:{id:"s-graph"},on:{click:function(e){return t.changeTag("s_graph")}}},[t._v("\n        结构图\n      ")])]),t._v(" "),a("el-card",[a("div",{staticClass:"graphPanelContent"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.cGraph,expression:"cGraph"}],staticClass:"cGraphPanel"},[a("el-row",{staticStyle:{"margin-bottom":"7%","font-size":"15px"}},[t._v("条件过滤")]),t._v(" "),t._l(t.item,function(e,i){return[i?[a("el-row",{key:i+"orRow",staticClass:"orRow"},[a("el-link",{attrs:{disabled:""}},[t._v("OR")])],1)]:t._e(),t._v(" "),a("el-row",{key:i+"mainSection",staticClass:"mainSection"},[a("el-row",{staticStyle:{height:"5%"}},[a("div",{staticStyle:{float:"right"}},[a("el-button",{staticClass:"choose",staticStyle:{color:"#662d91"},attrs:{icon:"iconfont icon-zise-",size:"mini"},on:{click:function(e){return t.delOr(i)}}})],1)]),t._v(" "),t._l(e,function(s,n){return[n?[a("el-row",{key:i+"-"+n+"-seg",staticClass:"andRow"},[a("el-link",{attrs:{disabled:""}},[t._v("AND")])],1)]:t._e(),t._v(" "),a("div",{key:i+"-"+n+"-section",staticStyle:{"margin-right":"2%","margin-left":"4%"}},[a("el-row",{key:i+"-"+n+"-condition",staticClass:"coloredRow"},[a("el-col",{attrs:{span:22}},[a("el-row",{attrs:{gutter:7}},[a("el-col",{attrs:{span:8}},[a("el-select",{staticClass:"selection1",attrs:{placeholder:"入(出)度",size:"mini"},model:{value:s.type,callback:function(e){t.$set(s,"type",e)},expression:"item2.type"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-select",{staticClass:"selection2",attrs:{placeholder:"符号",size:"mini"},model:{value:s.tag,callback:function(e){t.$set(s,"tag",e)},expression:"item2.tag"}},t._l(t.tags,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{staticClass:"selection",attrs:{placeholder:"",size:"mini"},model:{value:s.num,callback:function(e){t.$set(s,"num",e)},expression:"item2.num"}})],1)],1)],1),t._v(" "),a("el-col",{staticStyle:{padding:"0"},attrs:{span:2}},[a("div",{staticStyle:{"margin-top":"20%"}},[a("el-button",{staticClass:"choose",staticStyle:{color:"#fbb03b"},attrs:{icon:"iconfont icon-huangse-",size:"mini"},on:{click:function(a){return t.delAnd(e,s,i,n)}}})],1)])],1)],1)]}),t._v(" "),a("el-row",[a("div",{staticStyle:{"margin-top":"2%","margin-bottom":"2%","margin-left":"47%"}},[t._v("\n                  AND\n                  "),a("el-button",{staticClass:"choose",staticStyle:{color:"#fbb03b"},attrs:{icon:"iconfont icon-huangse",size:"mini"},on:{click:function(a){return t.addAnd(e)}}})],1)])],2)]}),t._v(" "),a("el-row",[a("div",{staticStyle:{"margin-top":"3%","margin-bottom":"3%","margin-left":"47%"}},[t._v("\n              OR\n              "),a("el-button",{staticClass:"choose",staticStyle:{color:"#662d91"},attrs:{icon:"iconfont icon-zise",size:"mini"},on:{click:function(e){return t.addOr()}}})],1)])],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.cGraph,expression:"!cGraph"}],staticClass:"sGraphPanel"},[a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},t._l(t.option,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)])])])],1),t._v(" "),a("div",{staticClass:"buttons"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"条件过滤后点击该按钮隐藏节点",placement:"top-start"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.cGraph,expression:"cGraph"}],staticClass:"buttonOption1",attrs:{round:"",size:"mini"},on:{click:function(e){return t.hidde()}}},[t._v("隐藏")])],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"隐藏节点后点击该按钮",placement:"top-start"}},[t.cGraph?a("el-button",{staticClass:"buttonOption1",attrs:{round:"",size:"mini"},on:{click:function(e){return t.Run()}}},[t._v("布局")]):a("el-button",{staticClass:"buttonOption1",staticStyle:{"margin-left":"40%"},attrs:{round:"",size:"mini"},on:{click:function(e){return t.Run()}}},[t._v("布局")])],1),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.cGraph,expression:"cGraph"}],staticClass:"buttonOption2",attrs:{round:"",size:"mini"},on:{click:function(e){return t.Pre()}}},[t._v("上一步")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.cGraph,expression:"cGraph"}],staticClass:"buttonOption2",attrs:{round:"",size:"mini"},on:{click:function(e){return t.Clear()}}},[t._v("初始化")])],1),t._v(" "),a("div",{staticClass:"info"},[t._m(0),t._v(" "),a("el-card",[a("div",{staticClass:"infoContent"},[t._l(t.obj,function(e,i){return[a("div",{key:i+"-control",staticClass:"information",staticStyle:{float:"left",width:"100%",clear:"both"}},[a("el-card",{staticClass:"cardStyle"},[a("el-col",{attrs:{span:24}},[a("el-col",{attrs:{span:3}},[a("div",{staticStyle:{float:"left","margin-bottom":"10px"}},[a("el-button",{staticStyle:{color:"#6f6bd8"},attrs:{icon:0==t.tag[i]?"iconfont icon-suohui":"iconfont icon-zhankai1",size:"mini"},on:{click:function(e){return t.switchTag(i)}}})],1)]),t._v(" "),a("el-col",{attrs:{span:21}},[a("div",{staticStyle:{float:"left","margin-bottom":"5%"}},[t._v("\n                    "+t._s(i)+"\n                  ")])])],1)],1)],1),t._v(" "),a("div",{key:i+"-box",staticClass:"flag",staticStyle:{display:'"inline"',clear:"both"},attrs:{id:i}},[a("ul",[t._l(e,function(e,i){return[a("div",{key:i,staticStyle:{padding:"1%",clear:"both"}},[a("li",[a("el-col",{attrs:{span:12}},[a("div",{staticStyle:{float:"left"}},[a("span",{staticClass:"ddot"}),t._v(t._s(i))])]),t._v(" "),a("div",{staticStyle:{float:"left","word-break":"break-all"}},[t._v(t._s(e))])],1)])]})],2)])]})],2)])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"infoTitle"},[e("i",{staticClass:"el-icon-chat-line-round dot"}),this._v("数据信息栏")])}]};var La=a("VU/8")(Aa,Fa,!1,function(t){a("GphD")},"data-v-727b32fd",null).exports,Na=Object(o.a)("hyperparm"),Ua=Na.mapMutations,Wa=Na.mapGetters,Ka={name:"HyperPara",data:function(){return{items:[],selected:"",data:[],keys:[],choice:!0,localAxisType:{},localSelectedDatas:[],width:"",tableShow:!1}},computed:n()({},Wa(["getAllData","getGlobalChange","getKey","getSelected","getAxisType","getGlobalSelectedDatas","getHypEmpty","getMainParams"])),watch:{getHypEmpty:function(t){this.tableShow=t},selected:function(t){this.drawPara(t)},getAllData:function(t){if(0===t.length)return this.items=[],this.data=[],this.keys=[],this.selected="",this.localSelectedDatas=[],void this.setHypEmpty(!1);this.setHypEmpty(!0),this.data=JSON.parse($()(t)),this.keys=F()(this.data[0]),this.items=this.getMainParams,this.selected=this.getSelected,this.localAxisType=this.getAxisType,this.localSelectedDatas=this.data,this.drawPara(this.selected)},getSelected:function(t){this.selected=t},getGlobalChange:function(t){this.localAxisType=this.getAxisType,this.drawPara(this.selected)},getGlobalSelectedDatas:function(t){""===t&&(t=this.getAllData),this.localSelectedDatas=JSON.parse($()(t))}},mounted:function(){0!==this.getAllData.length&&(this.items=this.getMainParams,this.keys=F()(this.getAllData[0]),this.data=this.getAllData,this.selected=this.getSelected,this.localAxisType=this.getAxisType,this.localSelectedDatas=this.getAllData,this.setHypEmpty(!0))},methods:n()({},Ua(["setFocusData","setGlobalSelectedDatas","setHypEmpty"]),{drawPara:function(t){if(r.B("#hp").selectAll("svg").remove(),0!==this.data.length){this.setGlobalSelectedDatas(this.getAllData);var e=this.data,a=20,i=50,s=20,n=this,o=600-s-20,c=200-a-i,l=r.z().rangeRound([0,o]).padding(1),h={},d={},u=r.q().curve(r.i),g=r.B("#hp").attr("class","parcoords").append("svg").attr("class","my_svg").attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 "+o+" 200").append("g").attr("transform","translate("+-s+","+a+")"),p=function(t){return parseFloat(t)===t||""===t},f=r.r(e,function(e){return+e[t]}),_=r.t(e,function(e){return+e[t]}),m=r.p(e[0]);l.domain(m),m.forEach(function(t){var a=e.map(function(e){return e[t]});if(a.every(p)){var i=r.m(e,function(e){return+e[t]});"log"===n.localAxisType[t]?i[0]===i[1]?h[t]=r.x().domain([.9*i[0],1.1*i[1]]).range([c-.5,0]).nice():h[t]=r.x().domain(i).range([c-.5,0]).nice():i[0]===i[1]?h[t]=r.w().domain([i[0]-1,i[1]+1]).range([c,0]).nice():h[t]=r.w().domain(i).range([c,0]).nice()}else a.sort(),h[t]=r.z().domain(a.filter(function(t,e){return a.indexOf(t)===e})).range([c,0],1)});var v=m.map(function(t){return[0,0]}),y=g.append("g").attr("class","background").selectAll("path").data(e).enter().append("path").attr("d",k).attr("fill","none"),x=r.w().domain([0,50]).range([f,_]),C=r.A().domain([f,_]).interpolator(r.o),D=g.append("g").attr("class","foreground").selectAll("path").data(e).enter().append("path").attr("d",k).attr("stroke",function(e){return C(e[t])}).attr("fill","none").on("mouseover",function(t,e){this.parentNode.appendChild(this),r.B(this).transition().duration("50").attr("stroke-width","2px"),n.setFocusData(JSON.parse($()(t)))}).on("mouseout",function(t,e){r.B(this).transition().duration("50").attr("stroke-width","1px")}),w=r.n(".2f"),S=g.append("g").attr("class","legend").attr("transform","translate("+(l(m[this.keys.length-1])+40)+","+(c+a+i-130)+")");S.selectAll("rect").data(r.v(50)).enter().append("rect").attr("x","10px").attr("y",function(t,e){return e}).attr("width",7).attr("height",10).style("fill",function(t,e){return C(x(t))}),S.append("g").attr("class","legendText").append("text").attr("fill","black").text(w(_)).attr("x","8px").attr("y","67px"),S.append("g").attr("class","legendText").append("text").attr("fill","black").text(w(f)).attr("x","8px").attr("y","-3px");var b=g.selectAll(".dimension").data(m).enter().append("g").attr("class","dimension").attr("transform",function(t){return"translate("+l(t)+")"}).call(r.j().subject(function(t){return{x:l(t)}}).on("start",function(t){d[t]=l(t),y.attr("visibility","hidden")}).on("drag",function(t){d[t]=Math.min(o,Math.max(0,r.l.x)),D.attr("d",k),m.sort(function(t,e){return I(t)-I(e)}),l.domain(m),b.attr("transform",function(t){return"translate("+I(t)+")"})}).on("end",function(t){delete d[t],M(r.B(this)).attr("transform","translate("+l(t)+")"),M(D).attr("d",k),y.attr("d",k).transition().delay(500).duration(0).attr("visibility",null)})),E=g.selectAll(".dimension");E.append("g").attr("class","axis").each(function(t){r.B(this).call(r.c(h[t]).tickSize(3))}).append("text").attr("class","axisText").attr("fill","white").style("text-anchor","middle").attr("y",c+18).text(function(t){return t}),r.C(".dimension").each(function(t,e){var a=r.B(this).select("text.axisText").node().getBBox();r.B(this).append("rect").attr("class","backgroundRect").attr("x",function(t){return-(a.width+10)/2}).attr("y",c+10).attr("height",a.height+6).attr("width",a.width+9).attr("rx",3).attr("ry",3),r.B(this).append("text").attr("class","backgroundText").attr("fill","rgb(44, 99, 155)").attr("font-size","6px").style("text-anchor","middle").attr("y",c+18).text(t)}),E.append("g").attr("class","brush").each(function(t){n.items.indexOf(t)<=-1?r.B(this).call(h[t].brush=r.g().extent([[-4,0],[4,c]]).on("brush start",B).on("brush",O).on("brush",A).on("end",F)):r.B(this).call(h[t].brush=r.g().extent([[-4,0],[4,c]]).on("brush start",B).on("brush",O).on("brush",P).on("end",R))}).selectAll("rect").attr("x",-8).attr("width",16)}function I(t){var e=d[t];return null==e?l(t):e}function M(t){return t.transition().duration(500)}function k(t){return u(m.map(function(e){return[I(e),h[e](t[e])]}))}function O(){r.l.sourceEvent.stopPropagation()}function T(){var t=[];D.each(function(e){!0===m.every(function(t,a){return 0===v[a][0]&&0===v[a][0]||v[a][1]<=e[t]&&e[t]<=v[a][0]})&&t.push(e)}),n.setGlobalSelectedDatas(JSON.parse($()(t)))}function B(t){D.style("display","none");var e=m.indexOf(t);v[e]=[0,0],D.style("display",function(t){return m.every(function(e,a){return 0===v[a][0]&&0===v[a][0]||v[a][1]<=t[e]&&t[e]<=v[a][0]})?null:"none"}),T()}function P(){for(var t=0;t<m.length;++t)r.l.target===h[m[t]].brush&&(v[t]=r.l.selection.map(h[m[t]].invert,h[m[t]]));D.style("display",function(t){return m.every(function(e,a){return 0===v[a][0]&&0===v[a][0]||v[a][1]<=t[e]&&t[e]<=v[a][0]})?null:"none"}),T()}function R(){if(r.l.sourceEvent&&r.l.selection){for(var t=0;t<m.length;++t)r.l.target===h[m[t]].brush&&(v[t]=r.l.selection.map(h[m[t]].invert,h[m[t]]),r.B(this).transition().call(r.l.target.move,v[t].map(h[m[t]])));T()}}function A(){for(var t=0;t<m.length;++t)if(r.l.target===h[m[t]].brush){var e=h[m[t]],a=e.domain().filter(function(t){var a=r.l.selection;return a[0]<=e(t)&&e(t)<=a[1]}).sort();v[t]=[a[a.length-1],a[0]]}D.style("display",function(t){return m.every(function(e,a){return 0===v[a][0]&&0===v[a][0]||v[a][1]<=t[e]&&t[e]<=v[a][0]})?null:"none"})}function F(){if(r.l.sourceEvent&&r.l.selection){for(var t=0;t<m.length;++t)if(r.l.target===h[m[t]].brush){var e=h[m[t]],a=e.domain().filter(function(t){var a=r.l.selection;return a[0]<=e(t)&&e(t)<=a[1]}),i=a.sort();v[t]=[i[i.length-1],i[0]],a.length>1&&r.B(this).transition().call(r.l.target.move,v[t].map(h[m[t]]))}T()}}},getRowDatas:function(t){var e=JSON.parse($()(t));this.highlight(e)},unhighlight:function(t){r.B(".foreground").selectAll("path").each(function(e){var a={},i={};F()(t).sort().forEach(function(s){a[s]=t[s],i[s]=e[s]}),i=$()(i),a=$()(a),i===a&&r.B(this).attr("stroke-width","1px")})},highlight:function(t){this.setFocusData(JSON.parse($()(t))),r.B(".foreground").selectAll("path").each(function(e){var a={},i={};F()(t).sort().forEach(function(s){a[s]=t[s],i[s]=e[s]}),i=$()(i),a=$()(a),i===a&&(this.parentNode.appendChild(this),r.B(this).attr("stroke-width","2px"))})},tableRowClassName:function(t){for(var e=t.row,a=(t.rowIndex,$()(e)),i=JSON.parse($()(this.localSelectedDatas)),s=0;s<i.length;s++){if($()(i[s])===a)return"success-row"}return""},leftTransform:function(t,e){r.C(".dimension").each(function(a){e[0]===a&&r.B(this).attr("transform","translate("+t+")")})}})},ja={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"100%"}},[a("div",{staticStyle:{width:"100%",height:"55%"},attrs:{id:"hp"}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableShow,expression:"tableShow"}],attrs:{id:"grid"}},[a("el-table",{staticStyle:{"font-size":"12px",fit:"true",align:"center"},attrs:{data:t.data,fit:t.choice,"default-sort":{prop:"accuracy",order:"descending"},"header-cell-style":{background:"rgb(224, 231, 250)",color:"#606266"},"row-class-name":t.tableRowClassName,"row-style":{height:"10px"},"cell-style":{padding:"8px 0"}},on:{"cell-mouse-enter":t.highlight,"cell-mouse-leave":t.unhighlight}},[a("el-table-column",{attrs:{align:"center",type:"index"}}),t._v(" "),t._l(t.keys,function(t,e){return a("el-table-column",{key:e,attrs:{prop:t,label:t,align:"center",fit:"true"}})})],2)],1)])},staticRenderFns:[]};var Ga=a("VU/8")(Ka,ja,!1,function(t){a("Mp9O")},null,null).exports,Ha=Object(o.a)("hyperparm"),za=Ha.mapActions,qa=Ha.mapGetters,Ya=Ha.mapMutations,Ja=Object(o.a)("layout"),Va=Ja.mapState,Qa=Ja.mapGetters,Za={components:{HyperPara:Ga},computed:n()({},qa(["getAllData","getCategoryInfo","getRequestState","getErrorMessage","getIntervalChange"]),Va(["userSelectRunFile"]),Qa(["getTimer"])),watch:{userSelectRunFile:function(t){if(""===t)this.setAllData("null"),this.setHypEmpty(!0);else{var e={run:t};this.featchAllData(e),this.setHypEmpty(!1)}},getErrorMessage:function(t){this.$message({message:t.split("_")[0],type:"error"})},getIntervalChange:function(){if(this.userSelectRunFile){var t={run:this.userSelectRunFile};this.featchAllData(t)}}},mounted:function(){if(this.userSelectRunFile){var t={run:this.userSelectRunFile};this.featchAllData(t)}},destroyed:function(){this.setAllData("null")},methods:n()({},za(["featchAllData"]),Ya(["setAllData","setHypEmpty","setSelfCategoryInfo"]))},Xa={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"temp"},[e("div",{class:["display-panel"]},[e("HyperPara")],1)])},staticRenderFns:[]};var $a=a("VU/8")(Za,Xa,!1,function(t){a("fhGP")},"data-v-61f48385",null).exports,ti=Object(o.a)("hyperparm"),ei=ti.mapMutations,ai=ti.mapGetters,ii={data:function(){return{selected:"",focusData:[],keys:[],localSelectedDatas:[],localKeys:[],localAxisType:{},infoControl:!1,columnWidth:["31%","22%","25%","22%"],panelShow:!1}},computed:n()({},ai(["getAllData","getSelected","getFocusData","getGlobalSelectedDatas","getAxisType","getHypEmpty","getKey","getAxisParms","getMainParams"])),watch:{getHypEmpty:function(t){this.panelShow=t},selected:function(t){this.setSelected(t)},getSelected:function(t){this.selected=t},getFocusData:function(t){this.focusData=JSON.parse($()(t)),0!==this.focusData.length?this.infoControl=!0:this.infoControl=!1,0!==this.getAllData.length&&(this.keys=F()(this.getAllData[0]))},getGlobalSelectedDatas:function(t){t===[]&&(t=this.getAllData),this.calcData(t)}},mounted:function(){this.selected=this.getSelected,this.localAxisType=this.getAxisType,this.calcData(this.getAllData)},methods:n()({},ei(["setSelected","setGlobalSelectedDatas","setAxisType"]),{changeData:function(t,e){this.setAxisType(t,e)},calcData:function(t){var e=JSON.parse($()(t)),a=this.getMainParams,i=r.n(".2f"),s=[];a.forEach(function(t){var a=r.r(e,function(e){return+e[t]}),n=r.t(e,function(e){return+e[t]}),o=r.s(e,function(e){return+e[t]}),c={Items:t,Min:i(n),Mean:i(o),Max:i(a)};s.push(c)}),s=JSON.parse($()(s)),this.localSelectedDatas=s,this.localKeys=r.p(s[0])}})},si={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"temp"},[a("div",{staticClass:"information"},[a("el-card",[a("div",{staticClass:"infoTitle"},[a("div",{staticClass:"statistichead1"},[a("span",{staticClass:"icon iconfont"},[t._v("")]),t._v("控制面板")])]),t._v(" "),a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.panelShow,expression:"!panelShow"}],staticClass:"infoContent infoItem"},[t._v("暂无信息")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.panelShow,expression:"panelShow"}],staticClass:"infoContent"},[a("div",{staticClass:"hypPanelSelect"},[a("span",[t._v("主参数：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.getMainParams,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),a("div",[a("span",[t._v("坐标尺度:")]),t._v(" "),a("el-row",t._l(t.getAxisParms,function(e,i){return a("div",{key:i},[a("div",{staticClass:"hypScale",staticStyle:{align:"left"}},[a("el-col",{attrs:{span:8}},[a("div",[t._v(t._s(e)+":")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",[a("el-radio",{attrs:{label:"linear"},on:{change:function(a){return t.changeData("linear",e)}},model:{value:t.getAxisType[e],callback:function(a){t.$set(t.getAxisType,e,a)},expression:"getAxisType[item]"}},[t._v("Linear")])],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",[a("el-radio",{attrs:{label:"log"},on:{change:function(a){return t.changeData("log",e)}},model:{value:t.getAxisType[e],callback:function(a){t.$set(t.getAxisType,e,a)},expression:"getAxisType[item]"}},[t._v("Log")])],1)])],1),t._v(" "),a("br")])}),0)],1)])])])],1),t._v(" "),a("div",{staticClass:"information"},[a("el-card",[a("div",{staticClass:"infoTitle"},[a("div",{staticClass:"statistichead1"},[a("span",{staticClass:"icon iconfont"},[t._v("")]),t._v("统计信息栏")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.panelShow,expression:"!panelShow"}],staticClass:"infoContent infoItem"},[t._v("暂无信息")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.panelShow,expression:"panelShow"}],staticClass:"infoContent hypTable"},[a("el-table",{attrs:{data:t.localSelectedDatas,"header-cell-style":{color:"rgb(96, 97, 174)"}}},t._l(t.localKeys,function(e,i){return a("el-table-column",{key:i,attrs:{prop:e,label:e,"min-width":t.columnWidth[i],align:"left"}})}),1)],1)])],1),t._v(" "),a("div",{staticClass:"information"},[a("el-card",[a("div",{staticClass:"infoTitle"},[a("div",{staticClass:"statistichead1"},[a("span",{staticClass:"icon iconfont"},[t._v("")]),t._v("数据信息栏")])]),t._v(" "),a("div",{staticClass:"infoContent"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.infoControl,expression:"!infoControl"}],staticClass:"infoItem"},[t._v("暂无信息")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.infoControl,expression:"infoControl"}]},t._l(t.keys,function(e,i){return a("div",{key:i},[a("div",{staticClass:"infoItem"},[a("el-row",[a("el-col",{attrs:{span:10}},[t._v(t._s(e)+":")]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(t._s(t.getFocusData[e]))])],1)],1)])}),0)])])],1)])},staticRenderFns:[]};var ni=a("VU/8")(ii,si,!1,function(t){a("EtAl"),a("gfnN")},"data-v-15c2569a",null).exports,ri={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"temp"},[this._v("\n    Features content panel\n    ")])])}]};var oi=a("VU/8")(null,ri,!1,function(t){a("Fqsd")},"data-v-4b30c192",null).exports,ci={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"temp"},[this._v("\n  Features paramenter panel\n")])},staticRenderFns:[]};var li=a("VU/8")(null,ci,!1,function(t){a("77Wi")},"data-v-09245705",null).exports,hi=Object(o.a)("statistic"),di=hi.mapGetters,ui=hi.mapMutations,gi={name:"Onethreed",props:{data:Array,ttlabel:String,tag:String,itemp:Number,className:String,runColor:String},data:function(){return{id:"offset"+this.itemp}},computed:n()({},di(["getShowNumber"])),watch:{data:function(){document.getElementsByClassName(this.className)[0].innerHTML="",this.drawOffset()}},mounted:function(){this.drawOffset()},methods:n()({},ui(["setStatisticInfo"]),{numberChangeToE:function(t){if(Math.abs(t)>1e4){var e=e=t.toString().length-1;return t<0&&(e=t.toString().length-2),(t/Math.pow(10,e)).toFixed(2)+"e+"+e}if(Math.abs(t)<.001){if(0===t)return t;var a=t.toString();if(-1!==a.indexOf("e"))return t;var i=3;for(t<0&&(i=4);i<a.length&&"0"===a[i];i++);return t<0&&(i-=1),(t*Math.pow(10,i-1)).toFixed(2)+"e-"+(i-1)}return t},drawOffset:function(){for(var t=this,e=this.id,a=this.data,i="."+this.className,s=this,n=1e4,o=0,c=0;c<a.length;c++)for(var l=0;l<a[c].length;l++)n>a[c][l][1]&&(n=a[c][l][1]),o<a[c][l][1]&&(o=a[c][l][1]);var h=a[0][0][0],d=a[0][a[0].length-1][0],u=60,g=10,p=290-g-45,f=250-u-20,_=r.B(i).append("div").attr("id",e+"div").attr("width","100%").attr("height","100%").append("svg").attr("id",e).attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 290 250").append("g"),m=r.w().domain([h,d]).rangeRound([0,p]).nice();_.append("g").attr("class","axis").attr("transform","translate("+g+","+(u+f)+")").call(r.b().scale(m).ticks(5));var v=r.w().domain([a[0][0][2],a[a.length-1][0][2]]).rangeRound([0,f]).nice();_.append("g").attr("class","axis stepaxis").attr("transform","translate("+(g+p)+","+u+")").call(r.d().scale(v).tickFormat(function(e){return t.numberChangeToE(e)}));var y=r.w().domain([n,o]).rangeRound([50,0]);_.append("g").append("text").attr("transform","rotate(90)").attr("y",-277).attr("x",125).attr("fill","grey").attr("font-size","10px").text("step");var x=_.append("g").attr("class","areapathg");_.append("g").append("text").attr("class","textbox").attr("visibility","hidden").attr("fill","black").attr("x",g-20).attr("y",u-30).style("font-size","9px"),_.append("g").append("line").attr("class","allpoints").attr("y1",0).attr("y2",250).attr("stroke","black").attr("visibility","hidden");for(var C=_.append("g"),D=0;D<a.length;D++)C.append("circle").attr("fill","#fff45a").attr("class","circle"+D).attr("id",e+"circle"+D);_.append("g").append("line").attr("id","xaxisline").attr("stroke-dasharray","10").attr("visibility","hidden"),_.append("g").append("rect").attr("y",u+f+7).attr("width",32).attr("height",15).attr("fill","white").attr("class","xrect").attr("visibility","hidden"),_.append("g").append("text").attr("class","xcoord").attr("visibility","hidden").attr("fill","black").attr("x",g).attr("y",u+f+15).style("font-size","9px"),_.append("g").append("rect").attr("width",24).attr("height",15).attr("fill","white").attr("class","steprect").attr("visibility","hidden").attr("x",g+p+7),_.append("g").append("text").attr("class","ycoord").attr("visibility","hidden").attr("fill","black").attr("x",g+p+8).style("font-size","9px");var w=r.q().x(function(t){return m(t[0])}).y(function(t){return y(t[1])});x.selectAll("path").data(a).enter().append("g").append("path").attr("stroke","gainsboro").attr("stroke-width","0.5").attr("d",function(t){return w(t)}).attr("transform",function(t,e){var a=v(t[0][2])+10;return"translate("+g+","+a+")"}).attr("fill",this.runColor).attr("class",function(t,e){return"step"+e}).attr("id",function(t,a){return e+"step"+a}).on("mousemove",function(t,e){var i=r.u(_.node())[0],n=r.u(_.node())[1];_.select(".allpoints").attr("x1",i-g).attr("x2",i-g);for(var o=a.length,c=[],l=_.select(".areapathg").selectAll("path"),h=0;h<o;h++){var d=l._groups[0][h],p=new Path(d);c.push(p)}for(var x=_.select(".allpoints"),C=new Line(x._groups[0][0]),D=[],w=0;w<o;w++){var S=Intersection.intersectShapes(C,c[w]);D.push(S.points[0])}for(var b=0;b<D.length;b++)void 0===D[b]?_.select(".circle"+b).attr("r","0"):_.select(".circle"+b).attr("r","1").attr("cx",D[b].x+g).attr("cy",10+v(a[b][0][2])+D[b].y);_.select(".areapathg").selectAll("path").style("opacity",1).attr("stroke","gainsboro").attr("stroke-width","0.5"),_.select(".step"+e).attr("stroke","#fff45a").attr("stroke-width","1");for(var E=r.D(a[e],function(t){return t[1]}),I=r.t(a[e],function(t){return t[1]}),M=0,k=0;k<a[e].length;k++)M<a[e][k][1]&&(M=a[e][k][1]);s.setStatisticInfo([a[e][0][2],Math.ceil(E),I,M.toFixed(2)]),_.select(".xrect").attr("visibility","visible").attr("x",i-15),_.select(".xcoord").attr("visibility","visible").attr("x",i-13).text(Math.floor(1e3*m.invert(i-g))/1e3),_.select(".steprect").attr("visibility","visible").attr("y",u+v(t[0][2])-8).attr("width",7*t[0][2].toString().length),_.select(".ycoord").attr("visibility","visible").attr("y",u+v(t[0][2])+3).text(t[0][2]),_.select(".textbox").attr("visibility","visible").text("count:"+y.invert(D[e].y).toFixed(2)).attr("x",i+5).attr("y",n-10);for(var O=f/(a[a.length-1][0][2]-1),T=Math.ceil(50/O),B=[],P=0;P<t.length;P++)B.push(v(t[P][2])-(50-y(t[P][1])));for(var R=e+1;R<=e+T&&R<o;R++)for(var A=a[R],F=0;F<A.length;F++){if(v(A[F][2])-(50-y(A[F][1]))<=B[F]){_.select(".step"+R).style("opacity",.5);break}}}),_.on("mouseleave",function(){_.select(".areapathg").selectAll("path").style("opacity",1).attr("stroke","gainsboro").attr("stroke-width","0.5"),_.select(".textbox").attr("visibility","hidden"),_.selectAll("circle").attr("r","0"),_.select(".xaxisline").attr("x1","0").attr("y1","0").attr("x2","0").attr("y2","0"),_.select(".xrect").attr("visibility","hidden"),_.select(".xcoord").attr("visibility","hidden"),_.select(".steprect").attr("visibility","hidden"),_.select(".ycoord").attr("visibility","hidden"),s.setStatisticInfo([])}),_.select(".stepaxis").on("mousemove",function(){for(var t=r.u(_.node())[1],i=parseInt(v.invert(t-u)),s=0,n=0;n<a.length;n++)if(a[n][0][2]>i){s=n,0!==n&&a[n][0][2]-i>i-a[n-1][0][2]&&(s-=1);break}_.select(".areapathg").selectAll("path").attr("stroke","gainsboro").attr("stroke-width","0.5"),r.B("#"+e+"step"+s).attr("stroke","#fff45a").attr("visibility","visible").attr("stroke-width","1"),_.select(".steprect").attr("visibility","visible").attr("y",t-7),_.select(".ycoord").attr("visibility","visible").attr("y",t+5).text(a[s][0][2])})}})},pi={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,staticStyle:{width:"100%",height:"100%"}})},staticRenderFns:[]},fi=a("VU/8")(gi,pi,!1,null,null,null).exports,_i=Object(o.a)("statistic"),mi=_i.mapGetters,vi=_i.mapMutations,yi={name:"Oneorthographic",props:{data:Array,ttlabel:String,tag:String,itemp:Number,className:String,runColor:String},data:function(){return{id:"overlay"+this.itemp}},computed:n()({},mi(["getShowNumber"]),{changeDraw:function(){return this.data}}),watch:{getShowNumber:function(t){this.showrate=t/100},data:function(){document.getElementsByClassName(this.className)[0].innerHTML="",this.drawOverlay()}},mounted:function(){this.drawOverlay()},methods:n()({},vi(["setStatisticInfo"]),{numberChangeToE:function(t){if(Math.abs(t)>1e4){var e=e=t.toString().length-1;return t<0&&(e=t.toString().length-2),(t/Math.pow(10,e)).toFixed(2)+"e+"+e}if(Math.abs(t)<.001){if(0===t)return t;var a=t.toString();if(-1!==a.indexOf("e"))return t;var i=3;for(t<0&&(i=4);i<a.length&&"0"===a[i];i++);return t<0&&(i-=1),(t*Math.pow(10,i-1)).toFixed(2)+"e-"+(i-1)}return t},drawOverlay:function(){for(var t=this,e=this.id,a=this.data,i="."+this.className,s=this,n=1e4,o=0,c=0;c<a.length;c++)for(var l=0;l<a[c].length;l++)n>a[c][l][1]&&(n=a[c][l][1]),o<a[c][l][1]&&(o=a[c][l][1]);var h=a[0][0][0],d=a[0][a[0].length-1][0],u={top:10,right:45,bottom:20,left:10},g=290-u.left-u.right,p=250-u.top-u.bottom,f=r.B(i).append("div").attr("id",e+"div").append("svg").attr("id",e).attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 290 250").append("g");f.append("g").append("rect").attr("width","100%").attr("height","100%").attr("fill","white");var _=r.w().domain([h,d]).rangeRound([0,g]).nice();f.append("g").attr("class","axis").attr("transform","translate("+u.left+","+(u.top+p)+")").call(r.b().scale(_).ticks(5).tickSize(-p).tickFormat(function(e){return t.numberChangeToE(e)}));var m=r.w().domain([n,o]).rangeRound([p,0]).nice();f.append("g").attr("class","axis").attr("transform","translate("+(u.left+g)+","+u.top+")").call(r.d().scale(m).tickFormat(function(e){return t.numberChangeToE(e)}).tickSize(-g)),f.append("g").append("text").attr("transform","rotate(90)").attr("y",-277).attr("x",125).attr("fill","grey").attr("font-size","10px").text("count");var v=f.append("g");f.append("g").append("line").attr("class","xaxisline").attr("stroke-dasharray","10").attr("stroke","black"),f.append("g").append("line").attr("class","yaxisline").attr("stroke-dasharray","10").attr("stroke","black"),f.append("g").append("rect").attr("y",u.top+p+1).attr("width",32).attr("height",15).attr("fill","white").attr("class","xrect").attr("visibility","hidden"),f.append("g").append("rect").attr("x",u.left+g+1).attr("width",u.right-1).attr("height",15).attr("fill","white").attr("class","yrect").attr("visibility","hidden"),f.append("g").append("text").attr("class","textbox").attr("visibility","hidden").attr("fill","black").style("font-size","10px"),f.append("g").append("text").attr("class","xcoord").attr("visibility","hidden").attr("fill","black").attr("x",u.left).attr("y",u.top+p+10).style("font-size","10px"),f.append("g").append("text").attr("class","ycoord").attr("visibility","hidden").attr("fill","black").attr("x",u.left+g+2).style("font-size","10px"),f.append("g").append("path").attr("stroke","green").attr("stroke-width",1.5).attr("fill","none").attr("class","lastline");for(var y=[],x=r.q().x(function(t){return _(t[0])}).y(function(t){return m(t[1])}),C=[],D=0;D<a.length;D++)C.push(a[D]),C.push(a[D]);var w=255/(C.length-1);function S(t){var e=r.u(f.node())[0],a=r.u(f.node())[1];f.select(".xcoord").attr("visibility","visible").attr("x",e-10).text(Math.ceil(1e3*_.invert(e-u.left))/1e3),f.select(".xrect").attr("visibility","visible").attr("x",e-10);var i=m.invert(a-u.top).toFixed(2);if(i>1e4){var n=(i=Math.ceil(i)).toString().length-1;i=Math.ceil(i/Math.pow(10,n)*100)/100+"e+"+n}f.select(".ycoord").attr("visibility","visible").attr("y",a+5).text(i),f.select(".yrect").attr("visibility","visible").attr("y",a-5).attr("width",7*i.toString().length),f.select(".textbox").attr("visibility","visible").text("step:"+t[0][2]).attr("x",e+5).attr("y",a-10),f.select(".xaxisline").attr("x1",e).attr("y1",a).attr("x2",e).attr("y2",p+u.top),f.select(".yaxisline").attr("x1",e).attr("y1",a).attr("x2",u.left+g).attr("y2",a);for(var o=r.D(t,function(t){return t[1]}),c=r.t(t,function(t){return t[1]}),l=0,h=0;h<t.length;h++)l<t[h][1]&&(l=t[h][1]);s.setStatisticInfo([t[0][2],Math.ceil(o),c,l.toFixed(2)])}v.selectAll("path").data(C).enter().append("g").append("path").attr("transform","translate("+u.left+","+u.top+")").attr("fill","none").attr("d",function(t){return x(t)}).attr("stroke",function(t,e){return e%2==0?"white":"rgb("+(255-e*w)+",0,"+e*w+")"}).attr("stroke-width",function(t,e){return e%2==0?.8:.4}).style("opacity",function(t,e){return e%2==0?.6:1}).attr("id",function(t,a){return e+"step"+a}).attr("class",function(t,e){return e}).on("mousemove",function(t,e){y=t,f.select(".lastline").attr("visibility","visible").attr("d",x(t)).attr("transform","translate("+u.left+","+u.top+")").on("mousemove",function(){S(y)}),S(t)}),f.on("mouseleave",function(){f.select(".steprect").attr("visibility","hidden"),f.select(".textbox").attr("visibility","hidden"),f.select(".xaxisline").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0),f.select(".yaxisline").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0),f.select(".xrect").attr("visibility","hidden"),f.select(".yrect").attr("visibility","hidden"),f.select(".xcoord").attr("visibility","hidden"),f.select(".ycoord").attr("visibility","hidden"),f.select(".lastline").attr("visibility","hidden"),s.setStatisticInfo([])})}})},xi={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className})},staticRenderFns:[]},Ci=a("VU/8")(yi,xi,!1,null,null,null).exports,Di=Object(o.a)("statistic").mapGetters,wi={name:"Oneoverlook",props:{data:Array,ttlabel:String,tag:String,itemp:Number,className:String,runColor:String},data:function(){return{id:"dist"+this.itemp}},computed:n()({},Di(["getDataSets","getDataSetsState"])),watch:{data:function(){document.getElementsByClassName(this.className)[0].innerHTML="",this.drawDistri()}},mounted:function(){this.drawDistri()},methods:{numberChangeToE:function(t){if(Math.abs(t)>1e4){var e=e=t.toString().length-1;return t<0&&(e=t.toString().length-2),(t/Math.pow(10,e)).toFixed(2)+"e+"+e}if(Math.abs(t)<.001){if(0===t)return t;var a=t.toString();if(-1!==a.indexOf("e"))return t;var i=3;for(t<0&&(i=4);i<a.length&&"0"===a[i];i++);return t<0&&(i-=1),(t*Math.pow(10,i-1)).toFixed(2)+"e-"+(i-1)}return t},drawDistri:function(){for(var t=this,e=this.id,a=this.data,i="."+this.className,s=10,n=15,o=25,c=35,l=r.B(i).append("div").attr("id",e+"div").append("svg").attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 290 250").attr("id",e),h=290-c-n,d=250-s-o,u=a.length,g=a[0][0][0],p=a[0][a[0].length-1][0],f=1e4,_=-1e4,m=0;m<a[0].length;m++)a[0][m][1]<f&&(f=a[0][m][1]);for(var v=0;v<a[u-1].length;v++)a[u-1][v][1]>_&&(_=a[u-1][v][1]);var y=r.w().domain([g,p]).range([0,h]).nice(),x=r.w().domain([f,_]).range([d,0]).nice();l.append("g").attr("class","axis").attr("transform","translate("+c+","+(d+s)+")").call(r.b().scale(y).tickSize(-d).tickFormat(function(e){return t.numberChangeToE(e)})),l.append("g").attr("class","axis").attr("transform","translate("+c+","+s+")").call(r.c().scale(x).tickSize(-h)),l.append("g").append("text").text("step").attr("fill","grey").attr("x",145).attr("y",250-o/5).attr("font-size","10px");for(var C=l.append("g"),D=r.a().x(function(t){return y(t[0])}).y0(function(t){return x(t[1])}).y1(function(t){return x(t[2])}),w=1/u*2,S=Math.ceil(u/2),b=1;b<u;b++){var E=w*b;b>=S&&(E=w*(u-b)),C.append("path").attr("transform","translate("+c+","+s+")").attr("fill",this.runColor).attr("stroke",this.runColor).attr("stroke-width","0.5").style("opacity",E).attr("d",D(a[b]))}var I=r.q().x(function(t){return y(t[0])}).y(function(t){return x(t[1])});C.append("path").attr("transform","translate("+c+","+s+")").attr("fill","none").style("stroke","white").style("stroke-width","0.5").attr("d",I(a[S-1]))}}},Si={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className})},staticRenderFns:[]},bi=a("VU/8")(wi,Si,!1,null,null,null).exports,Ei=Object(o.a)("statistic"),Ii=Ei.mapGetters,Mi=Ei.mapMutations,ki=Object(o.a)("custom"),Oi=ki.mapMutations,Ti=ki.mapGetters,Bi=Object(o.a)("layout").mapGetters,Pi={components:{threed:fi,orthographic:Ci,overlook:bi},props:{data:Array,ttlabel:String,tag:String,itemp:Number,componentName:String,runColor:String,divId:String,parentComponent:Boolean},data:function(){return{className:this.componentName+this.itemp,newTag:this.tag,rightTopShow:!1,scaleLargeSmall:!1,rateData:[]}},computed:n()({},Ii(["getDistCheckedArray","getHistCheckedArray","getShowNumber","getDownLoadArray"]),Ti(["getStatisticShowNumber"]),Bi(["setDownloadSvgClass"])),watch:{getShowNumber:function(t){this.setRangeNumber()},getStatisticShowNumber:function(t){this.setRangeNumber()},data:function(){"threed"===this.componentName||"orthographic"===this.componentName?this.setRangeNumber():this.rateData=this.data}},created:function(){"threed"===this.componentName||"orthographic"===this.componentName?this.setRangeNumber():this.rateData=this.data;var t=this.itemp;this.itemp>=1e3&&(t-=1e3),this.tag.length>20&&(this.newTag=this.tag.slice(0,20)+"..."),"threed"===this.componentName||"orthographic"===this.componentName?this.rightTopShow=this.getHistCheckedArray[t]:this.rightTopShow=this.getDistCheckedArray[t],this.setDownloadSvgClass.statistic=this.getDownLoadArray},methods:n()({},Mi(["setHistCheckedArray","setDistCheckedArray","setDownLoadArray"]),Oi(["setStatisticData"]),{scaleLarge:function(){this.scaleLargeSmall=!0,r.B("#"+this.divId).style("width","63.5%"),this.tag.length>40?this.newTag=this.tag.slice(0,40)+"...":this.newTag=this.tag},scaleSmall:function(){this.scaleLargeSmall=!1,r.B("#"+this.divId).style("width","31%"),this.tag.length>20&&(this.newTag=this.tag.slice(0,20)+"...")},setRightTopShow:function(){if(this.rightTopShow||this.parentComponent){var t=this.itemp;this.itemp>=1e3&&(t-=1e3),"threed"===this.componentName||"orthographic"===this.componentName?(this.rightTopShow=!this.rightTopShow,this.setHistCheckedArray({idx:t,value:this.rightTopShow})):(this.rightTopShow=!this.rightTopShow,this.setDistCheckedArray({idx:t,value:this.rightTopShow}))}var e=this.componentName;"orthographic"===e&&(e="threed");var a={componentName:e,ttlabel:this.ttlabel,tag:this.tag,data:this.data,runColor:this.runColor,itemp:this.itemp,divId:"",delete:!1};if(this.parentComponent||(a.delete=!0),this.setStatisticData(a),!(this.itemp>1e3)){var i="#dist"+this.itemp;"threed"===this.componentName?i="#offset"+this.itemp:"orthographic"===this.componentName&&(i="#overlay"+this.itemp),this.setDownLoadArray([this.rightTopShow,i]),this.setDownloadSvgClass.statistic=this.getDownLoadArray}},setRangeNumber:function(){if("overlook"!==this.componentName){var t=this.getShowNumber;this.parentComponent||(t=this.getStatisticShowNumber);var e=this.data.length,a=Math.ceil(t/100*e),i=e/a;this.rateData=[];for(var s=0;s<a;s++){var n=Math.floor(i*s);this.rateData.push(this.data[n])}}}})},Ri={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"statisticContainer"},[a("el-card",[a("div",{class:[t.scaleLargeSmall?"statisticContainerTitleLarge":"statisticContainerTitle"],style:{"background-color":t.runColor}},[a("div",[a("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(t.ttlabel))]),t._v(" "),a("span",{staticClass:"tagShow"},[t._v(t._s(t.newTag))])]),t._v(" "),a("div",{staticClass:"titleRight"},[a("span",{staticClass:"scale",on:{click:function(e){return t.scaleLarge()}}},[a("i",{staticClass:"iconfont icon-fangda"})]),t._v(" "),a("span",{staticClass:"scale",on:{click:function(e){return t.scaleSmall()}}},[a("i",{staticClass:"iconfont icon-suoxiao1"})]),t._v(" "),t.parentComponent?t._e():a("span",{staticClass:"checkedBox",on:{click:function(e){return t.setRightTopShow()}}},[a("i",{staticClass:"close-i el-icon-circle-close"})]),t._v(" "),t.parentComponent?a("span",{directives:[{name:"show",rawName:"v-show",value:!t.rightTopShow,expression:"!rightTopShow"}],staticClass:"checkedBox",on:{click:function(e){return t.setRightTopShow()}}},[a("i",{staticClass:"iconfont icon-weixuanzhong1"})]):t._e(),t._v(" "),t.parentComponent?a("span",{directives:[{name:"show",rawName:"v-show",value:t.rightTopShow,expression:"rightTopShow"}],staticClass:"checkedBox",on:{click:function(e){return t.setRightTopShow()}}},[a("i",{staticClass:"iconfont icon-xuanzhong1"})]):t._e()])]),t._v(" "),a(t.componentName,{tag:"component",attrs:{data:t.rateData,ttlabel:t.ttlabel,tag:t.tag,itemp:t.itemp,className:t.className,runColor:t.runColor}})],1)],1)},staticRenderFns:[]};var Ai=a("VU/8")(Pi,Ri,!1,function(t){a("RYJE"),a("RjEI")},"data-v-48a0f756",null).exports,Fi=Object(o.a)("custom"),Li=Fi.mapMutations,Ni=Fi.mapGetters,Ui=Object(o.a)("layout").mapGetters,Wi={components:{Scalarchart:Bt},props:{content:Object,chartname:String},data:function(){return{scaleLargeSmall:!1,size:8,ytext:"",info:"",id:"",chartdata:{run:"",value:{}},classname:""}},computed:n()({},Ni(["getScalarData"]),Ui(["getTimer"])),watch:{getTimer:function(){if(2===F()(this.content).length){this.chartdata=JSON.parse($()(this.content)),this.id=this.chartdata.run+" "+F()(this.chartdata.value)[0],this.info=this.id,this.info.length>20&&(this.info=this.info.slice(0,17)+"...");var t=F()(this.chartdata.value)[0].split("/");this.ytext=t[t.length-1],this.classname=this.id.replace(/\//g,"").replace(/\s*/g,"").replace(/\./g,"")}else if(4===F()(this.content).length){this.chartdata=JSON.parse($()(this.content)),this.id=this.chartdata.title,this.info=this.id,this.info.length>20&&(this.info=this.info.slice(0,17)+"...");var e=this.id.split(" ","/");this.ytext=e[e.length-1],this.classname=this.chartname.replace(/\//g,"").replace(/\s*/g,"").replace(/\./g,"")}else 5===F()(this.content).length&&(this.chartdata=JSON.parse($()(this.content)),this.id=this.chartdata.title,this.info=this.id,this.info.length>20&&(this.info=this.info.slice(0,17)+"..."),this.classname=this.chartname.replace(/\//g,"").replace(/\s*/g,"").replace(/\./g,""))}},created:function(){if(2===F()(this.content).length){this.chartdata=JSON.parse($()(this.content)),this.id=this.chartdata.run+" "+F()(this.chartdata.value)[0],this.info=this.id,this.info.length>20&&(this.info=this.info.slice(0,17)+"...");var t=F()(this.chartdata.value)[0].split("/");this.ytext=t[t.length-1],this.classname=this.id.replace(/\//g,"").replace(/\s*/g,"").replace(/\./g,"")}else if(4===F()(this.content).length){this.chartdata=JSON.parse($()(this.content)),this.id=this.chartdata.title,this.info=this.id,this.info.length>20&&(this.info=this.info.slice(0,17)+"...");var e=this.id.split(" ","/");this.ytext=e[e.length-1],this.classname=this.chartname.replace(/\//g,"").replace(/\s*/g,"").replace(/\./g,"")}else 5===F()(this.content).length&&(this.chartdata=JSON.parse($()(this.content)),this.id=this.chartdata.title,this.info=this.id,this.info.length>20&&(this.info=this.info.slice(0,17)+"..."),this.classname=this.chartname.replace(/\//g,"").replace(/\s*/g,"").replace(/\./g,""))},methods:n()({},Li(["deleteScalarData"]),{sizebig:function(){this.size=24,this.info=this.id,this.scaleLargeSmall=!0},sizesmall:function(){this.size=8,this.scaleLargeSmall=!1,this.info.length>20&&(this.info=this.info.slice(0,17)+"...")},deletethis:function(){this.deleteScalarData(this.chartname)}})},Ki={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scalarcontainer"},[a("el-col",{attrs:{span:t.size}},[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"0px"}}},[a("div",{class:[t.scaleLargeSmall?"scalarContainerTitleLarge":"scalarContainerTitle"]},[a("div",[a("span",{staticClass:"tagShow"},[t._v(t._s(t.info))])]),t._v(" "),a("div",{staticClass:"titleRight"},[a("span",{staticClass:"scale",on:{click:function(e){return t.sizebig()}}},[a("i",{staticClass:"iconfont icon-fangda"})]),t._v(" "),a("span",{staticClass:"scale",on:{click:function(e){return t.sizesmall()}}},[a("i",{staticClass:"iconfont icon-suoxiao1"})]),t._v(" "),a("span",{staticClass:"scale"},[a("i",{staticClass:"close-i el-icon-circle-close",on:{click:function(e){return t.deletethis()}}})])])]),t._v(" "),a("scalarchart",{attrs:{chartdata:t.chartdata,ytext:t.ytext,scaleLargeSmall:t.scaleLargeSmall,classname:t.classname}})],1)],1)],1)},staticRenderFns:[]};var ji=a("VU/8")(Wi,Ki,!1,function(t){a("fFgR")},"data-v-7a759f85",null).exports,Gi=Object(o.a)("custom"),Hi=Gi.mapActions,zi=Gi.mapMutations,qi=Gi.mapGetters,Yi=Object(o.a)("layout").mapGetters,Ji={components:{statisticContainer:Ai,ImageContainer:we,TextContainer:ra,AudioContainer:ze,ScalarContainer:ji},data:function(){return{showFlag:!1,parentComponent:!1,data:[[],[],[],[],[],[]],textChecked:[],hasScalar:{hasData:0,showFlag:0},hasAudio:{hasData:0,showFlag:0},hasImage:{hasData:0,showFlag:0},hasText:{hasData:0,showFlag:0},scalarData:{},audioData:[],imageData:[],textData:[],statisticData:[],hasData:!1}},computed:n()({},Yi(["getTimer"]),qi(["getAudioData","getTextData","getTextChecked","getImageData","getStatisticData","getScalarData"])),beforeRouteLeave:function(t,e,a){this.setRouter(7),a()},watch:{getTimer:function(){for(var t=0;t<F()(this.scalarData).length;t++){var e=F()(this.scalarData)[t].split(" ")[0],a=F()(this.scalarData)[t].split(" ")[1];this.getScalarDataInterval({run:e,tag:a})}for(var i=0;i<this.audioData.length;i++)this.getAudioDataInterval([i,this.audioData[i]]);for(var s=0;s<this.imageData.length;s++)this.getImageDataInterval([s,this.imageData[s]]);for(var n=0;n<this.textData.length;n++)this.getTextDataInterval([n,this.textData[n]]);for(var r=0;r<this.statisticData.length;r++)this.getStatisticDataInterval([r,this.statisticData[r]])},getAudioData:function(){this.audioData=this.getAudioData,0===this.audioData.length&&(this.hasAudio.hasData=0,this.hasAudio.showFlag=0),this.audioData.length||this.textData.length||this.imageData.length||this.statisticData.length||F()(this.scalarData).length?this.hasData=!0:this.hasData=!1},getTextData:function(){this.textData=this.getTextData,0===this.textData.length&&(this.hasText.hasData=0,this.hasText.showFlag=0),this.audioData.length||this.textData.length||this.imageData.length||this.statisticData.length||F()(this.scalarData).length?this.hasData=!0:this.hasData=!1},getImageData:function(){0===this.imageData.length&&(this.hasImage.hasData=0,this.hasImage.showFlag=0),this.imageData=this.getImageData,this.audioData.length||this.textData.length||this.imageData.length||this.statisticData.length||F()(this.scalarData).length?this.hasData=!0:this.hasData=!1},getScalarData:function(t){this.scalarData=t,this.audioData.length||this.textData.length||this.imageData.length||this.statisticData.length||F()(this.scalarData).length?this.hasData=!0:this.hasData=!1},getStatisticData:function(t){this.statisticData=t,this.audioData.length||this.textData.length||this.imageData.length||this.statisticData.length||F()(this.scalarData).length?this.hasData=!0:this.hasData=!1}},created:function(){this.audioData=this.getAudioData,this.textData=this.getTextData,this.imageData=this.getImageData,this.scalarData=this.getScalarData,this.statisticData=this.getStatisticData,this.audioData.length||this.textData.length||this.imageData.length||this.statisticData.length||F()(this.scalarData).length?this.hasData=!0:this.hasData=!1},mounted:function(){this.audioData.length&&(this.hasAudio.hasData=1),this.imageData.length&&(this.hasImage.hasData=1),this.textData.length&&(this.hasText.hasData=1)},methods:n()({},zi(["setTextData","setRouter"]),Hi(["getAudioDataInterval","getImageDataInterval","getTextDataInterval","getScalarDataInterval","getStatisticDataInterval"]),{showContent:function(t){this[t].showFlag=(this[t].showFlag+1)%2}})},Vi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"temp"},[a("div",{class:["display-panel"]},[a("div",{attrs:{id:"scalar"}},[a("div",[a("div",{staticClass:"scalarscontent"},[a("el-row",{attrs:{gutter:20}},t._l(t.scalarData,function(t,e){return a("ScalarContainer",{key:e,attrs:{content:t,chartname:e}})}),1)],1)])]),t._v(" "),a("div",{attrs:{id:"audio"}},[a("div",{style:t.hasAudio.hasData?"":"display:none"},[a("div",{staticClass:"scalarscontent"},[a("el-row",{attrs:{gutter:20}},t._l(t.audioData,function(t){return a("AudioContainer",{key:t.index,ref:"AudioContainer",refInFor:!0,attrs:{content:t.content,index:t.index}})}),1)],1)])]),t._v(" "),a("div",{attrs:{id:"image"}},[a("div",{style:t.hasImage.hasData?"":"display:none"},[a("div",{staticClass:"scalarscontent"},[a("el-row",{attrs:{gutter:20}},t._l(t.imageData,function(t){return a("ImageContainer",{key:t.content.run+"/"+Object.keys(t.content.value)[0],ref:"ImageContainer",refInFor:!0,attrs:{content:t.content}})}),1)],1)])]),t._v(" "),a("div",{attrs:{id:"text"}},[a("div",{style:t.hasText.hasData?"":"display:none"},[a("div",{staticClass:"scalarscontent"},[a("el-row",{attrs:{gutter:20}},t._l(t.textData,function(t){return a("TextContainer",{key:t.content.run+"/"+Object.keys(t.content.value)[0],ref:"TextContainer",refInFor:!0,attrs:{content:t.content}})}),1)],1)])]),t._v(" "),a("div",{attrs:{id:"histogram"}},[a("div",{staticClass:"statistics-container"},[a("div",{class:["statistics-content"]},t._l(t.statisticData,function(e){return a("div",{key:e.divId,staticClass:"allStatisticContainer",attrs:{id:e.divId}},[a("statisticContainer",{key:e.ttlabel,ref:"histoContainer",refInFor:!0,staticClass:"statisticContaierContent",attrs:{data:e.data,ttlabel:e.ttlabel,tag:e.tag,itemp:e.itemp,componentName:e.componentName,runColor:e.runColor,divId:e.divId,parentComponent:t.parentComponent}})],1)}),0)])]),t._v(" "),t.hasData?t._e():a("div",[t._m(0),t._v(" "),a("p",[t._v("支持将媒体数据、统计分析和标量数据导入到本页面")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n          本页面支持将其他页面的数据通过“定制”按钮\n          "),e("i",{staticClass:"iconfont icon-ziyuan104"}),this._v(" 导入到本页面\n        ")])}]};var Qi=a("VU/8")(Ji,Vi,!1,function(t){a("c5Kq")},"data-v-7ffdfa15",null).exports,Zi=Object(o.a)("custom"),Xi=Zi.mapMutations,$i=Zi.mapGetters,ts=Object(o.a)("statistic").mapGetters,es={components:{ScalarsPanel:fe},data:function(){return{scalar:0,statistics:0,statisticMode:"三维",statisticShowNumber:30,statisticInfoShowFlag:!1}},computed:n()({},$i(["getAudioData","getTextData","getTextChecked","getImageData","getScalarData","getStatisticData","getStatisticMode","getStatisticShowNumber"]),ts(["getStatisticInfo"])),watch:{getStatisticData:function(){this.statistics=this.getStatisticData.length},getStatisticInfo:function(t){t.length?this.statisticInfoShowFlag=!0:this.statisticInfoShowFlag=!1}},mounted:function(){this.statistics=this.getStatisticData.length,this.statisticMode=this.getStatisticMode,this.statisticShowNumber=this.getStatisticShowNumber},methods:n()({},Xi(["setStatisticMode","setStatisticShowNumber"]))},as={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"flex","flex-direction":"column",height:"100%"}},[a("div",{class:[t.scalar?"":"show"],staticStyle:{height:"50%",overflow:"auto"},attrs:{id:"8888"}},[a("el-col",{attrs:{span:24}},[a("ScalarsPanel",{staticStyle:{clear:"both"}}),t._v(" "),a("div")],1)],1),t._v(" "),a("div"),t._v(" "),t.statistics?a("div",{staticClass:"statisticPanelTemp",attrs:{id:"9999"}},[a("el-card",[a("div",{staticClass:"infoTitle"},[a("i",{staticClass:"el-icon-chat-dot-round dot"}),a("span",[t._v("统计分析")])]),t._v(" "),a("div",{staticClass:"statisticPanelContent"},[a("div",{staticClass:"scroll scroll1"},[a("span",[t._v("数据显示比率("+t._s(t.statisticShowNumber)+"%)")]),t._v(" "),a("el-slider",{staticClass:"rangeNumber",attrs:{min:1,max:100},on:{change:function(e){return t.setStatisticShowNumber(t.statisticShowNumber)}},model:{value:t.statisticShowNumber,callback:function(e){t.statisticShowNumber=e},expression:"statisticShowNumber"}})],1),t._v(" "),a("div",{staticClass:"selectMode"},[a("el-row",[a("el-col",{attrs:{span:8}},[t._v("模式")]),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-select",{staticClass:"histmodeselect",on:{change:function(e){return t.setStatisticMode(t.statisticMode)}},model:{value:t.statisticMode,callback:function(e){t.statisticMode=e},expression:"statisticMode"}},[a("el-option",{attrs:{value:"三维"}},[t._v("三维")]),t._v(" "),a("el-option",{attrs:{value:"二维"}},[t._v("二维")])],1)],1)],1)],1)])]),t._v(" "),a("div",{staticClass:"statisticInfo"},[a("el-card",[a("div",{staticClass:"infoTitle"},[a("i",{staticClass:"el-icon-chat-dot-round dot"}),t._v("数据信息栏")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.statisticInfoShowFlag,expression:"!statisticInfoShowFlag"}],staticClass:"infoContent"},[t._v("暂无信息")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.statisticInfoShowFlag,expression:"statisticInfoShowFlag"}],staticClass:"infoContent"},[a("div",[a("el-row",[a("el-col",{attrs:{span:10}},[t._v("step ：")]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(t._s(t.getStatisticInfo[0]))])],1)],1),t._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:10}},[t._v("数据总量 ：")]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(t._s(t.getStatisticInfo[1]))])],1)],1),t._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:10}},[t._v("count最小值 ：")]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(t._s(t.getStatisticInfo[2]))])],1)],1),t._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:10}},[t._v("count最大值 ：")]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(t._s(t.getStatisticInfo[3]))])],1)],1)])])],1)],1):t._e()])},staticRenderFns:[]};var is=a("VU/8")(es,as,!1,function(t){a("NARn")},"data-v-cdf01de8",null).exports,ss=Object(o.a)("statistic"),ns=ss.mapGetters,rs=ss.mapActions,os=ss.mapMutations,cs=Object(o.a)("layout").mapState,ls={components:{statisticContainer:Ai},props:{categoryInfo:String},data:function(){return{showFlag:"",componentName:this.categoryInfo,categoryName:"",allData:[],runData:[],idArray:[],parentComponent:!0}},computed:n()({},ns(["getInitStateFlag","getBinNum","getDistData","getHistData","getMode","getShowStatisticFlag","getDataSets","getDataSetsState","getStatisticColor","getHistShow","getDistShow","getUpdateFlag","getFeatchHistDataFinished","getFeatchDistDataFinished"]),cs(["userSelectRunFile"])),watch:{getUpdateFlag:function(){"distribution"===this.categoryInfo&&this.getFeatchDistDataFinished&&this.showFlag&&this.featchAllDistData(),"histogram"===this.categoryInfo&&this.getFeatchHistDataFinished&&this.showFlag&&this.featchAllHistData()},getMode:function(t){"histogram"===this.categoryInfo&&(this.componentName="三维"===t?"threed":"orthographic")},getBinNum:function(t){"histogram"===this.categoryInfo&&this.manageHistData({index:0,length:this.getHistData.length})},getHistData:function(t){if("histogram"===this.categoryInfo){this.allData=t,this.idArray=[];for(var e=0;e<this.allData.length;e++)this.idArray.push("myHistogramScale"+e);this.setRunData()}},getDistData:function(t){if("distribution"===this.categoryInfo){this.allData=t,this.idArray=[];for(var e=0;e<this.allData.length;e++)this.idArray.push("myDistributionScale"+e);this.setRunData()}},userSelectRunFile:function(){this.setDatasetsShow()},getHistShow:function(t){"histogram"===this.categoryInfo&&(this.showFlag=t,t&&(this.setHistData(),document.getElementsByClassName("statistics-container")[0].scrollIntoView(!0)))},getDistShow:function(t){"distribution"===this.categoryInfo&&(this.showFlag=t,t&&(this.setDistData(),document.getElementsByClassName("statistics-container")[1].scrollIntoView(!0)))}},created:function(){"histogram"===this.categoryInfo?(this.categoryName="直方图",this.showFlag=this.getHistShow,this.showFlag&&this.setHistData()):(this.categoryName="分布图",this.showFlag=this.getDistShow,this.showFlag&&this.setDistData())},mounted:function(){this.setDatasetsShow()},methods:n()({},rs(["featchAllDistData","featchAllHistData"]),os(["manageHistData","setDataSetsState","setInitStateFlag","setHistShow","setDistShow","clearHistData","clearDistData"]),{showContent:function(){"histogram"===this.categoryInfo?this.setHistShow(!this.showFlag):this.setDistShow(!this.showFlag)},setHistData:function(){if("三维"===this.getMode?this.componentName="threed":this.componentName="orthographic",this.getInitStateFlag)this.setInitStateFlag(!1);else if(this.getInitStateFlag||0!==this.getHistData.length){this.allData=this.getHistData,this.idArray=[];for(var t=0;t<this.allData.length;t++)this.idArray.push("myHistogramScale"+t);this.setRunData()}else this.featchAllHistData()},setDistData:function(){if(this.componentName="overlook",0!==this.getDistData.length){this.allData=this.getDistData,this.idArray=[];for(var t=0;t<this.allData.length;t++)this.idArray.push("myDistributionScale"+t);this.setRunData()}else this.featchAllDistData()},setDatasetsShow:function(){for(var t=[],e=0;e<this.getDataSets.length;e++)t[this.getDataSets[e]]=!1;for(var a=0;a<this.userSelectRunFile.length;a++)t[this.userSelectRunFile[a]]=!0;this.setDataSetsState(t)},setRunData:function(){if(0!==this.allData.length){for(var t=0,e=[[this.allData[0]]],a=1;a<this.allData.length;a++)this.allData[a][0]!==this.allData[a-1][0]&&(t++,e.push([])),e[t].push(this.allData[a]);this.runData=e,this.setDatasetsShow()}else this.runData=[]}})},hs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"statistics-container"},[a("div",{staticClass:"statistics-title",on:{click:function(e){return t.showContent()}}},[a("div",{class:[t.showFlag?"sub1":"sub"]},[a("div",{staticClass:"my-label"},[a("div",{staticClass:"my-text"},[a("span",[t._v(t._s(t.categoryName))])]),t._v(" "),t._m(0),t._v(" "),t._m(1)])]),t._v(" "),a("div",{staticClass:"line1"}),t._v(" "),a("div",{class:["line2",t.showFlag?"":"linestyle"]})]),t._v(" "),a("div",{class:[t.showFlag?"":"showClass"]},[a("div",t._l(t.runData,function(e,i){return a("div",{key:i,class:["statistics-content"]},t._l(e,function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.getDataSetsState[e[0]],expression:"getDataSetsState[item[0]]"}],key:i,staticClass:"allStatisticContainer",attrs:{id:[t.idArray[e[4]]]}},[a("statisticContainer",{staticClass:"statisticContaierContent",attrs:{data:e[2],ttlabel:e[0],tag:e[1],itemp:e[4],componentName:t.componentName,runColor:t.getStatisticColor[e[3]%t.getStatisticColor.length],divId:t.idArray[e[4]],parentComponent:t.parentComponent,checked:"false"}})],1)}),0)}),0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"circle-father"},[e("div",{staticClass:"circle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"triangle-father"},[e("div",{staticClass:"triangle"})])}]};var ds=a("VU/8")(ls,hs,!1,function(t){a("qxyC")},"data-v-82f33f4e",null).exports,us=Object(o.a)("statistic").mapGetters,gs={components:{subStatistics:ds},computed:n()({},us(["getCategoryInfo","getErrorMessage"])),watch:{getErrorMessage:function(t){this.$message({message:t,type:"error"})}}},ps={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"temp"},[a("div",{class:["display-panel"]},t._l(t.getCategoryInfo,function(e,i){return a("subStatistics",{key:i,attrs:{categoryInfo:e}},[t._v(t._s(e))])}),1)])])},staticRenderFns:[]};var fs=a("VU/8")(gs,ps,!1,function(t){a("uXNd")},"data-v-6a4e0c6f",null).exports,_s=Object(o.a)("statistic"),ms=_s.mapMutations,vs=_s.mapGetters,ys={name:"HistPanel",data:function(){return{mode:"三维",showNumber:50,binNumber:30,infoShowFlag:!1,myHistShow:!0,myDistShow:!1}},computed:n()({},vs(["getShowNumber","getMode","getBinNum","getStatisticInfo","getHistShow","getDistShow","getFeatchHistDataFinished"])),watch:{getStatisticInfo:function(t){t.length?this.infoShowFlag=!0:this.infoShowFlag=!1},getShowNumber:function(t){this.showNumber=t},getHistShow:function(t){this.myHistShow=t},getDistShow:function(t){this.myDistShow=t}},created:function(){this.mode=this.getMode,this.showNumber=this.getShowNumber,this.binNumber=this.getBinNum,this.myHistShow=this.getHistShow,this.myDistShow=this.getDistShow},methods:n()({},ms(["changeShownumber","changeMode","setBinNum"]),{scrollToTop:function(t){document.getElementsByClassName("statistics-container")[t].scrollIntoView(!0)},myChangeShownumber:function(t){this.getFeatchHistDataFinished?this.changeShownumber(t):(this.$message({message:"统计分析页面还在渲染中，勿操作控制面板",type:"warning"}),this.showNumber=this.getShowNumber)},myChangeMode:function(t){this.getFeatchHistDataFinished?this.changeMode(t):(this.$message({message:"统计分析页面还在渲染中，勿操作控制面板",type:"warning"}),this.mode=this.getMode)},mySetBinNum:function(t){this.getFeatchHistDataFinished?this.setBinNum(t):(this.$message({message:"统计分析页面还在渲染中，勿操作控制面板",type:"warning"}),this.binNumber=this.getBinNum)}})},xs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"temp statisticPanelTemp"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.myHistShow,expression:"myHistShow"}],staticClass:"statisticInfo"},[a("el-card",[a("div",{staticClass:"statisticPanel"},[a("div",{staticClass:"infoTitle",on:{click:function(e){return t.scrollToTop(0)}}},[t._v("直方图")]),t._v(" "),a("div",{staticClass:"statisticPanelContent"},[a("div",{staticClass:"histPanel"},[a("div",{staticClass:"scroll scroll1"},[a("span",[t._v("数据显示比率("+t._s(t.showNumber)+"%)")]),t._v(" "),a("el-slider",{staticClass:"rangeNumber",attrs:{min:1,max:100},on:{change:function(e){return t.myChangeShownumber(t.showNumber)}},model:{value:t.showNumber,callback:function(e){t.showNumber=e},expression:"showNumber"}})],1),t._v(" "),a("div",{staticClass:"scroll scroll2"},[a("span",[t._v("统计区间个数("+t._s(t.binNumber)+")")]),t._v(" "),a("el-slider",{staticClass:"rangeNumber",staticStyle:{color:"red"},attrs:{min:10,max:100},on:{change:function(e){return t.mySetBinNum(t.binNumber)}},model:{value:t.binNumber,callback:function(e){t.binNumber=e},expression:"binNumber"}})],1),t._v(" "),a("div",{staticClass:"selectMode"},[a("el-row",[a("el-col",{attrs:{span:8}},[t._v("模式")]),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-select",{staticClass:"histmodeselect",on:{change:function(e){return t.myChangeMode(t.mode)}},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},[a("el-option",{attrs:{value:"三维"}},[t._v("三维")]),t._v(" "),a("el-option",{attrs:{value:"二维"}},[t._v("二维")])],1)],1)],1)],1)])])])])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.myDistShow,expression:"myDistShow"}],staticClass:"statisticInfo"},[a("el-card",[a("div",{staticClass:"statisticPanel"},[a("div",{staticClass:"infoTitle",on:{click:function(e){return t.scrollToTop(1)}}},[t._v("分布图")]),t._v(" "),a("div",{staticClass:"statisticPanelContent spanCenter"},[a("span",[t._v("暂无功能")])])])])],1),t._v(" "),a("div",{staticClass:"statisticInfo"},[a("el-card",[a("div",{staticClass:"info"},[a("div",{staticClass:"infoTitle"},[a("i",{staticClass:"el-icon-chat-dot-round dot"}),t._v("数据信息栏")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.infoShowFlag,expression:"!infoShowFlag"}],staticClass:"statisticPanelContent spanCenter"},[a("span",[t._v("暂无信息")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.infoShowFlag,expression:"infoShowFlag"}],staticClass:"infoContent"},[a("div",[a("el-row",[a("el-col",{attrs:{span:10}},[t._v("step ：")]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(t._s(t.getStatisticInfo[0]))])],1)],1),t._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:10}},[t._v("数据总量 ：")]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(t._s(t.getStatisticInfo[1]))])],1)],1),t._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:10}},[t._v("count最小值 ：")]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(t._s(t.getStatisticInfo[2]))])],1)],1),t._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:10}},[t._v("count最大值 ：")]),t._v(" "),a("el-col",{attrs:{span:14}},[t._v(t._s(t.getStatisticInfo[3]))])],1)],1)])])])],1)])},staticRenderFns:[]};var Cs=a("VU/8")(ys,xs,!1,function(t){a("XT0L"),a("u741")},"data-v-42350ac0",null).exports,Ds={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"temp"},[this._v("\n    ROCs content panel\n    ")])])}]};var ws=a("VU/8")({},Ds,!1,function(t){a("N0bL")},"data-v-b96deca6",null).exports,Ss={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"temp"},[this._v("\n  ROCs paramenter panel\n")])},staticRenderFns:[]};var bs=a("VU/8")({},Ss,!1,function(t){a("l6YK")},"data-v-456c4482",null).exports,Es=a("XLwt"),Is=a.n(Es),Ms=(a("PdmY"),Object(o.a)("embedding")),ks=Ms.mapGetters,Os=Ms.mapMutations,Ts=Object(o.a)("layout").mapState,Bs={data:function(){return{width:"100%",height:"100%",loadFlag:!0,halfHight:0,halfWidth:0,circleUpdate:"",circleEnter:"",circleExit:"",axisPoint:[[100,0,0],[0,100,0],[0,0,100]],axisUpdate:"",axisEnter:"",axisExit:"",position:0,xAxisFloat:80,yAxisFloat:60,xScale:"",yScale:"",xAxis:"",yAxis:"",margin:{top:100,right:120,bottom:100,left:120},dataAttr:{maxX:0,maxY:0,minX:0,minY:0},ParaCoor:{backgroundUpdate:"",backgroundExit:"",backgroundEnter:"",foregroundUpdate:"",foregroundExit:"",foregroundEnter:"",dimensionsUpdate:"",dimensionsExit:"",dimensionsEnter:"",dimensionFlag:!1},clickEle:!1,myChart:"",localCurInfo:{}}},computed:n()({},ks(["getCurInfo","getCurData","getCheckLabels","getLegendColor","getLineWidth"]),Ts(["userSelectRunFile"]),{clickEleCumputed:{get:function(){return this.clickEle},set:function(t){this.clickEle=t}}}),watch:{getLineWidth:function(){this.renderUpdate(this.getCurData)},getCurInfo:{handler:function(t,e){"{}"===$()(this.localCurInfo)?(this.localCurInfo=JSON.parse($()(t)),this.renderInit()):t.curDim!==this.localCurInfo.curDim&&(this.localCurInfo=JSON.parse($()(t)),this.renderInit())},deep:!0},getCurData:{handler:function(t,e){this.renderUpdate(t)},deep:!0},getCheckLabels:function(){this.renderUpdate(this.getCurData)},userSelectRunFile:function(){this.renderInit()}},mounted:function(){this.renderInit(),void 0!==this.getCurData&&this.renderUpdate(this.getCurData)},methods:n()({},Os(["setMessage"]),{renderInit:function(){"{}"!==$()(this.localCurInfo)&&(3===parseInt(this.localCurInfo.curDim)?this.renderThreeInit():2===parseInt(this.localCurInfo.curDim)?this.renderTwoInit():this.renderNInit())},unique:function(t){return R()(new gt.a(t))},renderTwoInit:function(t){var e=this;this.height=r.B(this.$refs.draw).node().getBoundingClientRect().height,this.width=r.B(this.$refs.draw).node().getBoundingClientRect().width,r.B(this.$refs.draw).select("svg").remove();var a=r.B(this.$refs.draw).append("svg").attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 "+this.width+" "+this.height);e.margin={top:100,right:120,bottom:100,left:120};var i=a.append("g").attr("transform","translate("+e.margin.left+", "+e.margin.top+")").attr("id","maingroup");e.xScale=r.w().domain([e.dataAttr.minX,e.dataAttr.maxX]).range([0,this.width-this.margin.left-this.margin.right]),e.yScale=r.w().domain([e.dataAttr.minY,e.dataAttr.maxY].reverse()).range([0,this.height-this.margin.top-this.margin.bottom]),i.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",e.width-e.margin.left-e.margin.right).attr("height",e.height-e.margin.top-e.margin.bottom).attr("x",0).attr("y",0),e.yAxis=r.c(e.yScale).tickSize(-(this.width-this.margin.left-this.margin.right)).tickPadding(10),e.xAxis=r.b(e.xScale).tickSize(-(this.height-this.margin.top-this.margin.bottom)).tickPadding(10);i.append("g").call(e.yAxis).attr("id","yaxis").attr("font-size","16px").attr("color","#736FBC"),i.append("g").call(e.xAxis).attr("transform","translate(0, "+(e.height-e.margin.top-e.margin.bottom)+")").attr("id","xaxis").attr("font-size","16px").attr("color","#736FBC");r.B(this.$refs.draw).selectAll(".tooltip").remove(),r.B(this.$refs.draw).append("div").attr("class","tooltip").style("opacity",0).style("background-color","white").style("border","solid").style("border-width","1px").style("border-radius","20px").style("padding","10px").style("position","absolute").style("z-index","5").style("left","0").style("top","0").style("color","#7C78C0");var s=r.e().extent([[0,0],[e.width-e.margin.left-e.margin.right,e.height-e.margin.top-e.margin.bottom]]).on("end",function(){var t,a=r.l.selection;if(a)e.xScale.domain([a[0][0],a[1][0]].map(e.xScale.invert,e.xScale)).range([0,e.width-e.margin.left-e.margin.right]).nice(),e.yScale.domain([a[0][1],a[1][1]].map(e.yScale.invert,e.yScale)).range([0,e.height-e.margin.top-e.margin.bottom]).nice(),i.select(".brush").call(s.move,null);else{if(!n)return n=setTimeout(l,o);e.xScale.domain(r.m(e.getCurData.data,function(t){return t[0]})).range([0,e.width-e.margin.left-e.margin.right]).nice(),e.yScale.domain(r.m(e.getCurData.data,function(t){return t[1]}).reverse()).range([0,e.height-e.margin.top-e.margin.bottom]).nice()}t=c.transition().duration(750),i.select("#xaxis").transition(t).call(e.xAxis),i.select("#yaxis").transition(t).call(e.yAxis),c.selectAll("circle").transition(t).attr("cx",function(t){return e.xScale(t[0])}).attr("cy",function(t){return e.yScale(t[1])})}),n=null,o=350;i.append("g").attr("class","brush").call(s);var c=i.append("g").attr("clip-path","url(#clip)").attr("id","subgroup");function l(){n=null}},renderThreeInit:function(t){r.B("#threeDimension").selectAll("div").remove(),r.B("#threeDimension").append("div").attr("id","threeChild").style("width","100%").style("height","100%").style("display","block");this.height=r.B(this.$refs.draw).node().getBoundingClientRect().height,this.width=r.B(this.$refs.draw).node().getBoundingClientRect().width,r.B(this.$refs.draw).select("svg").remove(),this.margin={top:100,right:120,bottom:100,left:120}},renderNInit:function(t){this.height=r.B(this.$refs.draw).node().getBoundingClientRect().height,this.width=r.B(this.$refs.draw).node().getBoundingClientRect().width,r.B(this.$refs.draw).select("svg").remove(),this.margin.top=100,this.margin.left=10,this.margin.bottom=100,this.margin.right=10;var e=r.B(this.$refs.draw).append("svg").attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 "+this.width+" "+this.height).append("g").attr("id","mainGroup").attr("transform","translate("+this.margin.left+", "+this.margin.top+")");e.append("g").attr("id","background"),e.append("g").attr("id","foreground"),this.ParaCoor.dimensionFlag=!1,r.B(this.$refs.draw).selectAll(".tooltip").remove(),r.B(this.$refs.draw).append("div").attr("class","tooltip").style("opacity",0).style("background-color","white").style("border","solid").style("border-width","1px").style("border-radius","20px").style("padding","10px").style("position","absolute").style("z-index","5").style("left","0").style("top","0").style("color","#7C78C0")},renderNUpdate:function(t){for(var e,a=this,i=r.z().rangeRound([0,a.width]).padding(1),s={},n={},o=[],c=r.q(),l={},h={},d=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],u=["1st dim","2nd dim","3rd dim","4th dim","5th dim","6th dim","7th dim","8th dim"],g=function(t){return parseFloat(t)===t||""===t},p=0;p<t.data.length;p++){for(var _={},m=0;m<t.data[p].length;m++)_[d[m]]=t.data[p][m];o.push(_)}e=r.p(o[0]),i.domain(e),e.forEach(function(t){var e=o.map(function(e){return e[t]});e.every(g)?(h[t]=r.r(o,function(e){return+e[t]}),l[t]=r.t(o,function(e){return+e[t]}),s[t]=r.w().domain([l[t],h[t]]).range([a.height-a.margin.top-a.margin.bottom,0])):(e.sort(),s[t]=r.z().domain(e.filter(function(t,a){return e.indexOf(t)===a})).range([a.height-a.margin.top-a.margin.bottom,0],1))});var v=r.B("#mainGroup"),y=v.select("#background");a.ParaCoor.backgroundUpdate=y.selectAll("path").data(o),a.ParaCoor.backgroundExit=a.ParaCoor.backgroundUpdate.exit(),a.ParaCoor.backgroundEnter=a.ParaCoor.backgroundUpdate.enter().append("path").attr("d",D).attr("fill","none").attr("stroke-width",a.getLineWidth.toString()),a.ParaCoor.backgroundUpdate.merge(a.ParaCoor.backgroundEnter).transition().ease(r.k).duration(1e3).attr("d",D).attr("fill","none").attr("stroke","#ccc").attr("stroke-width",a.getLineWidth.toString());var x=v.select("#foreground");a.ParaCoor.foregroundUpdate=x.selectAll("path").data(o),a.ParaCoor.foregroundExit=a.ParaCoor.foregroundUpdate.exit(),a.ParaCoor.foregroundEnter=a.ParaCoor.foregroundUpdate.enter().append("path").attr("d",D).attr("fill","none").on("mouseover",function(e,i){var s=r.C("div.tooltip"),n=t.label[i];s.style("opacity",.9),s.html("第"+(i+1)+"个数据，标签为"+n).style("left",r.l.offsetX+30+"px").style("top",r.l.offsetY-10+"px").style("z-index",5),a.ParaCoor.foregroundUpdate.merge(a.ParaCoor.foregroundEnter).style("display","none"),r.B(this).transition().duration("50").attr("stroke-width","5px").attr("stroke-opacity","1").style("display",null)}).on("mouseout",function(t,e){a.ParaCoor.foregroundUpdate.merge(a.ParaCoor.foregroundEnter).style("display",null),r.B(this).transition().duration("50").attr("stroke-width",a.getLineWidth.toString()).attr("stroke-opacity","0.4"),r.C("div.tooltip").style("opacity",0).style("z-index",-1)}).on("click",function(e,i){r.l.stopPropagation(),r.B(this).transition().duration(50).attr("opacity",1);var s=t.label[i];a.setMessage([f.IMGURl+"/api/projector_sample?run="+a.userSelectRunFile+"&tag="+a.getCurInfo.curTag+"&index="+i,"第"+(i+1)+"个点,标签为"+s])}).attr("stroke",function(e,i){return void 0!==a.getCurData.labelTypeColor[t.label[i].toString()]?a.getCurData.labelTypeColor[t.label[i].toString()]:a.getLegendColor[9]}),a.ParaCoor.foregroundUpdate.merge(a.ParaCoor.foregroundEnter).transition().ease(r.k).duration(1e3).attr("d",D).attr("fill","none").attr("stroke-opacity","0.4").attr("stroke-width",a.getLineWidth.toString()).attr("padding","2px").attr("stroke",function(e,i){return void 0!==a.getCurData.labelTypeColor[t.label[i].toString()]?a.getCurData.labelTypeColor[t.label[i].toString()]:a.getLegendColor[9]}),a.ParaCoor.dimensionsUpdate=v.selectAll(".dimension").data(e),a.ParaCoor.dimensionsExit=a.ParaCoor.dimensionsUpdate.exit(),a.ParaCoor.dimensionsEnter=a.ParaCoor.dimensionsUpdate.enter().append("g").attr("class","dimension").attr("transform",function(t){return"translate("+i(t)+")"}),a.ParaCoor.dimensionsUpdate.merge(a.ParaCoor.dimensionsEnter).transition().ease(r.k).duration(1e3),v.selectAll(".dimension").selectAll("g").remove();v.selectAll(".dimension").append("g").attr("class","axis").each(function(t){var e=(h[t]-l[t])/15,a=e;r.B(this).call(r.c(s[t]).ticks(15).tickFormat(function(t){return e>.002&&e<1e3?r.n(".3f")(t):r.n(".2e")(t)}).tickValues(r.v(l[t],h[t]+a-1e-10,a)))}).append("g").attr("class","labelBackground").append("text").attr("class","textShow").attr("fill","#1363a0").style("text-anchor","middle").attr("y",a.height+30-a.margin.top-a.margin.bottom).text(function(t){return u[t.charCodeAt()-"a".charCodeAt()]}),r.C(".dimension").each(function(t,e){var i=r.B(this).select(".labelBackground").node().getBBox();r.B(this).select(".labelBackground").insert("rect",".textShow").attr("x",function(t){return-(i.width+10)/2}).attr("y",a.height+10-a.margin.top-a.margin.bottom).attr("rx","5").attr("ry","5").attr("height",i.height+10).attr("width",i.width+10).attr("fill","#e9ecff").attr("opacity","1")}),!this.getStartStop&&a.getCheckLabels.length>0&&v.selectAll(".dimension").append("g").attr("class","myRect").each(function(e){for(var n=(h[e]-l[e])/75,c=r.v(l[e],h[e]+n-1e-10,n),d=(a.height-a.margin.top-a.margin.bottom)/(c.length-1),u=[],g=0;g<c.length-1;g++){u.push({});for(var p=0;p<a.getCheckLabels.length;p++)u[g][a.getCheckLabels[p].toString()]=0}for(var f=!1,_=0;_<a.getCheckLabels.length;_++)"其他"===a.getCheckLabels[_]&&(f=!0);o.forEach(function(i,s){for(var n=1;n<c.length;n++)if(+i[e]<=c[n]&&+i[e]>=c[n-1]){if(-1!==a.getCheckLabels.indexOf(t.label[s].toString())){u[n-1][t.label[s].toString()]++;break}if(f&&-1===a.getCurData.labelType.indexOf(t.label[s].toString())){u[n-1]["其他"]++;break}}});r.B(this).selectAll(".lessRect").data(u).enter().append("g").attr("class","lessRect").each(function(n,o){for(var l=this,h=F()(n),u=function(n){r.B(l).append("rect").attr("y",function(t){return s[e](c[o+1])+.1*d}).attr("x",function(e){var a=0;return a=e[h[n]],a=0===n?1.5:-1*a/t.echaLabelNumber[h[n]]*i.step()*.2}).attr("width",function(e){return e[h[n]]/t.echaLabelNumber[h[n]]*i.step()*.2}).attr("height",.8*d).attr("fill",function(){return void 0!==a.getCurData.labelTypeColor[h[n]]?a.getCurData.labelTypeColor[h[n]]:a.getLegendColor[9]}).attr("opacity",1),r.B(l).append("path").attr("d",function(a){var r=0;r=a[h[n]],r=0===n?1.5:-1*r/t.echaLabelNumber[h[n]]*i.step()*.2;var l=a[h[n]]/t.echaLabelNumber[h[n]]*i.step()*.2,u="";return 0===l?u:u="m"+r+" "+(s[e](c[o+1])+.1*d)+" L"+(r+l)+" "+(s[e](c[o+1])+.1*d)+" L"+(r+l)+" "+(s[e](c[o+1])+.1*d+.8*d)+" L"+r+" "+(s[e](c[o+1])+.1*d+.8*d)+" Z"}).attr("fill","none").attr("stroke","#736FBC")},g=0;g<h.length;g++)u(g)})}),r.B("#mainGroup").selectAll(".legend").remove();var C=r.B("#mainGroup").selectAll(".legend").data(t.labelType).enter().append("g").attr("class","legend").attr("transform",function(t,e){return"translate("+(a.width-a.margin.left-a.margin.right-80)+","+(25*-(e+1)+a.height-a.margin.bottom-a.margin.top)+")"});function D(t){return c(e.map(function(e){return[function(t){var e=n[t];return null==e?i(t):e}(e),s[e](t[e])]}))}C.append("circle").data(t.labelType).attr("cx","15").attr("cy","10").attr("r",8).style("fill",function(e,i){return a.getLegendColor[t.labelType.length-1-i]}),C.append("text").data(t.labelType).attr("class","legend_text").attr("x",40).attr("y",9).attr("dy",".5em").attr("fill","black").style("text-anchor","start").text(function(e,a){return t.labelType[t.labelType.length-1-a]})},renderTwoUpdate:function(t){var e=this,a=r.B("#maingroup"),i=r.B("#subgroup");this.dataAttr.minX=r.t(t.data,function(t){return t[0]}),this.dataAttr.maxX=r.r(t.data,function(t){return t[0]}),this.dataAttr.minY=r.t(t.data,function(t){return t[1]}),this.dataAttr.maxY=r.r(t.data,function(t){return t[1]}),this.height=r.B(this.$refs.draw).node().getBoundingClientRect().height,this.width=r.B(this.$refs.draw).node().getBoundingClientRect().width,e.halfHight=this.height/2,e.halfWidth=this.width/2,e.xScale=r.w().domain([e.dataAttr.minX,e.dataAttr.maxX]).range([0,this.width-this.margin.left-this.margin.right]).nice(),e.yScale=r.w().domain([e.dataAttr.minY,e.dataAttr.maxY].reverse()).range([0,this.height-this.margin.top-this.margin.bottom]).nice(),e.yAxis=r.c(e.yScale).tickSize(-(this.width-this.margin.left-this.margin.right)),e.xAxis=r.b(e.xScale).tickSize(-(this.height-this.margin.top-this.margin.bottom)).tickPadding(10);var s=i.transition().duration(750);a.select("#xaxis").transition(s).call(e.xAxis),a.select("#yaxis").transition(s).call(e.yAxis),e.circleUpdate=i.selectAll("circle").data(t.data),e.circleExit=e.circleUpdate.exit(),e.circleEnter=e.circleUpdate.enter().append("circle").attr("cy",function(t){return e.yScale(t[1])}).attr("cx",function(t){return e.xScale(t[0])}).attr("r",3).attr("fill",function(a,i){return void 0!==e.getCurData.labelTypeColor[t.label[i].toString()]?e.getCurData.labelTypeColor[t.label[i].toString()]:e.getLegendColor[9]}).attr("opacity",1).on("click",function(a,i){r.l.stopPropagation(),e.clickEleCumputed=!0;var s=t.label[i];e.setMessage([f.IMGURl+"/api/projector_sample?run="+e.userSelectRunFile+"&tag="+e.getCurInfo.curTag+"&index="+i,"第"+(i+1)+"个点,标签为"+s])}).on("mouseover",function(e,a){var i=r.C("div.tooltip"),s=t.label[a];i.style("opacity",.9).style("left",r.l.offsetX+30+"px").style("top",r.l.offsetY-10+"px").style("z-index",5),i.html("第"+(a+1)+"个点，标签为"+s)}).on("mouseout",function(t){r.B("div.tooltip").style("opacity",0).style("z-index",-1)}),e.circleUpdate.merge(e.circleEnter).transition().ease(r.k).duration(1e3).attr("cy",function(t){return e.yScale(t[1])}).attr("cx",function(t){return e.xScale(t[0])}).attr("fill",function(a,i){return void 0!==e.getCurData.labelTypeColor[t.label[i].toString()]?e.getCurData.labelTypeColor[t.label[i].toString()]:e.getLegendColor[9]}),e.circleExit.remove(),r.B("#maingroup").selectAll(".legend").remove();var n=r.B("#maingroup").selectAll(".legend").data(t.labelType).enter().append("g").attr("class","legend").attr("transform",function(t,a){return"translate("+(e.width-e.margin.left-e.margin.right+30)+","+(25*-(a+1)+e.height-e.margin.bottom-e.margin.top)+")"});n.append("circle").data(t.labelType).attr("cx","15").attr("cy","10").attr("r",8).style("fill",function(a,i){return e.getLegendColor[t.labelType.length-1-i]}),n.append("text").data(t.labelType).attr("class","legend_text").attr("x",40).attr("y",9).attr("dy",".5em").attr("fill","black").style("text-anchor","start").text(function(e,a){return t.labelType[t.labelType.length-1-a]})},renderThreeUpdate:function(t){for(var e=this,a=this,i={},s=0;s<t.labelType.length;s++)i[t.labelType[s]]=[],i[t.labelType[s]].push(["x","y","z","index"]);for(var n=0;n<t.label.length;n++)t.labelType.indexOf(t.label[n].toString())>=10||-1===t.labelType.indexOf(t.label[n].toString())?i[t.labelType[9]].push(t.data[n].concat(n)):i[t.label[n].toString()].push(t.data[n].concat(n));for(var r={tooltip:{trigger:"item",backgroundColor:"rgba(255,255,255,0.8)",borderWidth:1,borderColor:"rgb(124,120,192)",padding:[5,5,5,5],textStyle:{color:"rgb(124,120,192)"},formatter:function(e){var a=t.label[e.data[3]];return"第"+e.data[3]+"个点，标签为"+a}},grid3D:{viewControl:{minDistance:-100}},xAxis3D:{color:"#FFFFFF"},yAxis3D:{color:"#FFFFFF"},zAxis3D:{color:"#FFFFFF"},color:this.getLegendColor,legend:{right:50,bottom:50,data:t.labelType,orient:"vertical"},label:{formatter:function(t){return t.name},position:"right",show:!1,color:"#FFFFFF"},emphasis:{label:{show:!0}},series:[]},o=0;o<t.labelType.length;o++)r.series.push({name:t.labelType[o],type:"scatter3D",symbolSize:5,data:i[t.labelType[o]],itemStyle:{}});this.myChart=Is.a.init(document.getElementById("threeChild"),"light"),this.myChart.setOption(r),this.myChart.on("click",function(e){var i=t.label[e.data[3]];a.setMessage([f.IMGURl+"/api/projector_sample?run="+a.userSelectRunFile+"&tag="+a.getCurInfo.curTag+"&index="+e.data[3],"点击第"+e.data[3]+"个点,标签为"+i])}),window.addEventListener("resize",function(){e.myChart&&e.myChart.resize()})},renderUpdate:function(t){"{}"!==$()(this.localCurInfo)&&(3===parseInt(this.localCurInfo.curDim)?this.renderThreeUpdate(t):2===parseInt(this.localCurInfo.curDim)?this.renderTwoUpdate(t):this.renderNUpdate(t))}})},Ps={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("span",{attrs:{id:"title"}},[t._v("#"+t._s(t.getCurInfo.curMethod)+" - "+t._s(t.getCurInfo.curDim)+" | Current-Step : "+t._s(t.getCurInfo.curMapStep))]),t._v(" "),a("div",{ref:"draw",staticClass:"draw",attrs:{id:"main"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"3维"===t.getCurInfo.curDim,expression:"getCurInfo.curDim === '3维'"}],staticStyle:{width:"100%"},attrs:{id:"threeDimension"}})])])},staticRenderFns:[]};var Rs=a("VU/8")(Bs,Ps,!1,function(t){a("2HL1")},"data-v-01ca1ee7",null).exports,As=Object(o.a)("embedding"),Fs=As.mapGetters,Ls=As.mapActions,Ns=Object(o.a)("layout").mapState,Us={components:{embeddingDraw:Rs},data:function(){return{}},computed:n()({},Fs([]),Ns(["userSelectRunFile"])),watch:{},created:function(){},methods:n()({},Ls([]))},Ws={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"temp"},[e("div",{class:["display-panel"]},[e("embeddingDraw")],1)])])},staticRenderFns:[]};var Ks=a("VU/8")(Us,Ws,!1,function(t){a("lZOT")},"data-v-dd0376ea",null).exports,js=Object(o.a)("embedding"),Gs=js.mapGetters,Hs=js.mapMutations,zs=js.mapActions,qs=Object(o.a)("layout"),Ys=qs.mapState,Js=qs.mapGetters,Vs={components:{customAudio:Le},data:function(){return{curTag:"",curTags:[],curMethod:"",allMethods:[{value:"PCA",label:"PCA"},{value:"TSNE",label:"TSNE"}],curDim:"",allDims:["2维","3维"],playAction:!1,curStep:0,curMapStep:0,curMin:0,curMax:100,curMapMax:100,checkedLabels:[],lableTypes:[],curLineWidth:1}},computed:n()({},Gs(["getCurInfo","getCategoryInfo","getQuestionInfo","getReceivedCategoryInfo","getReceivedCurInfo","getReceivedQuestionInfo","getCurData","getReceivedCurData","getPanelSampleData","getMessage","getInitStateFlag","getErrorMessage","getLineWidth","getIntervalChange"]),Ys(["userSelectRunFile"]),Js(["getParams","getTimer"])),watch:{curLineWidth:function(){this.setLineWidth(this.curLineWidth)},getReceivedCurInfo:function(){if(0!=this.getReceivedCurInfo&&""!==this.userSelectRunFile){this.setCurInfo(["received",!1]);for(var t=0;t<this.getCategoryInfo.curRuns.length;t++)this.userSelectRunFile===this.getCategoryInfo.curRuns[t]&&(this.curTags=this.getCategoryInfo.curTags[t].slice(0));(this.curTags.indexOf(this.curTag)<0||""==this.curTag)&&(this.curTag=this.curTags[0],this.setCurInfo(["curStep",0]),this.curStep=this.getCurInfo.curStep),this.curMethod=this.getCurInfo.curMethod,this.curDim=this.getCurInfo.curDim,this.curMax=this.getQuestionInfo[this.userSelectRunFile][this.curTag].allSteps[this.getQuestionInfo[this.userSelectRunFile][this.curTag].curMax],this.curMapMax=this.getQuestionInfo[this.userSelectRunFile][this.curTag].curMax,this.curMin=0,this.curMapStep=this.getQuestionInfo[this.userSelectRunFile][this.curTag].allSteps[this.curStep],this.setCurInfo(["curMapStep",this.curMapStep]);var e={run:this.userSelectRunFile,tag:this.curTag,step:this.curMapStep,method:this.curMethod.toLowerCase(),dims:parseInt(this.curDim)};this.fetchDataPower(e)}},curTag:function(){this.setCurInfo(["curTag",this.curTag]),this.fetchData()},curMethod:function(){this.setCurInfo(["curMethod",this.curMethod]),this.fetchData()},curDim:function(){this.setCurInfo(["curDim",this.curDim]),this.fetchData()},curStep:function(){this.setCurInfo(["curStep",this.curStep]),this.curMapStep=this.getQuestionInfo[this.userSelectRunFile][this.curTag].allSteps[this.curStep]},curMapStep:function(){this.setCurInfo(["curMapStep",this.curMapStep]),this.fetchData()},getReceivedQuestionInfo:function(){for(var t=0;t<this.getCategoryInfo.curRuns.length;t++)this.userSelectRunFile===this.getCategoryInfo.curRuns[t]&&(this.curTags=this.getCategoryInfo.curTags[t].slice(0))},checkedLabels:function(t){this.setCheckLabels(t)},getMessage:function(){this.getQuestionInfo[this.userSelectRunFile][this.getCurInfo.curTag].sample&&this.getMessage.length>0&&this.fetchSampleData(this.getMessage[0])},getReceivedCurData:function(){parseInt(this.curDim)>3&&(this.lableTypes=this.getCurData.labelType.slice(0));var t=this;this.playAction&&setTimeout(function(){if(t.playAction){var e=t.curStep;++e>t.curMapMax?t.playAction=!1:t.curStep++}},2e3)},getIntervalChange:function(){this.getReceivedQuestionInfo&&(this.setCurInfo(["received",!1]),this.fetchOneStep(this.userSelectRunFile))},userSelectRunFile:function(){this.setMessage(""),this.getReceivedQuestionInfo&&(this.setCurInfo(["received",!1]),this.fetchOneStep(this.userSelectRunFile))},getErrorMessage:function(t){this.$message({message:t.split("_")[0],type:"error"})}},created:function(){if(this.getInitStateFlag?this.setInitStateFlag(!1):this.getReceivedCategoryInfo&&this.fetchOneStep(),this.getReceivedQuestionInfo){this.setCurInfo(["received",!1]);for(var t=0;t<this.getCategoryInfo.curRuns.length;t++)this.userSelectRunFile===this.getCategoryInfo.curRuns[t]&&(this.curTags=this.getCategoryInfo.curTags[t].slice(0));this.curTag=this.curTags[0],this.curMethod=this.getCurInfo.curMethod,this.curDim=this.getCurInfo.curDim,this.curStep=this.getCurInfo.curStep,this.curMax=this.getQuestionInfo[this.userSelectRunFile][this.curTag].allSteps[this.getQuestionInfo[this.userSelectRunFile][this.curTag].curMax],this.curMapMax=this.getQuestionInfo[this.userSelectRunFile][this.curTag].curMax,this.curMin=0,this.curMapStep=this.getQuestionInfo[this.userSelectRunFile][this.curTag].allSteps[this.curStep];var e={run:this.userSelectRunFile,tag:this.curTag,step:this.curMapStep,method:this.curMethod.toLowerCase(),dims:parseInt(this.curDim)};this.fetchDataPower(e)}this.curLineWidth=this.getLineWidth},methods:n()({},Hs(["setCheckLabels","setCurInfo","setMessage","setInitStateFlag","setLineWidth"]),zs(["fetchSampleData","featchData","fetchAllStep","fetchOneStep"]),{playActionClick:function(){this.playAction=!this.playAction,this.playAction&&(0===this.curStep?this.fetchData():this.curStep=0)},fetchData:function(){if(this.getReceivedCurInfo&&this.getCurInfo.received){var t={run:this.userSelectRunFile,tag:this.getCurInfo.curTag,step:this.getCurInfo.curMapStep,method:this.getCurInfo.curMethod.toLowerCase(),dims:parseInt(this.getCurInfo.curDim)};this.featchData(t)}},fetchDataPower:function(t){this.featchData(t)}})},Qs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"embeddingpanel"},[a("div",{staticClass:"panel"},[a("el-card",{staticClass:"father"},[a("div",{staticClass:"info"},[a("div",{staticClass:"infoTitle"},[a("span",{staticClass:"iconfont icon-ziyuan40",attrs:{i:""}},[t._v("  控制面板")])]),t._v(" "),a("div",{staticClass:"infoContent"},[a("div",{staticClass:"infoItem"},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:8}},[a("div",[a("span",{staticClass:"midFont"},[t._v("标       签")])])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"center"},[a("el-select",{staticClass:"tagSelect histmodeselect",attrs:{size:"small",placeholder:"请选择"},model:{value:t.curTag,callback:function(e){t.curTag=e},expression:"curTag"}},t._l(t.curTags,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}),1)],1)])],1)],1),t._v(" "),a("div",{staticClass:"infoItem"},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:8}},[a("div",[a("span",[t._v("降维方法")])])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"center"},[a("el-select",{staticClass:"tagSelect histmodeselect",attrs:{size:"small"},model:{value:t.curMethod,callback:function(e){t.curMethod=e},expression:"curMethod"}},t._l(t.allMethods,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)])],1)],1),t._v(" "),a("div",{staticClass:"infoItem"},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:8}},[a("div",[a("span",[t._v("维度选择")])])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"center"},[a("el-select",{staticClass:"tagSelect histmodeselect",attrs:{size:"small"},model:{value:t.curDim,callback:function(e){t.curDim=e},expression:"curDim"}},t._l(t.allDims,function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t}})}),1)],1)])],1)],1),t._v(" "),t.getReceivedQuestionInfo&&t.getReceivedCurInfo?a("div",{staticClass:"infoItem"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{icon:t.playAction?"iconfont icon-zanting":"iconfont icon-ziyuan74","background-color":"#736FBC",type:"primary",size:"medium"},on:{click:function(e){return t.playActionClick()}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-slider",{staticClass:"rangeNumber",attrs:{min:t.curMin,max:t.curMapMax,disabled:0===t.curMapMax,"show-tooltip":!1,"input-size":"small"},model:{value:t.curStep,callback:function(e){t.curStep=e},expression:"curStep"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content"},[a("span",{staticClass:"midFont",attrs:{"text-align":"center"}},[t._v(t._s(t.curMapStep)+"/"+t._s(t.curMax))])])])],1)],1):t._e(),t._v(" "),parseInt(t.curDim)>3?a("div",{staticClass:"infoItem ProbabilityDensitySec"},[a("span",{staticClass:"ProbabilityDensity"},[t._v("概率密度")]),t._v(" "),a("hr"),t._v(" "),a("el-checkbox-group",{staticClass:"leftInline-block",attrs:{max:2},model:{value:t.checkedLabels,callback:function(e){t.checkedLabels=e},expression:"checkedLabels"}},t._l(t.lableTypes,function(e,i){return a("el-checkbox",{key:e,class:"checkboxx"+i,attrs:{label:e}},[t._v(t._s(e))])}),1)],1):t._e(),t._v(" "),parseInt(t.curDim)>3?a("div",{staticClass:"infoItem"},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:6}},[a("span",{staticStyle:{"line-height":"38px"}},[t._v("线条宽度")])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-slider",{staticClass:"rangeNumber",attrs:{min:.4,max:2,"show-tooltip":!1,step:.1,"input-size":"small"},model:{value:t.curLineWidth,callback:function(e){t.curLineWidth=e},expression:"curLineWidth"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content"},[a("span",{staticClass:"midFont",attrs:{"text-align":"center"}},[t._v(t._s(t.curLineWidth.toFixed(1))+" / 2.0")])])])],1)],1):t._e()])])]),t._v(" "),a("el-card",{staticClass:"father"},[a("div",{staticClass:"info"},[a("div",{staticClass:"infoTitle"},[a("span",{staticClass:"iconfont icon-ziyuan41",attrs:{i:""}},[t._v("  数据信息栏")])]),t._v(" "),a("div",{staticClass:"infoContent"},[a("div",{staticClass:"infoItem"},[""==t.getMessage?a("div",[a("span",[t._v("暂无信息")])]):t._e(),t._v(" "),""!=t.getMessage?a("el-card",{staticClass:"infoCard",attrs:{"body-style":{padding:"0px"},display:"none",align:"middle"}},[t.getQuestionInfo[t.userSelectRunFile][t.getCurInfo.curTag].sample?a("div",{staticClass:"showBox",attrs:{type:"flex",align:"middle"}},["text"==t.getQuestionInfo[t.userSelectRunFile][t.getCurInfo.curTag].sample_type&&""!=t.getMessage?a("div",{staticClass:"image"},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("p",[t._v(t._s(t.getPanelSampleData.url))])])],1):t._e(),t._v(" "),"image"==t.getQuestionInfo[t.userSelectRunFile][t.getCurInfo.curTag].sample_type&&""!=t.getMessage?a("div",{staticClass:"image"},[a("el-image",{staticClass:"image",attrs:{src:t.getPanelSampleData.url,"preview-src-list":[t.getPanelSampleData.url]}})],1):t._e(),t._v(" "),"audio"==t.getQuestionInfo[t.userSelectRunFile][t.getCurInfo.curTag].sample_type&&""!=t.getMessage?a("div",{staticClass:"audio"},["audio"==t.getQuestionInfo[t.userSelectRunFile][t.getCurInfo.curTag].sample_type&&""!=t.getMessage?a("customAudio",{attrs:{theUrl:t.getPanelSampleData.url,index:1e3,theControlList:"noMuted noSpeed onlyOnePlaying noDownload noPadding"}}):t._e()],1):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"imageSpan",staticStyle:{padding:"14px"}},[a("span",[t._v(t._s(t.getMessage[1]))])])]):t._e()],1)])])])],1)])},staticRenderFns:[]};var Zs=a("VU/8")(Vs,Qs,!1,function(t){a("8bjM")},"data-v-341b02aa",null).exports,Xs=Object(o.a)("exception"),$s=Xs.mapActions,tn=Xs.mapGetters,en=Xs.mapMutations,an={name:"ExcepContainer",props:{oneData:Array,index:Number,oneAllStep:Array},data:function(){return{excepContainerHeadShow:!1,excepHistId:"excepHist"+this.index,excepRectId:"excepRect"+this.index,excepCanvasId:"excepCanvas"+this.index,excepLegendId:"excepLegend"+this.index,excepBoxId:"excepBox"+this.index,excepStepAxisId:"excepStepAxis"+this.index,curStepIndex:0,boxLeftIndex:0,boxRightIndex:4,curExcepBox:[],myOneData:this.oneData,myAllStep:this.oneAllStep[2].step,myBoxPercent:this.oneAllStep[2].box,rectColor:["#79a3da","#fefebe","#fe193f"],rectColorRgb:[[121,163,218],[254,254,180],[254,25,63]],histxScale:"",drawRectFinished:!0,getCurNewExcepBoxFlag:!1,boxYScale:"",rectMin:this.oneData[3][1],rectMax:this.oneData[3][2],rectScale:1,canvasScale:!1,rectMinWidth:15,rectMinHeight:15}},computed:n()({},tn(["getCurNewData","getCurNewExcepBox","getCurIqrTimes","getLinkChecked","getDq0Show","getUpDownValue","getUpdateHistMatrixDataFlag","getCurRunTag"])),watch:{oneAllStep:function(t){if("none"===this.getUpdateHistMatrixDataFlag||"step"===this.getUpdateHistMatrixDataFlag.substr(0,4)){if(this.myAllStep=t[2].step,this.myBoxPercent=t[2].box,"step"===this.getUpdateHistMatrixDataFlag.substr(0,4)&&(this.curExcepBox=[],this.curStepIndex=this.myAllStep.indexOf(this.getCurRunTag.step),this.curStepIndex<=4?(this.boxLeftIndex=0,this.boxRightIndex=4):(this.boxLeftIndex=this.curStepIndex-4,this.boxRightIndex=this.curStepIndex)),"none"===this.getUpdateHistMatrixDataFlag){var e=this.myBoxPercent[this.curStepIndex][0][1]-this.myBoxPercent[this.curStepIndex][0][3];0!==e&&(this.myBoxPercent[this.curStepIndex][0][0]=this.myBoxPercent[this.curStepIndex][0][1]+this.getCurIqrTimes[3]*e,this.myBoxPercent[this.curStepIndex][0][4]=this.myBoxPercent[this.curStepIndex][0][3]-this.getCurIqrTimes[4]*e,this.setAllStepBoxUp({index:this.index,step:this.curStepIndex,up:this.myBoxPercent[this.curStepIndex][0][0]}),this.setAllStepBoxDown({index:this.index,step:this.curStepIndex,down:this.myBoxPercent[this.curStepIndex][0][4]}))}this.drawExcepBox(),this.drawExcepStepAxis(),r.B("#"+this.excepBoxId).select(".boxRect"+this.curStepIndex).style("fill","#B0B6E6")}},getCurNewData:function(t){this.myOneData[0]===t[0]&&this.myOneData[1]===t[1]&&(this.myOneData=t,this.drawExcepHist(),this.rectMin=this.myOneData[3][1],this.rectMax=this.myOneData[3][2],this.rectScale=1,this.canvasScale=!1,this.drawCanvasRect(),this.drawRectFinished=!0,this.drawExcepLedgend())},getCurNewExcepBox:function(t){this.myOneData[0]===t[0]&&this.myOneData[1]===t[1]&&(this.getCurNewExcepBoxFlag=!0,this.curExcepBox=t[2],this.drawExcepBox(),r.B("#"+this.excepBoxId).select(".boxRect"+this.curStepIndex).style("fill","#B0B6E6"))},getCurIqrTimes:function(t){this.excepContainerHeadShow=!1;if(this.myOneData[0]===t[0]&&this.myOneData[1]===t[1]){if(this.excepContainerHeadShow=!0,this.myAllStep[this.curStepIndex]!==t[2]){for(var e=0,a=0;a<this.myAllStep.length;a+=1)if(this.myAllStep[a]===t[2]){e=a;break}this.getOneStepDataFlag=!0,this.getOneStepData(e)}var i=this.myBoxPercent[this.curStepIndex][0][1]-this.myBoxPercent[this.curStepIndex][0][3];0!==i&&(this.myBoxPercent[this.curStepIndex][0][0]=this.myBoxPercent[this.curStepIndex][0][1]+t[3]*i,this.myBoxPercent[this.curStepIndex][0][4]=this.myBoxPercent[this.curStepIndex][0][3]-t[4]*i,this.setAllStepBoxUp({index:this.index,step:this.curStepIndex,up:this.myBoxPercent[this.curStepIndex][0][0]}),this.setAllStepBoxDown({index:this.index,step:this.curStepIndex,down:this.myBoxPercent[this.curStepIndex][0][4]}));var s={run:this.myOneData[0],tag:this.myOneData[1],step:this.myAllStep[this.curStepIndex],down:this.myBoxPercent[this.curStepIndex][0][4],up:this.myBoxPercent[this.curStepIndex][0][0]};this.fetchExcepBox(s),this.rectScale=1,this.canvasScale=!1,this.drawCanvasRect()}},drawRectFinished:function(){this.getCurNewExcepBoxFlag&&this.drawRectFinished&&(this.setRectExcepBox(),this.getCurNewExcepBoxFlag=!1)},getCurNewExcepBoxFlag:function(){this.getCurNewExcepBoxFlag&&this.drawRectFinished&&(this.setRectExcepBox(),this.getCurNewExcepBoxFlag=!1)}},mounted:function(){this.drawExcepHist(),this.drawCanvasRect(),this.CanvasRectMouseOperator(),this.drawExcepLedgend(),this.myAllStep.length<5&&(this.boxRightIndex=this.myAllStep.length-1),this.curStepIndex=this.myAllStep.indexOf(this.oneData[2]),this.curStepIndex>5&&(this.boxLeftIndex=this.curStepIndex-4,this.boxRightIndex=this.curStepIndex),this.drawExcepBox(),this.drawExcepStepAxis(),r.B("#"+this.excepBoxId).select(".boxRect"+this.curStepIndex).style("fill","#B0B6E6"),r.B("#"+this.excepCanvasId).on("mouseover",function(){document.getElementById("excepDisplay").onmousewheel=function(){return!1}}),r.B("#"+this.excepCanvasId).on("mouseout",function(){document.getElementById("excepDisplay").onmousewheel=function(){return!0}})},methods:n()({},$s(["fetchOneData","fetchExcepBox"]),en(["setAllStepBoxDown","setAllStepBoxUp","setRectCurInfo","setCurIqrTimes","setExcepBoxStatistic","setDq0Show","setUpDownValue"]),{numberChangeToE:function(t){if(Math.abs(t)>1e4){var e=e=t.toString().length-1;return t<0&&(e=t.toString().length-2),(t/Math.pow(10,e)).toFixed(2)+"e+"+e}if(Math.abs(t)<.001){if(0===t)return t;var a=t.toString();if(-1!==a.indexOf("e"))return t;var i=3;for(t<0&&(i=4);i<a.length&&"0"===a[i];i++);return t<0&&(i-=1),(t*Math.pow(10,i-1)).toFixed(2)+"e-"+(i-1)}return t},drawExcepHist:function(){var t=this;r.B("#"+this.excepHistId).select("svg").remove();var e=25,a=50,i=630-a-30,s=240-e-25,n=r.B("#"+this.excepHistId).append("svg").attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 630 240").append("g").attr("width",630).attr("height",240).attr("transform","translate("+a+","+e+")"),o=this.myOneData[4];this.histxScale=r.w().domain([o[0],o[1]]).range([0,i]).nice();var c=r.r(o[2],function(t){return t[2]}),l=r.w().domain([0,c]).range([s,0]).nice(),h=r.b().scale(this.histxScale).ticks(7).tickFormat(function(e){return t.numberChangeToE(e)}),d=r.c().scale(l).ticks(7).tickFormat(function(e){return t.numberChangeToE(e)});n.append("g").call(h).attr("transform","translate(0, "+s+")"),n.append("g").call(d);var u=this;n.append("g").selectAll("rect").data(o[2]).enter().append("g").append("rect").attr("x",function(t){return u.histxScale(t[0])}).attr("y",function(t){return l(t[2])}).attr("width",function(t){return u.histxScale(t[1])-u.histxScale(t[0])}).attr("height",function(t){return s-l(t[2])}).attr("fill","#B0B6E6");var g=this.myBoxPercent[this.curStepIndex][0][4],p=this.myBoxPercent[this.curStepIndex][0][0];n.append("g").append("rect").attr("x",this.histxScale(g)).attr("y",s-5).attr("width","3").attr("height","10").attr("fill","red").attr("class","minLine"),n.append("g").append("rect").attr("x",this.histxScale(p)).attr("y",s-5).attr("width","3").attr("height","10").attr("fill","red").attr("class","maxLine")},CanvasRectMouseOperator:function(){var t=document.getElementById(this.excepCanvasId),e=document.getElementById("excepCanvasIdTemp"),a=this;function i(t){var e=a.rectMinWidth*a.rectScale,i=a.rectMinHeight*a.rectScale,s=Math.floor(t.layerY/i),n=Math.floor(t.layerX/e);s<0||n<0||a.setRectCurInfo([a.myOneData[0],a.myOneData[1],a.myAllStep[a.curStepIndex],s,n,a.myOneData[3][4][s][n]])}function s(i){if(i.wheelDelta<0){if(a.rectScale<=.1)return;a.rectScale*=.9,a.canvasScale=!0,e.width=t.width*a.rectScale,e.height=t.height*a.rectScale,e.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height)}else{if(a.rectScale>=1)return;a.rectScale*=1.1,a.canvasScale=!0,e.width=t.width*a.rectScale,e.height=t.height*a.rectScale,e.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height)}}function n(){a.rectScale=1,a.canvasScale=!1}t.onmousemove=i,t.onclick=n,t.onmousewheel=s,e.onmousemove=i,e.onclick=n,e.onmousewheel=s},drawCanvasRect:function(){var t=this.rectMin,e=this.rectMax,a=this.myOneData[3][0][0],i=this.myOneData[3][0][1],s=this.rectMinWidth*this.rectScale,n=this.rectMinHeight*this.rectScale,o=s*i,c=n*a,l=document.getElementById(this.excepCanvasId);l.width=o+20,l.height=c;for(var h=r.w().domain([t,(t+e)/2,e]).range(this.rectColor),d=[],u=(e-t)/100,g=t,p=0;p<100;p++)d.push(h(g)),g+=u;var f=l.getContext("2d"),_=this.myOneData[3][4];f.fillStyle="#eeeeee";for(var m=0;m<a;m+=1)for(var v=m*n,y=0;y<i;y+=1){var x=_[m][y];x<t&&x>e&&f.fillRect(y*s,v,s,n)}for(var C=0;C<100;C++){f.fillStyle=d[C];for(var D=C*u+t,w=(C+1)*u+t,S=0;S<a;S++)for(var b=S*n,E=0;E<i;E+=1){var I=_[S][E];I>=D&&I<w&&f.fillRect(E*s,b,s,n)}}for(var M=0,k=0;k<a;k+=1)f.beginPath(),f.moveTo(0,M),f.lineTo(o,M),f.strokeStyle="rgba(255, 255, 255)",f.stroke(),M+=n;for(var O=0,T=0;T<i;T+=1)f.beginPath(),f.moveTo(O,0),f.lineTo(O,c),f.strokeStyle="rgba(255, 255, 255)",f.stroke(),O+=s;this.setRectCurInfo([])},drawExcepLedgend:function(){r.B("#"+this.excepLegendId).select("svg").remove();var t=r.B("#"+this.excepLegendId).append("svg").attr("width",120).attr("height",300).attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 120 300").append("g").attr("transform","translate(20,100)"),e=this.myOneData[3][1],a=this.myOneData[3][2],i=r.n(".4f"),s=t.append("g").append("text").text(i(e)).attr("x",40).attr("y",135).attr("stroke","black").style("font-size","10px"),n=t.append("g").append("text").text(i(a)).attr("x",40).attr("y",0).attr("stroke","black").style("font-size","10px"),o=r.w().domain([e,a]).range([135,0]);t.append("g").append("rect").attr("x",0).attr("y",0).attr("width",25).attr("height",135).attr("fill","#eeeeee");var c=t.append("defs"),l="linearColor"+this.index,h=c.append("linearGradient").attr("id",l).attr("x1","0").attr("y1","0").attr("x2","0").attr("y2","100%");h.append("stop").attr("offset","0%").style("stop-color",this.rectColor[2]),h.append("stop").attr("offset","50%").style("stop-color",this.rectColor[1]),h.append("stop").attr("offset","100%").style("stop-color",this.rectColor[0]);var d=t.append("g").append("rect").attr("x",0).attr("y",0).attr("width",25).attr("height",135).style("fill","url(#"+l+")"),u=t.append("g"),g=0,p=135,f=e,_=a,m=this;u.append("g").append("path").attr("d","m25 0L35 -10L35 0 Z").attr("fill",this.rectColor[2]).on("mouseover",function(){r.B(this).style("cursor","s-resize")}).call(r.j().on("drag",function(){r.B(this).style("cursor","s-resize"),g=r.l.y<0||r.l.y>p?0:r.l.y,r.B(this).attr("d","m25 "+(0+g)+"L35 "+(-10+g)+"L35 "+ +g+" Z"),d.attr("y",g).attr("height",p-g),_=o.invert(g),n.text(i(_)).attr("y",g)}).on("end",function(){m.rectMin=f,m.rectMax=_,m.rectScale=1,m.canvasScale=!1,m.drawCanvasRect(),m.setRectExcepBox()})),u.append("g").append("path").attr("d","m25 135L35 145L35 135 Z").attr("fill",this.rectColor[0]).on("mouseover",function(){r.B(this).style("cursor","s-resize")}).call(r.j().on("drag",function(){r.B(this).style("cursor","s-resize"),p=r.l.y>135||r.l.y<g?135:r.l.y,r.B(this).attr("d","m25 "+p+"L35 "+(10+p)+"L35 "+p+" Z"),d.attr("height",p-g),f=o.invert(p),s.text(i(f)).attr("y",p+10)}).on("end",function(){m.rectMin=f,m.rectMax=_,m.rectScale=1,m.canvasScale=!1,m.drawCanvasRect(),m.setRectExcepBox()}))},drawExcepStepAxis:function(){r.B("#"+this.excepStepAxisId).select("svg").remove();var t=50,e=10,a=630-t-30,i=r.B("#"+this.excepStepAxisId).append("svg").attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 630 40"),s=this.myAllStep,n=s.length-1,o=s[n],c=r.w().domain([s[0],o]).range([0,a]),l=i.append("g").call(r.b().scale(c)).attr("transform","translate("+t+","+e+")");i.append("g").append("text").text("step:").attr("x",20).attr("y",e+5).attr("fill","black").style("font-size","12px");var h=this,d=r.f().extent([[0,-7],[a,7]]).on("end",function(){if(null!==r.l.selection){for(var t=c.invert(r.l.selection[0]),e=0,a=1;a<=n;a+=1)if(t<s[a]){e=a-1,t-s[a-1]>s[a]-t&&(e=a);break}e!==h.boxLeftIndex&&((h.curStepIndex<e||h.curStepIndex>e+4)&&(h.curExcepBox=[],h.getOneStepData(e)),h.boxLeftIndex=e,h.boxRightIndex=e+4>=n?n:e+4,h.drawExcepBox(),r.B("#"+h.excepBoxId).select(".boxRect"+h.curStepIndex).style("fill","#B0B6E6"))}});l.append("g").attr("class","brush").call(d).call(d.move,[s[h.boxLeftIndex],s[h.boxRightIndex]].map(c)),r.B("#"+this.excepStepAxisId).selectAll(".brush>.handle").remove(),r.B("#"+this.excepStepAxisId).selectAll(".brush>.overlay").remove()},drawExcepBox:function(){var t=this;r.B("#"+this.excepBoxId).select("svg").remove();for(var e=this.boxLeftIndex,a=this.boxRightIndex,i=this.myAllStep,s=20,n=50,o=240-s-40,c=r.B("#"+this.excepBoxId).append("svg").attr("width","100%").attr("height","100%").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox","0 0 650 240").append("g"),l=i.slice(e,a+1),h=[],d=0;d<=a-e+1;d+=1)h.push(110*(d+.5));var u=r.y().domain(l).range(h);c.append("g").call(r.b().scale(u)).attr("transform","translate("+(n-55)+","+(o+s)+")").selectAll("text").attr("dx",55).style("font-size","11px").style("font-weight","600");var g=this.myBoxPercent.slice(e,a+1),p=r.r(g,function(t){return t[0][0]}),f=r.t(g,function(t){return t[0][4]}),_=r.r(g,function(t){return t[1][5]}),m=r.t(g,function(t){return t[1][0]});_>p&&(p=_),m<f&&(f=m),this.boxYScale=r.w().domain([f,p]).range([o,0]).nice(),c.append("g").call(r.c().scale(this.boxYScale).ticks(7).tickFormat(function(e){return t.numberChangeToE(e)})).attr("transform","translate("+n+","+s+")");for(var v=this,y=e;y<=a;y+=1){var x=u(i[y])+n,C=c.append("g");C.append("rect").attr("x",x-52).attr("y",s).attr("height",o-1).attr("width",104).attr("stroke","white").attr("class","boxRect"+y).style("fill","#edf1fd").on("mousemove",function(){r.B(this).style("cursor","pointer")}).on("click",function(){var t=Number(r.B(this).attr("class").slice(7)),e=v.myBoxPercent[t][0][1]-v.myBoxPercent[t][0][3],a=v.myBoxPercent[t][0][0],i=v.myBoxPercent[t][0][4];0===e?(v.setDq0Show(!0),v.setUpDownValue([v.myBoxPercent[t][0][0],v.myBoxPercent[t][0][4]])):(v.setDq0Show(!1),a=(v.myBoxPercent[t][0][0]-v.myBoxPercent[t][0][1])/e,i=(v.myBoxPercent[t][0][3]-v.myBoxPercent[t][0][4])/e),v.setCurIqrTimes([v.myOneData[0],v.myOneData[1],v.myAllStep[t],a,i])}),this.drawOneBox(C,this.boxYScale,y,x,50,s)}},drawOneBox:function(t,e,a,i,s,n){var o=this.myBoxPercent,c=o[a][0][3],l=o[a][0][2],h=o[a][0][1],d=o[a][0][4],u=o[a][0][0],g=t.append("g").append("line").attr("x1",i).attr("x2",i).attr("y1",n+e(d)).attr("y2",n+e(u)).attr("stroke","black");t.append("g").append("rect").attr("x",i-s/2).attr("y",n+e(h)).attr("height",e(c)-e(h)).attr("width",s).attr("stroke","black").style("fill","#8F8BD8"),t.append("g").append("line").attr("x1",i-s/2).attr("x2",i+s/2).attr("y1",function(){return n+e(l)}).attr("y2",function(){return n+e(l)}).attr("stroke","black");var p=t.append("g").append("text").attr("x",i-s/3).attr("stroke","black").attr("font-size","10px"),f=t.append("g").append("text").attr("x",i-s/3).attr("stroke","black").attr("font-size","10px"),_=this,m=e(c)+n,v=e(o[a][1][0])+n,y=n+e(d),x=t.append("g");x.append("line").attr("class","excepDownLine"+a).attr("x1",i-s/2).attr("x2",i+s/2).attr("y1",function(){return n+e(d)}).attr("y2",function(){return n+e(d)}).attr("stroke","black").attr("stroke-width","20").attr("stroke-opacity","0");var C=x.append("line").attr("class","excepDownLine"+a).attr("x1",i-s/2).attr("x2",i+s/2).attr("y1",function(){return n+e(d)}).attr("y2",function(){return n+e(d)}).attr("stroke","black").attr("stroke-width","2");x.on("mouseover",function(){r.B(this).style("cursor","s-resize")}).call(r.j().on("drag",function(){r.l.y>v||r.l.y<m||(y=r.l.y,r.B(this).attr("y1",y).attr("y2",y),g.attr("y1",y),f.attr("y",y+10).text(e.invert(y-n).toFixed(4)),C.attr("y1",y).attr("y2",y))}).on("end",function(){_.getOneStepBoxData("down",e.invert(y-n),a),r.B("#"+_.excepHistId).select("svg").select(".minLine").attr("x",_.histxScale(e.invert(y-n)))}));var D=e(h)+n,w=e(o[a][1][5])+n,S=n+e(u),b=t.append("g");b.append("line").attr("class","excepUpLineBg"+a).attr("x1",i-s/2).attr("x2",i+s/2).attr("y1",function(){return n+e(u)}).attr("y2",function(){return n+e(u)}).attr("stroke","black").attr("stroke-width","20").attr("stroke-opacity","0");var E=b.append("line").attr("class","excepUpLine"+a).attr("x1",i-s/2).attr("x2",i+s/2).attr("y1",function(){return n+e(u)}).attr("y2",function(){return n+e(u)}).attr("stroke","black").attr("stroke-width","2");if(b.on("mouseover",function(){r.B(this).style("cursor","s-resize")}).call(r.j().on("drag",function(){r.l.y<w||r.l.y>D||(S=r.l.y,r.B(this).attr("y1",S).attr("y2",S),g.attr("y2",S),p.attr("y",S).text(e.invert(S-n).toFixed(4)),E.attr("y1",S).attr("y2",S))}).on("end",function(){_.getOneStepBoxData("up",e.invert(S-n),a),r.B("#"+_.excepHistId).select("svg").select(".maxLine").attr("x",_.histxScale(e.invert(S-n)))})),t.append("g").selectAll("circle").data(o[a][1]).enter().append("g").append("circle").attr("r","3").attr("cx",i).attr("cy",function(t){return n+e(t)}).attr("fill","blue").style("opacity","0.5"),this.curExcepBox.length&&this.curStepIndex===a){var I=[[],[]];if(this.curExcepBox[0].length<=200)I=this.curExcepBox;else for(var M=this.curExcepBox[0].length,k=Math.floor(M/200),O=0,T=0;T<200;T+=1)I[0].push(this.curExcepBox[0][O]),I[1].push(this.curExcepBox[1][O]),O+=k;t.append("g").attr("class","excepCircles").selectAll("circle").data(I[0]).enter().append("g").append("circle").attr("r","2").attr("cx",i).attr("cy",function(t){return n+e(t)}).attr("fill","#fe5c66").style("opacity","0.3").on("mouseover",function(t,e){var a=0,i=I[1][e][0];_.oneData[3][4].length>1&&(a=I[1][e][0],i=I[1][e][1]),_.setRectCurInfo([_.myOneData[0],_.myOneData[1],_.myAllStep[_.curStepIndex],a,i,_.oneData[3][4][a][i]])})}},getOneStepData:function(t){if(this.curStepIndex!==t){this.drawRectFinished=!1,this.curStepIndex=t;var e={step:this.myAllStep[t]};this.fetchOneData(e)}},getOneStepBoxData:function(t,e,a){this.getCurNewExcepBoxFlag=!1;var i=this.myBoxPercent[a][0][1]-this.myBoxPercent[a][0][3];if(0===i)this.setDq0Show(!0),this.setCurIqrTimes([this.myOneData[0],this.myOneData[1],this.myAllStep[a],e,0]),"up"===t?(this.myBoxPercent[a][0][0]=e,this.setAllStepBoxUp({index:a,step:this.myAllStep[a],up:e})):"down"===t&&(this.myBoxPercent[a][0][4]=e,this.setAllStepBoxDown({index:a,step:this.myAllStep[a],down:e})),this.setUpDownValue([this.myBoxPercent[a][0][0],this.myBoxPercent[a][0][4]]);else if("up"===t){this.setDq0Show(!1),this.myBoxPercent[a][0][0]=e;var s=(e-this.myBoxPercent[a][0][1])/i,n=(this.myBoxPercent[a][0][3]-this.myBoxPercent[a][0][4])/i;if(this.getLinkChecked){n=s;var r=(this.myBoxPercent[a][0][3]-this.myBoxPercent[a][1][0])/i;n>r&&(this.$message({message:"下四分位距的倍数最大只能为："+r,type:"warning"}),s=r,n=r);var o=this.myBoxPercent[a][0][3]-n*i;o<this.myBoxPercent[a][1][0]&&(o=this.myBoxPercent[a][1][0]),this.myBoxPercent[a][0][4]=o}this.setCurIqrTimes([this.myOneData[0],this.myOneData[1],this.myAllStep[a],s,n])}else if("down"===t){this.myBoxPercent[a][0][4]=e;var c=(this.myBoxPercent[a][0][3]-e)/i,l=(this.myBoxPercent[a][0][0]-this.myBoxPercent[a][0][1])/i;if(this.getLinkChecked){l=c;var h=(this.myBoxPercent[a][1][5]-this.myBoxPercent[a][0][1])/i;l>h&&(this.$message({message:"上四分位距的倍数最大只能为："+h,type:"warning"}),l=h,c=h);var d=this.myBoxPercent[a][0][1]+l*i;d>this.myBoxPercent[a][1][5]&&(d=this.myBoxPercent[a][1][5]),this.myBoxPercent[a][0][0]=d}this.setCurIqrTimes([this.myOneData[0],this.myOneData[1],this.myAllStep[a],l,c])}},setRectExcepBox:function(){if(this.curExcepBox.length){for(var t=this.myOneData[3][0][0],e=this.rectMinWidth*this.rectScale,a=this.rectMinHeight*this.rectScale,i=document.getElementById(this.excepCanvasId).getContext("2d"),s=this.curExcepBox[1],n=0,r=this.curExcepBox[0].length;n<r;n+=1){var o=s[n][0]*e,c=0;1!==t&&(o=s[n][1]*e,c=s[n][0]*a),i.beginPath(),i.moveTo(o,c),i.lineTo(o+e,c),i.lineTo(o+e,c+a),i.lineTo(o,c+a),i.lineTo(o,c),i.strokeStyle="#8933e0",i.stroke()}this.setExcepBoxStatistic([this.curExcepBox[0].length,(100*this.curExcepBox[0].length/(this.myOneData[3][0][0]*this.myOneData[3][0][1])).toFixed(2)])}}})},sn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"exceptionContainer"},[a("el-card",{staticStyle:{height:"100%"}},[a("div",{class:t.excepContainerHeadShow?"excepContainerHead2":"excepContainerHead1"},[a("div",{staticClass:"excepHead"},[a("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(t.oneData[0]))]),t._v("/"),a("span",[t._v(t._s(t.oneData[1]))])]),t._v(" "),a("div",{staticClass:"curStep"},[t._v("当前步："+t._s(t.myAllStep[t.curStepIndex]))])]),t._v(" "),a("el-row",{staticClass:"excepContainerContent",attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"excepBoxStep"},[a("div",{staticClass:"excepBox",attrs:{id:t.excepBoxId}}),t._v(" "),a("div",{staticClass:"excepStepAxis",attrs:{id:t.excepStepAxisId}})])]),t._v(" "),a("el-col",{staticClass:"excepLeft",attrs:{span:12}},[a("div",{staticClass:"excepHist",attrs:{id:t.excepHistId}})])],1),t._v(" "),a("div",{staticClass:"colorMatrix"},[a("el-row",[a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.canvasScale,expression:"!canvasScale"}],staticClass:"excepRectLegend",attrs:{span:19,offset:1}},[a("div",{staticClass:"excepRectDiv",staticStyle:{height:"100%"}},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("canvas",{attrs:{id:t.excepCanvasId}},[t._v("\n                您的浏览器不支持 HTML5 canvas 标签。\n              ")])])],1)]),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:t.canvasScale,expression:"canvasScale"}],staticClass:"excepRectLegend",attrs:{span:19,offset:1}},[a("div",{staticClass:"excepRectDiv",staticStyle:{height:"100%"}},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("canvas",{attrs:{id:"excepCanvasIdTemp"}},[t._v("\n                您的浏览器不支持 HTML5 canvas 标签。\n              ")])])],1)]),t._v(" "),a("el-col",{staticClass:"excepLegend",attrs:{span:2,offset:1}},[a("div",{attrs:{id:t.excepLegendId}})])],1)],1)],1)],1)},staticRenderFns:[]};var nn=a("VU/8")(an,sn,!1,function(t){a("UQBF"),a("pM/R")},"data-v-3748fdee",null).exports,rn=Object(o.a)("exception"),on=rn.mapActions,cn=rn.mapGetters,ln=rn.mapMutations,hn=Object(o.a)("layout").mapState,dn={components:{excepContainer:nn},computed:n()({},cn(["getRun","getTag","getAllStep","getAllData","getInitStateFlag","getErrorMessage","getExceptionShow","getUpdateFlag","getFetchAllStepNotify","getUpdateHistMatrixDataFlag","getCurRunTag"]),hn(["userSelectRunFile"]),{oneAllStep:function(){return this.getAllStep}}),watch:{getFetchAllStepNotify:function(){"none"!==this.getUpdateHistMatrixDataFlag&&("step"===this.getUpdateHistMatrixDataFlag.substr(0,4)?(this.fetchOneData({step:this.getCurRunTag.step}),this.setCurIqrTimes(["","","",1.5,1.5])):(this.fetchAllData(),this.setCurIqrTimes(["","","",1.5,1.5])))},userSelectRunFile:function(t){if(this.getExceptionShow){for(var e=0,a=0;a<this.getRun.length;a++)if(t===this.getRun[a]){e=a;break}var i={run:t,tag:this.getTag[e][0],index:e,step:""};this.setCurRunTag(i),this.setUpdateHistMatrixDataFlag("run"+t),this.fetchAllStep()}},getErrorMessage:function(t){this.$message({message:t,type:"error"})},getUpdateFlag:function(){this.fetchAllStep(),this.setRectCurInfo([])}},created:function(){this.getRun.length&&0===this.getAllStep.length&&this.fetchAllStep()},methods:n()({},on(["fetchAllStep","fetchAllData","fetchOneData"]),ln(["setInitStateFlag","setRectCurInfo","setCurIqrTimes","setCurRunTag","setUpdateHistMatrixDataFlag"]))},un={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"temp"},[e("div",{class:["display-panel"],attrs:{id:"excepDisplay"}},[this.getExceptionShow?e("div",[e("excepContainer",{attrs:{oneData:this.getAllData[0],index:0,oneAllStep:this.oneAllStep[0]}})],1):this._e()])])])},staticRenderFns:[]};var gn=a("VU/8")(dn,un,!1,function(t){a("5OkD")},"data-v-5a42e3c0",null).exports,pn=a("d7EF"),fn=a.n(pn),_n=Object(o.a)("exception"),mn=_n.mapGetters,vn=_n.mapMutations,yn=_n.mapActions,xn={data:function(){return{curRectInfoHead:["run","tag","step","row","column","value"],curRectInfo:[],curRunTag:[],curRunTagStep:[],curBoxInfo:{run:"",tag:"",step:"",upTimes:"",downTimes:""},myLinkChecked:this.getLinkChecked,boxInfoShowFlag:!1,rectInfoShowFlag:!1,excepBoxStatistic:[],excepBoxStatisticFlag:!1,downUpChange:"up",dq0Show:!0,upDownValue:[0,0],colSpan0:[7,17],colSpan1:[12,12],curTag:""}},computed:n()({},mn(["getRectCurInfo","getCurIqrTimes","getRun","getTag","getAllStep","getLinkChecked","getExcepBoxStatistic","getDq0Show","getUpDownValue","getExceptionShow","getCurRunTag","getTag"])),watch:{getCurRunTag:function(){this.curTag=this.getCurRunTag.tag},curTag:function(t){if(t!==this.getCurRunTag.tag){var e={};e.run=this.getCurRunTag.run,e.tag=t,e.index=this.getCurRunTag.index,e.step="",this.setCurRunTag(e),this.setUpdateHistMatrixDataFlag("tag"+t),this.fetchAllStep()}},getRectCurInfo:function(t){this.curRectInfo=t,0===this.curRectInfo.length?this.rectInfoShowFlag=!1:this.rectInfoShowFlag=!0},getCurIqrTimes:function(t){if(""!==t[0]){this.boxInfoShowFlag=!0;var e=fn()(t,5);this.curBoxInfo.run=e[0],this.curBoxInfo.tag=e[1],this.curBoxInfo.step=e[2],this.curBoxInfo.upTimes=e[3],this.curBoxInfo.downTimes=e[4],this.runSeletChange(),this.tagSeletChange()}else this.boxInfoShowFlag=!1},myLinkChecked:function(){this.setLinkChecked(this.myLinkChecked)},getExcepBoxStatistic:function(t){this.excepBoxStatisticFlag=!0,this.excepBoxStatistic=t},getDq0Show:function(t){this.dq0Show=t},getUpDownValue:function(t){this.upDownValue=t}},mounted:function(){this.curTag=this.getCurRunTag?this.getCurRunTag.tag:"",this.dq0Show=this.getDq0Show,this.setRectCurInfo([])},methods:n()({},vn(["setCurIqrTimes","setLinkChecked","setRectCurInfo","setCurRunTag","setUpdateHistMatrixDataFlag"]),yn(["fetchAllStep"]),{mySetCurIqrTimes:function(){this.setCurIqrTimes([this.curBoxInfo.run,this.curBoxInfo.tag,this.curBoxInfo.step,this.curBoxInfo.upTimes,this.curBoxInfo.downTimes])},runSeletChange:function(){for(var t=0;t<this.getRun.length;t+=1)if(this.getRun[t]===this.curBoxInfo.run){this.curRunTag=this.getTag[t];break}},tagSeletChange:function(){for(var t=0;t<this.getAllStep.length;t+=1)if(this.getAllStep[t][0]===this.curBoxInfo.run&&this.getAllStep[t][1]===this.curBoxInfo.tag){this.curRunTagStep=this.getAllStep[t][2].step;break}},computeMaxTimes:function(){for(var t=[],e=0;e<this.getAllStep.length;e+=1)if(this.getAllStep[e][0]===this.curBoxInfo.run&&this.getAllStep[e][1]===this.curBoxInfo.tag){for(var a=0,i=0;i<this.curRunTagStep.length;i+=1)if(this.curRunTagStep[i]===this.curBoxInfo.step){a=i;break}t=this.getAllStep[e][2].box[a];break}var s=t[0][1]-t[0][3],n=(t[1][5]-t[0][1])/s;return[(t[0][3]-t[1][0])/s,n]},changeUpTimes:function(){if(this.downUpChange="up",Number(this.curBoxInfo.upTimes)<0)this.$message({message:"倍数不能为负数",type:"warning"});else{var t=this.computeMaxTimes(),e=fn()(t,2),a=e[0],i=e[1];if(this.curBoxInfo.upTimes>i&&(this.$message({message:"上四分位距的倍数最大只能为："+i,type:"warning"}),this.curBoxInfo.upTimes=i),this.getLinkChecked){var s=this.curBoxInfo.upTimes;a<s&&(this.$message({message:"下四分位距的倍数最大只能为："+a,type:"warning"}),s=a,this.curBoxInfo.upTimes=a),this.curBoxInfo.downTimes=s}}},changeDownTimes:function(){if(this.downUpChange="down",Number(this.curBoxInfo.downTimes)<0)this.$message({message:"倍数不能为负数",type:"warning"});else{var t=this.computeMaxTimes(),e=fn()(t,2),a=e[0],i=e[1];if(this.curBoxInfo.downTimes>a&&(this.$message({message:"下四分位距的倍数最大只能为："+a,type:"warning"}),this.curBoxInfo.downTimes=a),this.getLinkChecked){var s=this.curBoxInfo.downTimes;i<s&&(this.$message({message:"上四分位距的倍数最大只能为："+i,type:"warning"}),s=i,this.curBoxInfo.downTimes=i),this.curBoxInfo.upTimes=s}}},submitBoxInfo:function(){Number(this.curBoxInfo.upTimes)!==Number(this.curBoxInfo.downTimes)&&this.myLinkChecked&&("downUp"===this.downUpChange?this.changeDownTimes():this.changeUpTimes()),Number(this.curBoxInfo.upTimes)===this.getCurIqrTimes[3]&&Number(this.curBoxInfo.downTimes)===this.getCurIqrTimes[4]||(Number(this.curBoxInfo.upTimes)<0||Number(this.curBoxInfo.downTimes)<0?this.$message({message:"倍数不能为负数",type:"warning"}):this.setCurIqrTimes([this.curBoxInfo.run,this.curBoxInfo.tag,this.curBoxInfo.step,Number(this.curBoxInfo.upTimes),Number(this.curBoxInfo.downTimes)]))}})},Cn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"temp"},[a("div",{staticClass:"excepPanel"},[a("el-card",[a("div",[a("div",{staticClass:"infoTitle"},[a("i",{staticClass:"el-icon-chat-dot-round dot"}),t._v("箱线图相关信息：")]),t._v(" "),null!==t.getCurRunTag?a("div",{staticClass:"infoContent"},[a("el-row",{staticClass:"item excepPanelSelect"},[a("el-col",{attrs:{span:t.colSpan1[0]}},[t._v("标       签 :")]),t._v(" "),a("el-col",{attrs:{span:t.colSpan1[1]}},[a("el-select",{staticClass:"histmodeselect",attrs:{placeholder:"请选择"},model:{value:t.curTag,callback:function(e){t.curTag=e},expression:"curTag"}},t._l(t.getTag[t.getCurRunTag.index],function(t){return a("el-option",{key:t,attrs:{value:t,label:t}})}),1)],1)],1),t._v(" "),t.boxInfoShowFlag?a("div",[t.dq0Show?t._e():a("div",[a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:t.colSpan1[0]}},[t._v("联       动 ：")]),t._v(" "),a("el-col",{attrs:{span:t.colSpan1[1]}},[a("el-checkbox",{model:{value:t.myLinkChecked,callback:function(e){t.myLinkChecked=e},expression:"myLinkChecked"}})],1)],1),t._v(" "),a("el-row",{staticClass:"item excepPanelSelect"},[a("el-col",{attrs:{span:t.colSpan1[0]}},[t._v("上四分位距倍数 ：")]),t._v(" "),a("el-col",{attrs:{span:t.colSpan1[1]}},[a("el-input",{attrs:{type:"number"},on:{change:function(e){return t.changeUpTimes()}},model:{value:t.curBoxInfo.upTimes,callback:function(e){t.$set(t.curBoxInfo,"upTimes",e)},expression:"curBoxInfo.upTimes"}})],1)],1),t._v(" "),a("el-row",{staticClass:"item excepPanelSelect"},[a("el-col",{attrs:{span:t.colSpan1[0]}},[t._v("下四分位距倍数 ：")]),t._v(" "),a("el-col",{attrs:{span:t.colSpan1[1]}},[a("el-input",{attrs:{type:"number"},on:{change:function(e){return t.changeDownTimes()}},model:{value:t.curBoxInfo.downTimes,callback:function(e){t.$set(t.curBoxInfo,"downTimes",e)},expression:"curBoxInfo.downTimes"}})],1)],1),t._v(" "),a("div",{staticClass:"item subButtonDiv"},[a("el-button",{staticClass:"subButton",on:{click:function(e){return t.submitBoxInfo()}}},[t._v("确定")])],1)],1),t._v(" "),t.dq0Show?a("div",[a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:t.colSpan1[0]}},[t._v("上边界数值 ：")]),t._v(" "),a("el-col",{attrs:{span:t.colSpan1[1]}},[t._v(t._s(t.upDownValue[0]))])],1),t._v(" "),a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:t.colSpan1[0]}},[t._v("下边界数值 ：")]),t._v(" "),a("el-col",{attrs:{span:t.colSpan1[1]}},[t._v(t._s(t.upDownValue[1]))])],1)],1):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.excepBoxStatisticFlag,expression:"excepBoxStatisticFlag"}]},[a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:t.colSpan1[0]}},[t._v("异常点总个数 ：")]),t._v(" "),a("el-col",{attrs:{span:t.colSpan1[1]}},[t._v(t._s(t.excepBoxStatistic[0]))])],1),t._v(" "),a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:t.colSpan1[0]}},[t._v("异常点百分比 ：")]),t._v(" "),a("el-col",{attrs:{span:t.colSpan1[1]}},[t._v(t._s(t.excepBoxStatistic[1])+"%")])],1)],1)]):t._e()],1):t._e()])]),t._v(" "),a("el-card",[a("div",{staticClass:"infoTitle"},[a("i",{staticClass:"el-icon-chat-dot-round dot"}),t._v("颜色矩阵像素点相关信息：")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.rectInfoShowFlag,expression:"!rectInfoShowFlag"}],staticClass:"infoContent"},[t._v("暂无信息")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.rectInfoShowFlag,expression:"rectInfoShowFlag"}],staticClass:"infoContent"},t._l(t.curRectInfoHead,function(e,i){return a("div",{key:i},[a("el-row",{staticClass:"item"},[a("el-col",{attrs:{span:t.colSpan0[0]}},[t._v(t._s(e)+" ：")]),t._v(" "),a("el-col",{attrs:{span:t.colSpan0[1]}},[t._v(t._s(t.curRectInfo[i]))])],1)],1)}),0)])],1)])},staticRenderFns:[]};var Dn=a("VU/8")(xn,Cn,!1,function(t){a("8xgo"),a("Y0j/")},"data-v-3b4a97d9",null).exports;i.default.use(St.a);var wn=new St.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"Layout",component:k,children:[{path:"graph",components:{default:Oa,right:La}},{path:"scalar",components:{default:ce,right:fe}},{path:"media",components:{default:wa,right:Ea}},{path:"statistic",components:{default:fs,right:Cs}},{path:"embedding",components:{default:Ks,right:Zs}},{path:"feature",components:{default:oi,right:li}},{path:"roc",components:{default:ws,right:bs}},{path:"hyperparm",components:{default:$a,right:ni}},{path:"exception",components:{default:gn,right:Dn}},{path:"custom",components:{default:Qi,right:is}}]}]});i.default.config.productionTip=!1,i.default.use(wt.a),i.default.use(o.b),i.default.prototype.$http=J,i.default.prototype.$port=V,new i.default({el:"#app",router:wn,components:{App:B},template:"<App/>",store:Ct})},O2VS:function(t,e){},RYJE:function(t,e){},RjEI:function(t,e){},TlOq:function(t,e){},UQBF:function(t,e){},UVIz:function(t,e){},XT0L:function(t,e){},"Y0j/":function(t,e){},bpef:function(t,e){},c5Kq:function(t,e){},e9iV:function(t,e){},edQV:function(t,e){},fFgR:function(t,e){},fhGP:function(t,e){},fx8v:function(t,e){},gaxQ:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbAAAABgCAYAAAB8ByexAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABQbSURBVHhe7Z09zB3FFYadfK0pKE0ZxI+UwgVEoiCCiBShgMQFKUAUcWFkIUX8KSgCBZOQgghIFMmxcAEFwkVShOCCdBiFwlJwQQexSJHCLins1kre99tzyfW9M2dmd2d2Z7/7PtJodq/u7s7Ozp4zc+bM2UNCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEqMG3LBcHhBMnTtyP7MluL8i1s2fPvmDbs4PyPovs7m5viy9Q1t/bdhAc/xNkD3d72+zt7b1+5syZf9tuNjjv27YZ4iLK9a5tC1GVVBsnQ9v50plMgZmgeqLb2+IKBMKjti1Ggrq+guxItxfkeCsCGGX9GbJ3ur0truPFPOq9mCdPnvzOjRs3vrLdELjVs0/ZdhbWVt/q9oJ8H+f81LaFqAra47+Q3dHtBTm/q/JzMgVmgoYvfUywukIVD/G/ttkqvQVlLVBXHD2c6PaCXEJZ77Xt2UF5PYV7CmV91baD4PgPkT3S7W1xFcffZttZ4HyfIbun29ticN3hvFTW93V7B4Zeo9GMtrlEUAV13n3U1yvITnV7UQZ1qHBujuxu7fa2Qefxk9ZHdd+2vDpWEee6vSBPWy7G857lMe5B46WpsRW8dhEbta/zseUhjuBeOaLKAv+lkokpL3La8iFQeVF4H6R00BRyM7DTjyylGDn6GmoNoAyg9SOYMOBg3jSTzoHZKOxzbB7uftkiOgqDYDlQIzDcD3v5NbkLKVbP5CoSRz4l4cvkjpZCmDL9R7cX5BjO+4FtB8E5riGL3e8nOP5B23ax5xJTYL1Hc+vg3Ds/+lAd5JNZV6PM2bjGYqYbQkw2AiMahd0EhWTN5CkvwkYbOm5MGiTc7QW83O0FecxyD28U9oD1Zl3wMqdGXxQoQlQHbZGduse7vShUnIOVl/GS5TF+a3mTTKrACL1lkF3v9ragaYtCROwengL6geUe3vGHMPL3PDNXeB0ojr56jy6FGMgvkLxOKB2cKEtHYaOrS91eEJrgm+24Ta7AbBTGSfcYfUdhNIWdnSidRxJ1+MjyEHyJOOEcBS+i624PXCWo0ZdoBWuLMaekFW8XdLB4xvIYj+dYMOZglnVgeECpOY8tuyuOic2BTeZRZw0rNrGJYvSaC2h9Tm8IvepgE9SJpySS3m44/n1knPsLguOj7QTHVpv7WmH3t+tzYHz3PZfwMfwSKXZudj7/2m0W5zLqYKwp7xtQRym3+SLtcR1c0/PkJedwzRyHqkmZbSEzKuwCsge6vS22lBL+vysKjObVL7vNxTHIiWNuEs+VJF35c8B1agrvmnh106vd1wT163VCmimnB+7hDWTPd3tRnsO9pCwOvchwsCPNrX+cU4GlhMZNnmf4/64osMnuZ2pwz7U9L4fC3qznieXNEaxYpPLOwWmrpFe7r4m1r8UqsEwlUk0+oP5SFoLmZNNsCoygwryh8k2ry52X6JtKtQYQG9Xtg//eZIbqcwzKMLsCw3HRxYeb9zYG5zpf4zquS3sM554PAr2e/5JIPLfB951693DeXu0Z5SymwLz3DAx+BzxwzZQZj1QbBWUq0Kbc6id34tiAcxYxHsEDpcklG1T+i8ioYGJpa9GlTYQeQwr9fz+hHBzWt8LLSMFyIpUkdh3+LkQpQm1sP5kSmYvfIQXLheTGJRwC7pWd45TyohKuZsIzWZiSdU0tdZpVgeFh0OQSc6kndCVdcTySXkNiA6Cy84a/V2Nup/idXjjeOqTncf5nGVoF26EyMKWiXwgh1jCByXcqRs76v+JwJILMm6u8aHlJUuutovKrJCaT6dkdg0udGN6qCWY1IRIqBmSxaOTZkdNxHs98QNyJT1OAdOWODZ+paJ/EOYqYDnC9oSbE6H3iuGLP07nOYDu4c88HAVRLORMi6oo9YS96CJ/DJCbLxHMbdd92nzGnhV7edk6bJdnlxHncYM44T1G5ievleKdOZrpDeVLxF4t7QQ5ldgVWgsRLQLKEbqrhgsvoBf2oxPoLXCsmFFJeiF6IqBxng1xi1/HK9xrqOargnXs+CODWiyowms9ct2+0xdsLrgWKknhuo+4b52bHcVQYsRU4VykF5s1FDe7Ahch5zmByF3aUKxViqohn7lgmU2CoEG+klfzuUwycNzVyItkTnzgf5+W8EC7ZcfU8cJ2DKMzdXqJzzzisnPCvyZT3gGul1gNNUm+Jtjq6DIn7zBbeOE8pBeYJ7zdxnmLf08t4xjQd3j9FR2UdlCs5CpujXJtMqcC8nhZ79Q+jYfSeoEw0WpLdcFdkNKrRjRjXkAL7P72f0VxMeQ+4VkqIXMc1b7HtaiTa6uj7xvm9TmO2uQrnGa3AcI7UiCh7RJgC11r6wvasOq3JZE4cuFEqp1goJo6e1h02srAG4CkvrpAfUsF0yvCcS+jUMaeHlNgB0HZTTk6H0Q6bmVAfwV8sD5EMI1YYdrRjUJmWUl68p6VHZZk9xNTUXoh0TY3Ry20e/6VJMtUAeitFYso25U76p7kfntgJvLihpLnwPn0xpeAp6my5UADvy8Yc4ZXCk4VL4bAtXZqNSRWYKQYvIO4fLHex3suvu70ouNzw3hKOZe/Xc/E9goeXVd6epIITey6uof8PTbHreOXzliKIYZyxPMYdE49QauE5IE3yuXzrQHtTB+4XD3LBdWg58q6zJGYdhU3uhWiNpFcg33Vstfjfsek1gKCnEK4dtZHj/1t1YddKrUwfFJcMZYnNK7heTn3vYSjOdQZ7YeGcXKwZomgw1JrMcQ/eMzduilpTGly/6hwYwTXc+b4cj8tEPSXLmSoDjh/9fuEaXjSfpVKkDQxhcgVG8BAHu6ni2JSDRdQhxGvgscaJY1Ku9YMcUHDenVNgHk59tMQsrsOom6QzBwT80VoeYYlngyoposBSHdtkR9FpsyRZThzvBRgf7X1sHWLKCc89fYlUbX8ec0Xi8Oy/0Y9a4ncqvtTQ+1doaMV6wvbSeKZEjs5qmBJFW9Cde5Z1LxAOjPLiOnNAMOZ8sLNZ7J31zOM5HzUdjJnBvJioo82HeEb0puQXkDej+Cw9/dzubXJmGYERU0bZo7DE/1e4a0ZwjkGjl0xTYi/XepRFI7A1nPpogaomuhxQP6n2TxPmnbZdlMSzwWXLmI8S95h0p3faLHHLiWNHmzDF9MypwFK24OJRl70GjmtNWhcoS3EFBuhIUQoKkpCpY9cU2OzKi2S8L6RKpPLEs8EliymwlLnevb/Uu+GVE8d6UxNFgheI8swWzBcNgo4anufRIBf4HYfLCkqlg2anH0ITyovY++KZ2MhJyxcJRjl/s80YD1leFCivlPdhqlxiJmZTYIbnUt/7cypi0bAzM2VK0YzyWiM1D1N1nqg2ZqLzlmLERldj8eYPGe1kUJg7UZ/ZTIgroKS8uGP7QgT/4TqXEt+hqhkI90uUNXtRKe6phglxCqqYEKcEdZiaT2pRebHcfA9SgV+Lf27eaasElytjQiS4lhdWyp3nS7wb0XLiOE8GVQmka/dJebRkesm8GrSgwNzPRuzt7f30RvfV1tbXTvQS7LhvKbCJyVxDWDRYa2nw/FPLSIorX6etElyunAIbQ+LdaKacpIH3uASzy4LZFVgOeNhLWPw3lQKjt9Sc3+K5gvLN/hmFvqDe6CDA6C2eJ2kTn4jwwH2kPh1UfE2O01YJqkwKrC+Jsi4FKbAc8LClwMQgbNT1G2x6n8jhGqtiHyutCdoN54VT6w5P416i0Wz64rRVgktJgfUlUdalIAVmAia2gPBrVNAHeNhSYKI31m74qXbPo7LYR0oPKk5bJWiuacWAc5Sax/bw5rjpwcm5rlr0nQOXAitAC3Ng3jdx9idQTRDtpALD/9jjbjnKwjWUt6k5I+sUcZQyauG76HDaKkEVZimwJbzDY+j7/kuBFaAFBebFHys6J+E1Glxn0rpwhMKmAmv9xW/K6cHq649I3lwXTYYMObbz7tGoL46MHkOiC/5LqJMt06PTVgkOkQIDJRUYR4veEqMpiQU0IFJgeJDXkMWEjRuZvi9eo8F1pMD6M3sD3gT1lfrKLZdLPINyF49YsRSsTf0QiUprXTgF3zenrRIcIgUGSiqwZt6r1ss5qwJD5bgRqFE5bvlwPD3LgiYgut9vzmt4DyN0Lfyf64VCHn8X8P9Row6ce+kKrFcUftxHKtpBKY4hRePpITGYai2a/SwM6p/vChUWU68Oo9NWCQ6RAgNSYDMwdySO71keIufjiHcjsXI3010FJ+VD51dctP5R/zmPRwFWO3nzXhxthI4plZqaq6TSQvoQiVYOxhhk3XimVSEWxdwKzNPeOR5DVCYhvrR8LLHYc1OuoP8aaT0EUu3kfbZjBXSX5o9apGGlxQ7p5he8SycvViTbduiYUqmVOaudYm4Tojc8pZB0TRP2koZezqB3mXc9/D9kQvTMHqMif+PcWSbEKUGZUh9OJIMiPeDcqbmpgwCqJm1OK4l5XHLkR9Mg2/YYZVXNhDgFKOcoeTIlibLKhJjJ3COwWMWQi5YHQcXSeyr2sjLczmj29va8D1l65s+i4F7vR3oD6e1EogIaBI5lhIeU8uIcT3MxAncNKi0+a6QLUF5f4Sc+N3ryyjwodorZFBhePo5uoiSUBzlqeQh+fHI0No8WM0tw/m0SoDQ40mNiL3v1uZNQOkWhRgGH7WxwDJ1VvPBEZH/Br22LiXGUVinYzmmuFmIxzDkCu8/yEFcznDCiozcI/JIhgWJzcd7osTi8J1MgKVv7AxBwn0PQ0evMxYRiKjI7KRGtgvW4Od9WI3nzIJzfCx1TKhWN9IBnsxp511Jaq3mpY2hftxV+b4SozmxzYHgpPdtq8guoOD4WlTtql/WuiWOCdYFjonM3sWNywHkHz4HhWJoK6cafMhl9AsVzPKR4bO4kFZmdLCrUkve8QDNzCzFQfi43oHmcptoayw6otNhp+QB1kTWH67RVgtNoDqwvibJqDiyTOUdgnief60VoJrLYy13KA3HFF5ZvgYdLQTM5aDSMTvIwUmqpQXA0xnLzd2ymBOSlJSmvpYLnsRppsVPGdZE055ZUXjTHv4lEx6M7kV5AGuyAJEQrzKLAKECReaMH14EDwvfHthmCPYZiQIB7nxNnb7k3FFi2GSLHjZ1K7FMKI2ye636Jwnp+C9f8jNdForMGP4qYGr3R2/BeKa86rJ4FUk2ldQrt93Y8xweRpLTEgWOuEZgr+PGipcJHecPWf1peBBPgsXmVocNnT1D1GkGirrhc4DiSN/dDaAZYCcoUOK28DSvDYMMllRY7PpwfXVdar47tgEDBzmJlECKHuRSYJ/g5GZ4i5sJ+FS9tjV5mbFQXsw1PCu75XQgtdgpKLKZkAOVm5gqEy0ppPYdndgvSo0ijldYGt1ouRHPMpcA8we+OQGh6QRbrtRZZ/xUgdt7DA3uongfmICi0KMCw+RxSlhlyAx5Db7TFfW15x+BIm2bjdaVVMyrKdy2P4Zr7hajJ5AoMAp/rv7z5l9Qc1kOWhyg6/7WGN6obNA/mMEogUJhhNMY1cimT4jpUXgzMKzfqNlkprZW7+xOVldY6nGcVoknmGIG5o4+E0wThYt4YVSapTbDHRjVD5sGqmR45Qr1x48afsel9hXgTdijesc7F0vG8W2t+kbc0m2u0qLTm6GCk2rcWP4vZmEOBecL7cob9Pnb89coveGxubsjC0qiQhQJPRSCJAgVED8OPkIYoSJplqcT2vRW7nxaJd+99RqVzQKW17u7+1ExKax9rB25HaM7yCTHpQmZbPMuIAjHcT7zjheJ6JkbYDpEMMkvhjCwo4HCsWxc4lsoh5sHH+Ygsk44Jhdg30KiEb7HtbHBOzsO9jDREccU4D2X6TGGHgKpYPXCJQIyiX/gew1pbZIeF29kLi6ci0ebJoPZai7U6DYGiLmYhM609pdezDoWd7diUz24tZE6s3yJ8qB5jvRfH4AmXPg/Rm8PrdQ8WCoqRJyi0c5QXXwzOpcTMoes8wsXOPL8tHF8C/DS+x38sb4HT6CC0vkYrtZSiFSF70KDC4PvcQkqtF52VqU2I3vzVqPkvHPuebVYBAsabB3PvawPvvykF/g1QLM9CwVDoxcImbcKePh01OMJlFI8cUyUb7wlTZIMj3U+BKVlX4OLeU+sLJ4NlaXl0i+fN+dDUGjUpMDErLSmwS94LTYGNLGaPz5k7K8HHlm9yBOXLdadnryZGsheO6zCCAxUdTak5jhpUujRxsqe/f37m3MdmzgJoQkXGSPdX7Dk0B5Tsi8i83uLgucUd5ZjlHtkdLiFqMJkCMwHvCZgLlsfwlB+Dk06BZ+JLma9YBxzFxOqAi7CjE+Jr5kLOn3lKcJ1zGJkexXmD83P4/V2k27iJlGNWpMJchaVqxmMRZeG84uPdXpRY50NsYM829YWCHIuJEFWZcgSWEvCu8EbmKbBJPKESZsocM6L3n2gUDQiUV2jG42b3SxIqWrpfP5EzMsX/nqKiw2YqruIKKtAmPBatbfCr2V7niM4GWqCdz9OWe5xfkoOPOJhM5oUIQUePpqjHEoWobW6BYzl647xNiGs4lp8WSUJFgIwjji2866/j3QeUwOuxl5qC1sxcMd5DGW4yIdox/Fx8sMwRLuI8g+d6TCHxmn0Ydc0xoLwcLaQim8xWvqWReNfW+Qh12pQLPcr+PrLYEhV6KTfTiUFZo7JoQVxpqU6FEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCFa5NCh/wH494UODZQ7+AAAAABJRU5ErkJggg=="},gfnN:function(t,e){},gkab:function(t,e){},gntY:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__=__webpack_require__("lHA8"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__=__webpack_require__("c/Tr"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__=__webpack_require__("BO1k"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray__=__webpack_require__("d7EF"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_6_d3__=__webpack_require__("vwbq"),__WEBPACK_IMPORTED_MODULE_7_dagre_d3_dist_dagre_d3__=__webpack_require__("EWSE"),__WEBPACK_IMPORTED_MODULE_7_dagre_d3_dist_dagre_d3___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_dagre_d3_dist_dagre_d3__),__WEBPACK_IMPORTED_MODULE_8_jquery__=__webpack_require__("7t+N"),__WEBPACK_IMPORTED_MODULE_8_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_jquery__),__WEBPACK_IMPORTED_MODULE_9_jquery_contextmenu__=__webpack_require__("YzVz"),__WEBPACK_IMPORTED_MODULE_9_jquery_contextmenu___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_jquery_contextmenu__),__WEBPACK_IMPORTED_MODULE_10_jquery_contextmenu_dist_jquery_contextMenu_css__=__webpack_require__("gkab"),__WEBPACK_IMPORTED_MODULE_10_jquery_contextmenu_dist_jquery_contextMenu_css___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_jquery_contextmenu_dist_jquery_contextMenu_css__),__WEBPACK_IMPORTED_MODULE_11_vuex__=__webpack_require__("NYxO"),expandNode=[],delStageNode=[],reserverStageNode=[],clickDel=[],changeTag=0,tmp=[],_createNamespacedHelp=Object(__WEBPACK_IMPORTED_MODULE_11_vuex__.a)("graph"),mapGraphGetters=_createNamespacedHelp.mapGetters,mapGraphActions=_createNamespacedHelp.mapActions,mapGraphMutations=_createNamespacedHelp.mapMutations,mapGraphStates=_createNamespacedHelp.mapState,_createNamespacedHelp2=Object(__WEBPACK_IMPORTED_MODULE_11_vuex__.a)("layout"),mapLayoutStates=_createNamespacedHelp2.mapState;__webpack_exports__.a={name:"Graph",data:function(){return{showTag:!1,graphData:"",degreeInput:100,retList:"",reg:"",sign:0,srcData:{},reserve:[],nodeInfo:[],nnodeInfo:[],restoreNode:"",lastClick:"",initDraw:0,lastAssistClick:"",curg:""}},computed:__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_extends___default()({},mapGraphGetters(["getGraphData","getRetList","getReg","getClear","getHidden","getRun","getPre","getTagName","getRunName","getCurTag","getRunChangeTag","getIsDrawing"]),mapLayoutStates(["userSelectRunFile"]),mapGraphStates(["copy"])),watch:{getRetList:function(t){this.retList=t},getGraphData:function(t){this.graphData=t,this.nodeInfo.splice(0,this.nodeInfo.length),expandNode=[],delStageNode=[],reserverStageNode=[],clickDel=[],changeTag=0,tmp=[],this.getNodeInfo(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()({info:"init"})),this.drawGraph(),this.setRunChangeTag(!1),this.setIsDrawing(!1)},getReg:function(t){this.reg=t},getHidden:function(){this.hidden()},getRun:function(){this.run()},getPre:function(){this.pre()},getClear:function(){delStageNode=[],reserverStageNode=[],this.drawGraph()},userSelectRunFile:function(t){this.setRunChangeTag(!0),this.setIsDrawing(!0);for(var e=0,a=0;a<this.getRunName.length;a+=1)if(t===this.getRunName[a]){e=a;break}this.setCurTag(this.getTagName[e][0]);var i={run:t,tag:this.getCurTag};this.getFullData(i)},getCurTag:function(t){if(!this.getRunChangeTag&&!this.getIsDrawing){this.setIsDrawing(!0);var e={run:this.userSelectRunFile,tag:t};this.getFullData(e)}}},mounted:function(){this.graphData=this.getGraphData,this.retList=this.getRetList,this.initDraw+=1,this.regularEx("");for(var t=0;t<reserverStageNode.length;t+=1)reserverStageNode[t].sign=1;if(0===this.getGraphData.length){for(var e=0,a=0;a<this.getRunName.length;a+=1)if(this.userSelectRunFile===this.getRunName[a]){e=a;break}if(this.getTagName[e]){this.setCurTag(this.getTagName[e][0]);var i={run:this.userSelectRunFile,tag:this.getCurTag};this.getFullData(i)}}else this.drawGraph()},methods:__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_extends___default()({},mapGraphActions(["getFullData"]),mapGraphMutations(["getNodeInfo","getClickDel","setCurTag","setRunChangeTag","setIsDrawing","regularEx"]),{drawGraph:function(){var t=this,e=this.drawCircleTag,a=this.getDelNodeInfo,i=this.getModifyClick,s=this.drawAssist,n=this.nodeInfo,r=this.idTransformerFrontend,o=this.edgeLabelAnimation,c=this.colorCopy,l=this.colour,h=this.getNodeInfo,d=this.graphData;if(void 0!==d){var u=__WEBPACK_IMPORTED_MODULE_6_d3__.y().range(["#e8c5df","#daf4cc","#d7dafb","#b1cbe8","#cdf6e8","#feedd3","#d2f5f9","#dcdcdc","#dcdcdc","#dcdcdc","#dcdcdc"]),g={},p={},f=40,_=5,m=1,v={},y={},x=["conv","dense","pool","norm"],C=this.retList;C.forEach(function(t){t.list.forEach(function(e){v[e]={op:e,parent:t.op},e.indexOf("_")>=0&&(v[e]={op:e.replace(/_/g,""),parent:t.op})})}),u.domain(C.map(function(t){return t.op}));var D=function(t){var e=t.split("/"),a=e.length;if(1===a){for(var i=0;i<expandNode.length;i+=1)if(t===expandNode[i].uid)return!1;return!0}for(var s=0,n=e.slice(0,a-1).join("/"),r=0;r<expandNode.length;r+=1)if(n===expandNode[r].uid){s=1;break}for(var o=0;o<expandNode.length;o+=1)if(t===expandNode[o].uid){s=0;break}return!!s},w=function(t,e,a,i,s,r){for(var o=0;o<n.length;o+=1)if(n[o].uid===t)return o,i?(a&&n[o].outNode.push(a),r&&"{}"!==__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(r)&&(n[o].attr=r),n[o].op=s):(a&&n[o].inNode.push(a),r&&"{}"!==__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(r)&&(n[o].attr=r)),!0;var c={uid:t,inNode:[],outNode:[],op:""};i?(a&&c.outNode.push(a),c.op=s,r&&"{}"!==__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(r)&&(c.attr=r),n.push(c)):(a&&c.inNode.push(a),r&&"{}"!==__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(r)&&(c.attr=r),n.push(c))};!function d(u,v){t.lastClick="",t.lastAssistClick="",n.splice(0,n.length),__WEBPACK_IMPORTED_MODULE_6_d3__.B("#svg-canvas").select("g").selectAll("g").remove();var x=new __WEBPACK_IMPORTED_MODULE_7_dagre_d3_dist_dagre_d3___default.a.graphlib.Graph({compound:!0}).setGraph({}).setDefaultEdgeLabel(function(){return{}});u.forEach(function(t){if(t.id=t.uid,t.clicked=!1,t.label&&t.label.length>12){t.label.search(/\n/g)<0&&(t.name=t.label),t.label=t.name;var e=t.label.slice(0,13)+"\n";e+=t.label.length>26?"..."+t.label.substring(t.label.length-13):""+t.label.substring(13,t.label.length),t.label=e}D(t.uid)?(x.setNode(t.uid,t),t.targets.forEach(function(e){if(D(e.id)){var a=t.uid+"__"+e.id;x.setEdge(t.uid,e.id,{id:a,label:e.info,curve:__WEBPACK_IMPORTED_MODULE_6_d3__.h}),g[a]=e.control,p[a]=e.num,w(t.uid,0,e.id,1,t.op,t.attrs),w(e.id,0,t.uid,0,void 0,e.attrs)}}),w(t.uid,0,"",1,t.op,t.attrs)):(t.clusterLabelPos="top",t.name&&(t.label=t.name),x.setNode(t.uid,t))});for(var C=function(t){expandNode[t].sub_net.forEach(function(e){if(e.id=e.uid,e.label&&e.label.length>12){e.label.search(/\n/g)<0&&(e.name=e.label),e.label=e.name;var a=e.label.slice(0,13)+"\n";a+=e.label.length>26?"..."+e.label.substring(e.label.length-13):""+e.label.substring(13,e.label.length),e.label=a}x.setParent(e.uid,expandNode[t].uid),D(e.uid)?(x.setNode(e.uid,e),e.targets.forEach(function(t){if(D(t.id)){var a=e.uid+"__"+t.id;x.setEdge(e.uid,t.id,{id:a,label:t.info,curve:__WEBPACK_IMPORTED_MODULE_6_d3__.h}),g[a]=t.control,p[a]=t.num,w(e.uid,0,t.id,1,e.op,e.attrs),w(t.id,0,e.uid,0,void 0)}}),w(e.uid,0,"",1,e.op,e.attrs)):(e.clusterLabelPos="top",e.name&&(e.label=e.name),x.setNode(e.uid,e))})},M=0;M<expandNode.length;M+=1)C(M);x.nodes().forEach(function(e){var a=x.node(e);if(void 0!==a){var i=I(x,e),s=expandNode.find(function(t){return t.uid===e});void 0!==s&&(i=s.fill||i),a.rx=a.ry=10,a.width=125,a.height=20,a.style="fill:"+i+";rx:12.5px;ry:12.5px;stroke-width:1px;stroke:#696969",b(a)&&4!==b(a)&&"c_graph"!==t.getCurTag&&(a.height=50)}});for(M=0;M<delStageNode.length;M+=1)for(var k=0;k<delStageNode[M].length;k+=1)x.removeNode(delStageNode[M][k]);for(var O=0;O<tmp.length;O+=1)x.removeNode(tmp[O].nodeId);var T=new __WEBPACK_IMPORTED_MODULE_7_dagre_d3_dist_dagre_d3___default.a.render,B=__WEBPACK_IMPORTED_MODULE_6_d3__.B("#svg-canvas");if(T(__WEBPACK_IMPORTED_MODULE_6_d3__.B("#svg-canvas g"),x),__WEBPACK_IMPORTED_MODULE_6_d3__.C(".edgeLabel").style("visibility","hidden"),__WEBPACK_IMPORTED_MODULE_6_d3__.B("#svg-canvas").attr("width","100%").attr("height","100%"),t.srcData=u,!reserverStageNode.length){var P={sign:1};P.nodeInfo=JSON.parse(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(n)),reserverStageNode.push(P);for(var R=reserverStageNode[0].nodeInfo,A=0;A<tmp.length;A+=1)for(var F=tmp[A],L=R.length-1;L>=0;L-=1)if(R[L].uid===F.nodeId)R.splice(L,1);else{for(var N=R[L].inNode,U=R[L].outNode,W=0;W<=N.length;W+=1)if(N[W]===F.nodeId){N.splice(W,1);break}for(var K=0;K<=U.length;K+=1)if(U[K]===F.nodeId){U.splice(K,1);break}}}if(t.reserve=reserverStageNode,t.curg=x,v){v=!1;var j=__WEBPACK_IMPORTED_MODULE_6_d3__.B("#svg-canvas")._groups[0][0],G=j.scrollHeight,H=j.scrollWidth,z=__WEBPACK_IMPORTED_MODULE_6_d3__.B("#svg-canvas g")._groups[0][0],q=z.getBBox().height,Y=z.getBBox().width,J=Math.min(G/q,H/Y,1),V="scale("+J+")";__WEBPACK_IMPORTED_MODULE_6_d3__.B("#svg-canvas g").attr("transform"," translate("+(H-Y*J)/2+","+(G-q*J)/2+") "+V);var Q=__WEBPACK_IMPORTED_MODULE_6_d3__.F(0).translate((H-Y*J)/2,(G-q*J)/2).scale(J);__WEBPACK_IMPORTED_MODULE_6_d3__.E().transform(B,Q)}o(),s("white");var Z=__WEBPACK_IMPORTED_MODULE_6_d3__.E().on("zoom",function(){__WEBPACK_IMPORTED_MODULE_6_d3__.B("#svg-canvas g").attr("transform",__WEBPACK_IMPORTED_MODULE_6_d3__.l.transform)});function X(t){if(t){var e=__WEBPACK_IMPORTED_MODULE_6_d3__.B("#svg-canvas g").attr("transform"),a=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(","),i=__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_slicedToArray___default()(a,2),s=i[0],n=i[1],r=t.x,o=t.y,c=__WEBPACK_IMPORTED_MODULE_6_d3__.B("#svg-canvas").style("width").replace("px",""),l=__WEBPACK_IMPORTED_MODULE_6_d3__.B("#svg-canvas").style("height").replace("px","");s=Number(c)/2-r,n=Number(l)/2-o,__WEBPACK_IMPORTED_MODULE_6_d3__.B("#svg-canvas g").attr("transform","translate("+s+", "+n+")");var h=__WEBPACK_IMPORTED_MODULE_6_d3__.F(0).translate(s,n);__WEBPACK_IMPORTED_MODULE_6_d3__.E().transform(B,h)}}B.call(Z).on("dblclick.zoom",null),__WEBPACK_IMPORTED_MODULE_6_d3__.C(".node rect").style("fill",function(t){var e="";if(y[t])e=y[t].op;else if(x.node(t)&&(e=x.node(t).op,y[t]=JSON.parse(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(x.node(t)))),x.node.sub_net&&x.node.sub_net.length){var a=x.node.sub_net.findIndex(function(e){return e.uid===t});-1!==a&&(e=x.node.sub_net[a].op,y[t]=JSON.parse(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(x.node.sub_net[a])))}return""===e&&(e="empty"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(this).attr("op",e),E(e)}),function(t){__WEBPACK_IMPORTED_MODULE_6_d3__.C(".nodes .node").attr("temp",function(e){return y[e]&&(a=y[e])&&a.label.toLowerCase().indexOf("(")>=0&&t.node(e)?void __WEBPACK_IMPORTED_MODULE_6_d3__.B(this).select("rect").style("stroke-dasharray","5,3").style("stroke","#696969").style("stroke-width","1.5px"):"";var a})}(x),"c_graph"===t.getCurTag&&function(t){__WEBPACK_IMPORTED_MODULE_6_d3__.C(".nodes .node").attr("temp",function(e){var a={1:"#e8c5df",2:"#b7d4ae",3:"#d7dafb",4:"#daf4cc"};if(!y[e])return"";var i=t.node(e),s=S(y[e]);if(!(i&&s in a))return"";__WEBPACK_IMPORTED_MODULE_6_d3__.B(this).select("rect").style("fill",a[s])})}(x),"s_graph"===t.getCurTag&&function(t){__WEBPACK_IMPORTED_MODULE_6_d3__.C(".nodes .node").attr("temp",function(e){if(!y[e]||!b(y[e]))return"";var a=t.node(e);if(!a)return"";var i=a.width+20,s=a.height+30;if(4!==b(y[e])){__WEBPACK_IMPORTED_MODULE_6_d3__.B(this).select(".label").attr("transform","translate(0,-"+s/4+")"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(this).selectAll(".special-layer-2").data([0]).enter().append("rect").attr("class","special-layer-2").style("fill","#ffffff"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(this).selectAll(".special-layer-2").attr("x",-i/2+m).attr("y",f/2-f-m+20).attr("rx",_+6).attr("ry",_+6).attr("width",i-2*m).attr("height",s-f-5).style("fill","#fff").style("opacity",1).style("stroke-width",0),__WEBPACK_IMPORTED_MODULE_6_d3__.B(this).selectAll(".special-layer-1").data([0]).enter().append("rect").attr("class","special-layer-1").style("fill","#fff"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(this).selectAll(".special-layer-1").attr("x",-i/2+m).attr("y",-5).attr("width",i-2*m).attr("height",15).style("opacity",1).style("fill","#fff").style("stroke-width",0);var n={1:"kernel_size",2:"units",3:"pool_size"},r={1:"strides",2:"activation",3:"strides"},o=b(y[e]);if(o in n){var c=y[e].attrs;__WEBPACK_IMPORTED_MODULE_6_d3__.B(this).selectAll(".special-layer-text1").data([0]).enter().append("text").attr("class","special-layer-text").attr("x",-i/2+15).attr("y",8),__WEBPACK_IMPORTED_MODULE_6_d3__.B(this).selectAll(".special-layer-text").html("● "+n[o]+": "+__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(c[n[o]])).style("font-size","12px"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(this).selectAll(".special-layer-text2").data([0]).enter().append("text").attr("class","special-layer-text").attr("x",-i/2+15).attr("y",25).html("● "+r[o]+": : "+__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(c[r[o]])).style("font-size","12px")}}})}(x),t.glitter(t.restoreNode),__WEBPACK_IMPORTED_MODULE_6_d3__.C(".path").style("fill-opacity",1).style("stroke","black").style("stroke-opacity",1).attr("marker-start","url(#dot)"),__WEBPACK_IMPORTED_MODULE_6_d3__.C(".node").on("dblclick",function(e){if(0!==x.node(e).sub_net.length){var a=e.split("/").length,i=__WEBPACK_IMPORTED_MODULE_6_d3__.B('[id="'+e+'"]').select("rect").attr("oracle");expandNode.push({uid:e,layer:a,sub_net:x.node(e).sub_net,label:x.node(e).label,fill:i}),n.splice(0,n.length),reserverStageNode=[],delStageNode=[],d(u,v),t.lastClick="",__WEBPACK_IMPORTED_MODULE_6_d3__.B('[id="'+e+'"]').select("rect").style("stroke-width","2.5").style("stroke","red").style("fill",i).style("opacity","0.8"),setTimeout(function(){__WEBPACK_IMPORTED_MODULE_6_d3__.B('[id="'+e+'"]').select("rect").style("stroke-width","1").style("stroke","#696969")},1e3);var s=u.find(function(t){return t.uid===e});if(!s&&expandNode&&expandNode.length){var r=!0,o=!1,c=void 0;try{t:for(var l,h=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default()(expandNode);!(r=(l=h.next()).done);r=!0){var g=l.value,p=!0,f=!1,_=void 0;try{for(var m,y=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default()(g.sub_net);!(p=(m=y.next()).done);p=!0){var C=m.value;if(C.uid===e){s=C;break t}}}catch(t){f=!0,_=t}finally{try{!p&&y.return&&y.return()}finally{if(f)throw _}}}}catch(t){o=!0,c=t}finally{try{!r&&h.return&&h.return()}finally{if(o)throw c}}}X(s)}}),__WEBPACK_IMPORTED_MODULE_6_d3__.C(".cluster").style("fill-opacity","0.55").attr("font-weight","600").on("dblclick",function(e){for(var a=[],i=e.split("/").length,s=expandNode.length-1;s>=0;s-=1){var r=expandNode[s].uid.split("/");r.length>=i&&r.slice(0,i).join("/")===e&&a.push(s);for(var o=0;o<a.length;o+=1)expandNode.splice(a[o],1)}n.splice(0,n.length),reserverStageNode=[],delStageNode=[],d(u,v),t.lastClick="",__WEBPACK_IMPORTED_MODULE_6_d3__.B('[id="'+e+'"]').select("rect").style("stroke-width","1.5").style("stroke","red"),setTimeout(function(){__WEBPACK_IMPORTED_MODULE_6_d3__.B('[id="'+e+'"]').select("rect").style("stroke-width","1.5").style("stroke","#696969")},1e3);var c=u.find(function(t){return t.uid===e});if(!c&&expandNode&&expandNode.length){var l=!0,h=!1,g=void 0;try{t:for(var p,f=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default()(expandNode);!(l=(p=f.next()).done);l=!0){var _=p.value,m=!0,y=!1,x=void 0;try{for(var C,D=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default()(_.sub_net);!(m=(C=D.next()).done);m=!0){var w=C.value;if(w.uid===e){c=w;break t}}}catch(t){y=!0,x=t}finally{try{!m&&D.return&&D.return()}finally{if(y)throw x}}}}catch(t){h=!0,g=t}finally{try{!l&&f.return&&f.return()}finally{if(h)throw g}}}X(c)}),__WEBPACK_IMPORTED_MODULE_6_d3__.B("#assist").select("svg").selectAll("g").on("dblclick",function(){var e=this.id.split("__")[1];t.restoreNode=e;var a=tmp.findIndex(function(t){return t.nodeId===e});s("white"),tmp.splice(a,1),i(e),d(u,v)}).on("click",function(){var i=this.id.split("__")[1],s=a(i,n);if(t.lastClick&&t.restoreLastClick(),t.lastAssistClick&&t.lastAssistClick!==this.id&&t.restoreLastClickRight(),s){for(var o=s,c=o.inNode,d=o.outNode,u=0;u<c.length;u+=1){var g=r("#"+c[u]);if(__WEBPACK_IMPORTED_MODULE_6_d3__.B(g).select("rect").attr("tag")){var p=__WEBPACK_IMPORTED_MODULE_6_d3__.B(g).select("rect").attr("tag");__WEBPACK_IMPORTED_MODULE_6_d3__.B(g).select("rect").style("fill",p),__WEBPACK_IMPORTED_MODULE_6_d3__.B(g).select("rect").attr("tag",null),e(g,"out",0)}else{var f=__WEBPACK_IMPORTED_MODULE_6_d3__.B(g).select("rect").style("fill");__WEBPACK_IMPORTED_MODULE_6_d3__.B(g).select("rect").attr("tag",f),__WEBPACK_IMPORTED_MODULE_6_d3__.B(g).select("rect").style("fill","blue").attr("dir","in"),e(g,"out",1)}}if(t.lastAssistClick===this.id){t.lastAssistClick="";var _=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#"+this.id)).select("rect").attr("oracle");__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#"+this.id)).select("rect").attr("clicked",null).style("fill",_)}else t.lastAssistClick=this.id,__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#"+this.id)).select("rect").attr("clicked","clicked").style("fill","chartreuse");for(var m=0;m<d.length;m+=1){var v=r("#"+d[m]);if(__WEBPACK_IMPORTED_MODULE_6_d3__.B(v).select("rect").attr("tag")){var y=__WEBPACK_IMPORTED_MODULE_6_d3__.B(v).select("rect").attr("tag");__WEBPACK_IMPORTED_MODULE_6_d3__.B(v).select("rect").style("fill",y),__WEBPACK_IMPORTED_MODULE_6_d3__.B(v).select("rect").attr("tag",null),e(v,"in",0)}else{var x=__WEBPACK_IMPORTED_MODULE_6_d3__.B(v).select("rect").style("fill");__WEBPACK_IMPORTED_MODULE_6_d3__.B(v).select("rect").attr("tag",x),__WEBPACK_IMPORTED_MODULE_6_d3__.B(v).select("rect").style("fill","red").attr("dir","out"),e(v,"in",1)}}for(var C=void 0,D=0;D<n.length;D+=1)if(n[D].uid===s.uid){C=n[D];break}for(var w=0;w<tmp.length;w+=1){if(C.inNode.indexOf(tmp[w].nodeId)>=0)if(s.inNode.push(tmp[w].nodeId),_=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[w].nodeId)).select("rect").attr("oldfill"))__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[w].nodeId)).select("rect").attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[w].nodeId)).select("rect").attr("oldfill",void 0),l(r("#del__"+tmp[w].nodeId));else{var S=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[w].nodeId)).select("rect").attr("fill");__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[w].nodeId)).select("rect").style("fill","blue").attr("dir","in"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[w].nodeId)).select("rect").attr("oldfill",S)}if(C.outNode.indexOf(tmp[w].nodeId)>=0)if(s.outNode.push(tmp[w].nodeId),_=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[w].nodeId)).select("rect").attr("oldfill"))__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[w].nodeId)).select("rect").style("fill",_).attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[w].nodeId)).select("rect").attr("oldfill",void 0),l(r("#del__"+tmp[w].nodeId));else{var b=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[w].nodeId)).select("rect").attr("fill");__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[w].nodeId)).select("rect").style("fill","red").attr("dir","out"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[w].nodeId)).select("rect").attr("oldfill",b)}}}else s={info:"无信息"},t.$message({type:"info",message:"节点"+i+"不属于当前图"});h(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(s))}),B.selectAll(".node")._groups[0].forEach(function(e){var a=e.id,i=x.node(e.id),s=x.nodeEdges(e.id);a=(a=(a=a.split("/"))[a.length-1]).slice(0,a.length);var o=r(e.id),c=__WEBPACK_IMPORTED_MODULE_6_d3__.B(e),d="",u="",g="";c.append("text"),c.style("cursor","context-menu");var p=parseInt(__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("width"),10),f=parseInt(__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("height"),10);if(i.sub_net.length>0){for(var _=!1,m=0;m<expandNode.length;m+=1)o===expandNode[m].uid&&(_=!0);__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).selectAll("text.expand").size()<=0&&__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).append("text").attr("class","expand").attr("x",p/2-15).attr("y",-f/2+12).style("font-size","14px").style("fill","white").attr("font-weight","bold"),_||__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).selectAll("text.expand").text("+")}c.on("mouseover",function(){if(!Number(__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).attr("flag"))){__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).attr("flag",1);for(var t=__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select(".label").select("g").select("text").select("tspan")._groups[0][0].textLength.baseVal.value,a=(__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select(".label").select("g").select("text").select("tspan")._groups[0][0].textLength.baseVal.value-t)/2,i=__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).attr("transform"),s=__WEBPACK_IMPORTED_MODULE_6_d3__.B(".nodes").append("g").attr("id","messageBox").attr("transform",i).append("g").attr("id","boxComponent"),r=__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).attr("width"),c=__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).attr("height"),l=parseInt(__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("height"),10),h=void 0,d=0;d<n.length;d+=1)if(n[d].uid===e.id){h=n[d];break}var u={"NODE PROPERTIES":{}},g=h.uid.lastIndexOf("/");u["NODE PROPERTIES"].name=h.uid.substring(g+1,h.uid.length),h.op&&(u["NODE PROPERTIES"].op=h.op);var p=s.append("text").attr("font-size","14px").attr("fill","white"),f=0,_=0,m=0;for(var v in u){var y=p.append("tspan").attr("x","0").attr("y",14*f+10*m).text(v)._groups[0][0].textLength.baseVal.value;for(var x in y>_&&(_=y),f+=1,u[v]){var C="● "+x+":"+u[v][x],D=p.append("tspan").attr("x","0").attr("y",20*f+10*m).text(C)._groups[0][0].textLength.baseVal.value;D>_&&(_=D),f+=1}m+=1}s.insert("rect","text").attr("height",20*f+15+10*m).attr("width",_+50).attr("fill","white").attr("transform","translate(-25,-24)").attr("rx",3).attr("ry",3).attr("fill","#004986").style("opacity","0.40");var w=r/2,S=-c/2-(14*f+20+10*m)-15;70===l&&(S=-c/2-(14*f+20+10*m)-30),s.attr("transform","translate("+w+","+S+")"),__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select(".label").select("g").select("text").attr("transform","translate("+-a+",0)"),"rgb(102, 102, 102)"===__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill")?__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill","rgb(102, 102, 102)"):"chartreuse"===__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill")?__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill","chartreuse"):__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("opacity","1"),"red"===__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("stroke")?__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("stroke-width","2.5").style("stroke","red"):__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("stroke-width","2.5").style("stroke","#e4007f")}}),c.on("mouseleave",function(){if(d=a.length>26?a.slice(0,13)+"...":""+a.slice(0,13),__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).attr("flag",0),__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select(".label").select("g").select("text").select("tspan").text(d),__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select(".label").select("g").select("text").attr("transform","translate(0,0)"),__WEBPACK_IMPORTED_MODULE_6_d3__.B("#messageBox").remove(),"chartreuse"===__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill"))__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill","chartreuse");else if("rgb(102, 102, 102)"===__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill"))__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill","rgb(102, 102, 102)");else if("blue"===__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill"))__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill","blue");else if("red"===__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill"))__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill","red");else{__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill",I(x,i));var t={1:"#e8c5df",2:"#b7d4ae",3:"#d7dafb",4:"#daf4cc"},e=S(i)||b(i);e in t&&__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("fill",t[e])}"red"===__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("stroke")?__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("stroke-width","1").style("stroke","red"):__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+o).select("rect").style("stroke-width","1").style("stroke","#696969")}),c.on("click",function(){var a=t.reserve;if(x.node(e.id).clicked)x.node(e.id).clicked=!1,t.restoreLastClick();else{t.lastClick&&t.restoreLastClick(),t.lastAssistClick&&t.restoreLastClickRight(),t.lastAssistClick="",t.lastClick=e.id,x.node(e.id).clicked=!0,s.forEach(function(t){for(var e=t.v+"__"+t.w,a=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(__WEBPACK_IMPORTED_MODULE_6_d3__.C(".edgePath")._groups[0]),i=0;i<a.length&&a[i].id!==e;i+=1);var s=r("#"+e);__WEBPACK_IMPORTED_MODULE_6_d3__.B(s).select(".path").style("stroke","red").style("stroke-width","1.5"),u=r("#"+t.v),g=r("#"+t.w),__WEBPACK_IMPORTED_MODULE_6_d3__.B(u).select("rect").style("stroke","red"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(g).select("rect").style("stroke","red")});var i=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#"+e.id)).select("rect").style("fill");__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#"+e.id)).select("rect").style("stroke","red").style("fill","chartreuse").attr("coldfill",i).attr("clicked","clicked");var o=void 0;if(a.length)for(var c=a[a.length-1].nodeInfo,d=0;d<c.length;d+=1)if(c[d].uid===e.id){o=JSON.parse(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(c[d]));break}for(var p=void 0,f=0;f<n.length;f+=1)if(n[f].uid===e.id){p=n[f];break}for(var _=0;_<tmp.length;_+=1){if(p.inNode.indexOf(tmp[_].nodeId)>=0)if(o.inNode.push(tmp[_].nodeId),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[_].nodeId)).select("rect").attr("oldfill"))__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[_].nodeId)).select("rect").attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[_].nodeId)).select("rect").attr("oldfill",void 0),l(r("#del__"+tmp[_].nodeId));else{var m=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[_].nodeId)).select("rect").attr("fill");__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[_].nodeId)).select("rect").attr("dir","in").style("fill","blue"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[_].nodeId)).select("rect").attr("oldfill",m)}if(p.outNode.indexOf(tmp[_].nodeId)>=0)if(o.outNode.push(tmp[_].nodeId),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[_].nodeId)).select("rect").attr("oldfill"))__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[_].nodeId)).select("rect").attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[_].nodeId)).select("rect").attr("oldfill",void 0),l(r("#del__"+tmp[_].nodeId));else{var v=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[_].nodeId)).select("rect").attr("fill");__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[_].nodeId)).select("rect").attr("dir","out").style("fill","red"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[_].nodeId)).select("rect").attr("oldfill",v)}}h(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(o))}})}),B.selectAll(".cluster")._groups[0].forEach(function(t){var e=r(t.id);__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).append("text");var a=parseInt(__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+e).select("rect").style("width"),10),i=parseInt(__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+e).select("rect").style("height"),10);__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+e).selectAll("text.expand").size()<=0&&__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+e).append("text").attr("class","expand").attr("x",a/2-35).attr("y",-i/2+30).style("font-weight","lighter").style("font-size","50px").style("fill","white"),__WEBPACK_IMPORTED_MODULE_6_d3__.B("#"+e).selectAll("text.expand").text("-")}),x.edges().forEach(function(t){var e=t.v+"__"+t.w,a=r("#"+e);"true"===g[e]&&__WEBPACK_IMPORTED_MODULE_6_d3__.B(a).select(".path").style("stroke-dasharray","5,3"),Number(p[e])>1&&__WEBPACK_IMPORTED_MODULE_6_d3__.B(a).select(".path").style("stroke-width","2")}),c(),__WEBPACK_IMPORTED_MODULE_8_jquery___default()("#draw").contextMenu({selector:".node",items:{invisible:{name:"隐藏相关边",icon:"edit",callback:function(){var e=this[0].id,a=t.curg.nodeEdges(e),i=__WEBPACK_IMPORTED_MODULE_6_d3__.B("[id='"+e+"']").select("rect").attr("coldfill");null===i&&(i=__WEBPACK_IMPORTED_MODULE_6_d3__.B("[id='"+e+"']").select("rect").style("fill")),__WEBPACK_IMPORTED_MODULE_6_d3__.B("[id='"+e+"']").select("rect").attr("oldfill")||(__WEBPACK_IMPORTED_MODULE_6_d3__.B("[id='"+e+"']").select("rect").attr("oldfill",i),__WEBPACK_IMPORTED_MODULE_6_d3__.B("[id='"+e+"']").select("rect").style("fill","rgb(102, 102, 102)").attr("edit","edit"),a.forEach(function(t){var e=r("#"+t.v+"__"+t.w);__WEBPACK_IMPORTED_MODULE_6_d3__.B(e).style("visibility","hidden")}))}},visible:{name:"显示相关边",icon:"cut",callback:function(){var e=this[0].id,a=t.curg.nodeEdges(e);__WEBPACK_IMPORTED_MODULE_6_d3__.B("[id='"+e+"']").select("rect").attr("oldfill")&&(__WEBPACK_IMPORTED_MODULE_6_d3__.B("[id='"+e+"']").select("rect").attr("oldfill",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B("[id='"+e+"']").select("rect").attr("edit",null),l("[id='"+e+"']"),a.forEach(function(t){var e=r("#"+t.v+"__"+t.w);__WEBPACK_IMPORTED_MODULE_6_d3__.B(e).style("visibility","visible")}))}},delete:{name:"隐藏节点",icon:"delete",callback:function(){for(var n=t.nodeInfo,o=(t.curg,0);o<n.length;o+=1)n[o].uid===this[0].id&&n[o];var c=this[0].id,u=t.reserve;t.lastClick&&t.restoreLastClick(),t.lastAssistClick&&t.restoreLastClickRight(),t.lastClick="",t.lastAssistClick="";var g=__WEBPACK_IMPORTED_MODULE_6_d3__.B("[id='"+c+"']").select("rect").attr("oracle");null!==g&&void 0!==g||(g=__WEBPACK_IMPORTED_MODULE_6_d3__.B("[id='"+c+"']").select("rect").style("fill"));for(var p=0;p<u.length;p+=1)for(var f=u[p].nodeInfo,_=f.length-1;_>=0;_-=1)if(f[_].uid===c)f.splice(_,1);else{for(var m=f[_],y=m.inNode,x=m.outNode,C=0;C<y.length;C+=1)if(y[C]===c){y.splice(C,1);break}for(var D=0;D<x.length;D+=1)if(x[D]===c){x.splice(D,1);break}}tmp.push({nodeId:c,color:g}),s(g),__WEBPACK_IMPORTED_MODULE_6_d3__.B("#assist").select("svg").selectAll("g").on("dblclick",function(){var e=this.id.split("__")[1],a=tmp.findIndex(function(t){return t.nodeId===e});t.restoreNode=e,tmp.splice(a,1),s(g),i(e),d(t.copy[0],v)}).on("click",function(){t.lastClick&&t.restoreLastClick(),t.lastClick="",t.lastAssistClick&&t.lastAssistClick!==this.id&&t.restoreLastClickRight();var i=this.id.split("__")[1];if(t.lastAssistClick===this.id){t.lastAssistClick="";var s=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#"+this.id)).select("rect").attr("oracle");__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#"+this.id)).select("rect").attr("clicked",null).style("fill",s)}else t.lastAssistClick=this.id,__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#"+this.id)).select("rect").attr("clicked","clicked").style("fill","chartreuse");var o=a(i,n);if(o){for(var c=o,d=c.inNode,u=c.outNode,g=0;g<d.length;g+=1){var p=r("#"+d[g]);if(__WEBPACK_IMPORTED_MODULE_6_d3__.B(p).select("rect").attr("tag"))__WEBPACK_IMPORTED_MODULE_6_d3__.B(p).select("rect").attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(p).select("rect").attr("tag",null),l(p),e(p,"out",0);else{var f=__WEBPACK_IMPORTED_MODULE_6_d3__.B(p).select("rect").style("fill");__WEBPACK_IMPORTED_MODULE_6_d3__.B(p).select("rect").attr("tag",f),__WEBPACK_IMPORTED_MODULE_6_d3__.B(p).select("rect").style("fill","blue").attr("dir","in"),e(p,"out",1)}}for(var _=0;_<u.length;_+=1){var m=r("#"+u[_]);if(__WEBPACK_IMPORTED_MODULE_6_d3__.B(m).select("rect").attr("tag"))__WEBPACK_IMPORTED_MODULE_6_d3__.B(m).select("rect").attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(m).select("rect").attr("tag",null),l(m),e(m,"in",0);else{var v=__WEBPACK_IMPORTED_MODULE_6_d3__.B(m).select("rect").style("fill");__WEBPACK_IMPORTED_MODULE_6_d3__.B(m).select("rect").attr("tag",v),__WEBPACK_IMPORTED_MODULE_6_d3__.B(m).select("rect").style("fill","red").attr("dir","out"),e(m,"in",1)}}for(var y=void 0,x=0;x<n.length;x+=1)if(n[x].uid===o.uid){y=n[x];break}for(var C=0;C<tmp.length;C+=1){if(y.inNode.indexOf(tmp[C].nodeId)>=0)if(o.inNode.push(tmp[C].nodeId),s=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[C].nodeId)).select("rect").attr("oldfill"))s=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[C].nodeId)).select("rect").attr("orcale"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[C].nodeId)).select("rect").style("fill",s).attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[C].nodeId)).select("rect").attr("oldfill",void 0);else{var D=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[C].nodeId)).select("rect").attr("fill");__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[C].nodeId)).select("rect").style("fill","blue").attr("dir","in"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[C].nodeId)).select("rect").attr("oldfill",D)}if(y.outNode.indexOf(tmp[C].nodeId)>=0)if(o.outNode.push(tmp[C].nodeId),s=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[C].nodeId)).select("rect").attr("oldfill"))__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[C].nodeId)).select("rect").attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[C].nodeId)).select("rect").attr("oldfill",void 0),l(r("#del__"+tmp[C].nodeId));else{var w=__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[C].nodeId)).select("rect").attr("fill");__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[C].nodeId)).select("rect").style("fill","red").attr("dir","out"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#del__"+tmp[C].nodeId)).select("rect").attr("oldfill",w)}}}else o={info:"无信息"},t.$message({type:"info",message:"节点"+i+"不属于当前图"});h(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(o))});for(var w=__WEBPACK_IMPORTED_MODULE_6_d3__.C(".edgePath")._groups[0],S=__WEBPACK_IMPORTED_MODULE_6_d3__.C(".edgeLabel")._groups[0],b=0;b<w.length;b+=1){var E=w[b].id.split("__");E[0]===c&&(S[b].getElementsByTagName("g")[0].style.opacity="0",w[b].children[0].style="opacity: 1;visibility:hidden"),E[1]===c&&(S[b].getElementsByTagName("g")[0].style.opacity="0",w[b].children[0].style="opacity: 1;visibility:hidden")}__WEBPACK_IMPORTED_MODULE_6_d3__.B(r("#"+c)).style("visibility","hidden"),changeTag=1,t.curg.removeNode(c)}}}})}(d,!0)}function S(t){if(!t)return!1;if(""!==t.op)return!1;if(t.sub_net.length>0)for(var e in t.sub_net){if(__WEBPACK_IMPORTED_MODULE_6_d3__.C('[id="'+t.sub_net[e].id+'"]').size()>0)return!1}for(var a in t.sub_net)return t.sub_net[a].op.toLowerCase().indexOf(x[0].toLowerCase())>=0?1:t.label.toLowerCase().indexOf(x[1].toLowerCase())>=0?2:t.label.toLowerCase().indexOf(x[2].toLowerCase())>=0?3:t.label.toLowerCase().indexOf(x[3].toLowerCase())>=0&&4}function b(t){return!!t&&(t.op.toLowerCase().indexOf(x[0].toLowerCase())>=0?1:t.op.toLowerCase().indexOf(x[1].toLowerCase())>=0?2:t.op.toLowerCase().indexOf(x[2].toLowerCase())>=0?3:t.op.toLowerCase().indexOf(x[3].toLowerCase())>=0&&4)}function E(t){return v[t.toLowerCase()]?u(v[t.toLowerCase()].parent):v[t.toLowerCase().replace(/_/g,"")]?u(v[t.toLowerCase().replace(/_/g,"")].parent):u(t)}function I(t,e){var a="",i=e.uid;if(y[i])a=y[i].op;else if(t.node(i)&&(a=t.node(i).op,y[i]=t.node(i)),t.node.sub_net){var s=t.node.sub_net.findIndex(function(t){return t.uid===i});s>=0&&(a=t.node.sub_net[s].op,y[i]=t.node.sub_net[s])}return""===a&&(a="empty"),E(a)}},getDelNodeInfo:function(t){function e(t,e){var a=new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a(t),i=new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a(e),s=[],n=!0,r=!1,o=void 0;try{for(var c,l=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default()(a);!(n=(c=l.next()).done);n=!0){var h=c.value;i.has(h)||s.push(h)}}catch(t){r=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return s}for(var a=this.reserve,i=this.nodeInfo,s=i.length,n=void 0,r=0;r<s;r+=1)if(i[r].uid===t){n=JSON.parse(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(i[r]));break}if(n){var o=n,c=o.inNode,l=o.outNode,h=[];a[a.length-1].nodeInfo.forEach(function(t){h.push(t.uid)});var d=e(c,h),u=e(l,h);return n.inNode=e(c,d),n.outNode=e(l,u),n}},drawAssist:function(){if(tmp.length){__WEBPACK_IMPORTED_MODULE_6_d3__.B("#assist").style("display","flex"),__WEBPACK_IMPORTED_MODULE_6_d3__.B("#assist").select("svg").selectAll("g").remove();for(var t=0,e=0;e<tmp.length;e+=1){var a=tmp[e],i=a.nodeId,s=i.lastIndexOf("/"),n=12*(i=i.substring(s+1,i.length)).length+20;n>t&&(t=n);var r=__WEBPACK_IMPORTED_MODULE_6_d3__.B("#assist").select("svg").append("g").attr("transform","translate(0,"+(50*e+20)+")").attr("id","del__"+a.nodeId);r.append("rect").attr("width",n).attr("height",25).attr("fill",a.color).attr("stroke-width","0.5px").attr("rx",12.5).attr("ry",12.5).attr("stroke","#696969").attr("orcale",a.color),r.append("text").text(i).attr("dy","1em").attr("text-anchor","middle").attr("transform","translate("+n/2+",0)")}__WEBPACK_IMPORTED_MODULE_6_d3__.B("#assist").select("svg").attr("width",t).attr("height",50*tmp.length+50)}else __WEBPACK_IMPORTED_MODULE_6_d3__.B("#assist").style("display","none")},getModifyClick:function(t){for(var e=void 0,a=this.nodeInfo,i=void 0,s=0;s<a.length;s+=1)if(a[s].uid===t){i=e=a[s];break}if(e){for(var n=this.reserve,r=e,o=r.inNode,c=r.outNode,l=n.length-1;l>=0;l-=1)if(1===n[l].sign){n.splice(l+1,n.length-l-1);break}for(var h=0;h<n.length;h+=1){i.inNode=[],i.outNode=[];for(var d=0;d<n[h].nodeInfo.length;d+=1){for(var u=n[h].nodeInfo[d],g=0;g<o.length;g+=1)if(u.uid===o[g]){u.outNode.push(e.uid),i.inNode.push(u.uid);break}for(var p=0;p<c.length;p+=1)if(u.uid===c[p]){u.inNode.push(e.uid),i.outNode.push(u.uid);break}}n[h].nodeInfo.push(i)}for(var f=0;f<clickDel.length;f+=1)clickDel[f].uid===e.uid&&clickDel.splice(f,1)}},glitter:function(t){var e=this.idTransformerFrontend,a=this.colorCopy;if(t){var i=e("#"+t),s=__WEBPACK_IMPORTED_MODULE_6_d3__.B(i);if(s._groups[0][0]){if(this.restoreNode="",s){var n;n=__WEBPACK_IMPORTED_MODULE_6_d3__.B(i).select("rect").style("fill"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(i).select("rect").style("fill","red"),setTimeout(function(){n&&__WEBPACK_IMPORTED_MODULE_6_d3__.B(i).select("rect").style("fill",n),a()},1e3)}}else this.restoreNode=""}},drawCircleTag:function(t,e,a){var i=__WEBPACK_IMPORTED_MODULE_6_d3__.B(t);if(a){var s=i.select("rect")._groups[0][0].attributes.height.value;s=Number(s)/2,"out"===e?i.append("circle").attr("cx",0).attr("cy",s).attr("r",4).attr("fill","blue"):"in"===e&&i.append("circle").attr("cx",0).attr("cy",-s).attr("r",4).attr("fill","red")}else i.select("circle").remove()},hidden:function hidden(){var idTransformerFrontend=this.idTransformerFrontend,reserverStageNode=this.reserve,stages=reserverStageNode.length,curStage=void 0,waiting=[];0===stages?(curStage={sign:0},curStage.nodeInfo=JSON.parse(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(this.nodeInfo))):0===reserverStageNode[stages-1].sign?(this.pre(),curStage=JSON.parse(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(reserverStageNode[stages-2])),curStage.sign=0):(curStage=JSON.parse(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(reserverStageNode[stages-1])),curStage.sign=0);for(var cNodeInfo=curStage.nodeInfo,i=0;i<cNodeInfo.length;i+=1){var input=cNodeInfo[i].inNode.length,output=cNodeInfo[i].outNode.length,res=eval(this.reg);res&&waiting.push(cNodeInfo[i].uid)}if(0!==waiting.length){for(var edgeGroup=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(__WEBPACK_IMPORTED_MODULE_6_d3__.C(".edgePath")._groups[0]),_i28=0;_i28<waiting.length;_i28+=1){var edges=this.curg.nodeEdges(waiting[_i28]);edges.forEach(function(t){var e=idTransformerFrontend("#"+t.v+"__"+t.w);__WEBPACK_IMPORTED_MODULE_6_d3__.B(e).style("visibility","hidden");var a=document.getElementById(t.v+"__"+t.w);edgeGroup.indexOf(a)});var nodeId=idTransformerFrontend("#"+waiting[_i28]);__WEBPACK_IMPORTED_MODULE_6_d3__.B(nodeId).style("visibility","hidden")}for(var _i29=cNodeInfo.length-1;_i29>=0;_i29-=1){for(var tag=1,j=0;j<waiting.length;j+=1)if(cNodeInfo[_i29].uid===waiting[j]){tag=0,cNodeInfo.splice(_i29,1);break}if(tag){for(var _cNodeInfo$_i=cNodeInfo[_i29],inNode=_cNodeInfo$_i.inNode,outNode=_cNodeInfo$_i.outNode,_j5=outNode.length-1;_j5>=0;_j5-=1)for(var k=0;k<waiting.length;k+=1)outNode[_j5]===waiting[k]&&outNode.splice(_j5,1);for(var _j6=inNode.length-1;_j6>=0;_j6-=1)for(var _k2=0;_k2<waiting.length;_k2+=1)inNode[_j6]===waiting[_k2]&&inNode.splice(_j6,1)}}reserverStageNode.push(curStage),delStageNode.push(waiting)}},run:function(){var t=reserverStageNode.length,e=JSON.parse(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(reserverStageNode[t-1]));e.sign=1;for(var a=0,i=1,s=t-1;s>=0;s-=1)if(1===reserverStageNode[s].sign){if(i=0,0===(a=t-1-s)&&0===changeTag)return;reserverStageNode.splice(s+1,a);break}i&&(a=reserverStageNode.length,reserverStageNode.splice(0,a)),reserverStageNode.push(e);for(var n=[],r=delStageNode.length,o=0;o<a;o+=1)n=n.concat(delStageNode[r-1-o]);delStageNode.splice(r-a,a),changeTag=0,delStageNode.push(n),this.drawGraph()},pre:function(){var t=this,e=reserverStageNode.length,a=this.idTransformerFrontend,i=-1;if(1!==e){for(var s=reserverStageNode.length-1;s>=1;s-=1)if(1===reserverStageNode[s].sign){i=s;break}if(i===e-1)reserverStageNode.splice(i,1),delStageNode.splice(delStageNode.length-1,1),this.drawGraph();else{reserverStageNode.splice(e-1,1);for(var n=delStageNode.splice(-1,1)[0],r=function(e){for(var i=t.getDelNodeInfo(n[e]),s=[],r=0;r<i.inNode.length;r+=1)s.push(i.inNode[r]+"__"+n[e]);for(var o=0;o<i.outNode.length;o+=1)s.push(n[e]+"__"+i.outNode[o]);__WEBPACK_IMPORTED_MODULE_6_d3__.B(a("#"+n[e])).style("visibility","visible");var c=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(__WEBPACK_IMPORTED_MODULE_6_d3__.C(".edgePath")._groups[0]);s.forEach(function(t){var e=a("#"+t);__WEBPACK_IMPORTED_MODULE_6_d3__.B(e).style("visibility","visible");var i=document.getElementById(t);c.indexOf(i)})},o=0;o<n.length;o+=1)r(o)}}},restoreLastClick:function(){var t=this.nodeInfo,e=this.idTransformerFrontend,a=this.colour,i=this.curg;i.node(this.lastClick).clicked=!1,i.nodeEdges(this.lastClick).forEach(function(t){for(var a=t.v+"__"+t.w,i=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(__WEBPACK_IMPORTED_MODULE_6_d3__.C(".edgePath")._groups[0]),s=0;s<i.length;s+=1)if(i[s].id===a){s;break}var n=e("#"+a);__WEBPACK_IMPORTED_MODULE_6_d3__.B(n).select(".path").style("stroke","black").style("stroke-width","1");var r=e("#"+t.v),o=e("#"+t.w);__WEBPACK_IMPORTED_MODULE_6_d3__.B(r).select("rect").style("stroke","#696969"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(o).select("rect").style("stroke","#696969")}),__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#"+this.lastClick)).select("rect").attr("clicked",null),a(e("#"+this.lastClick)),__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#"+this.lastClick)).select("rect").style("stroke","#c9c9c9"),__WEBPACK_IMPORTED_MODULE_6_d3__.B('[id="'+this.lastClick+'"]').select("rect").style("stroke-width","1").style("stroke","#696969");for(var s=void 0,n=0;n<t.length;n+=1)if(t[n].uid===this.lastClick){s=t[n];break}for(var r=0;r<tmp.length;r+=1)s.inNode.indexOf(tmp[r].nodeId)>=0&&(__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#del__"+tmp[r].nodeId)).select("rect").attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#del__"+tmp[r].nodeId)).select("rect").attr("oldfill",void 0),a(e("#del__"+tmp[r].nodeId))),s.outNode.indexOf(tmp[r].nodeId)>=0&&(__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#del__"+tmp[r].nodeId)).select("rect").attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#del__"+tmp[r].nodeId)).select("rect").attr("oldfill",void 0),a(e("#del__"+tmp[r].nodeId)));this.lastClick=""},restoreLastClickRight:function(){var t=this.nodeInfo,e=this.idTransformerFrontend,a=this.colour,i=this.lastAssistClick.split("__")[1],s=this.getDelNodeInfo(i,t),n=__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#"+this.lastAssistClick)).select("rect").attr("oracle");__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#"+this.lastAssistClick)).select("rect").attr("clicked",null).style("fill",n);for(var r=s.inNode,o=s.outNode,c=0;c<r.length;c+=1){var l=e("#"+r[c]);__WEBPACK_IMPORTED_MODULE_6_d3__.B(l).select("rect").attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(l).select("rect").attr("tag",null),a(l),this.drawCircleTag(l,"out",0)}for(var h=0;h<o.length;h+=1){var d=e("#"+o[h]);__WEBPACK_IMPORTED_MODULE_6_d3__.B(d).select("rect").attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(d).select("rect").attr("tag",null),a(d),this.drawCircleTag(d,"in",0)}for(var u=void 0,g=0;g<t.length;g+=1)if(t[g].uid===s.uid){u=t[g];break}for(var p=0;p<tmp.length;p+=1){if(u.inNode.indexOf(tmp[p].nodeId)>=0)s.inNode.push(tmp[p].nodeId),(n=__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#del__"+tmp[p].nodeId)).select("rect").attr("oldfill"))&&(__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#del__"+tmp[p].nodeId)).select("rect").style("fill",n).attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#del__"+tmp[p].nodeId)).select("rect").attr("oldfill",void 0),a(e("#del__"+tmp[p].nodeId)));if(u.outNode.indexOf(tmp[p].nodeId)>=0)s.outNode.push(tmp[p].nodeId),(n=__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#del__"+tmp[p].nodeId)).select("rect").attr("oldfill"))&&(__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#del__"+tmp[p].nodeId)).select("rect").style("fill",n).attr("dir",null),__WEBPACK_IMPORTED_MODULE_6_d3__.B(e("#del__"+tmp[p].nodeId)).select("rect").attr("oldfill",void 0),a(e("#del__"+tmp[p].nodeId)))}this.lastAssistClick=""},idTransformerFrontend:function(t){var e=0;"#"===(t=t.replace(/\//g,"\\/").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\]/g,"\\]").replace(/\[/g,"\\[").replace(/\./g,"\\."))[0]&&(e=1);for(var a="";!isNaN(parseInt(t[e]))&&e<t.length;)a=a+"\\3"+t[e],e+=1;return a=""+a+t.substring(e),"#"===t[0]&&(a="#"+a),a},edgeLabelAnimation:function(){var t=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(__WEBPACK_IMPORTED_MODULE_6_d3__.C(".edgePath")._groups[0]),e=__WEBPACK_IMPORTED_MODULE_6_d3__.C(".edgeLabel")._groups[0];t.forEach(function(t,a){var i=__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("path"),s=__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).append("path");s.attr("d",i.attr("d")).style("opacity",0).style("stroke","white").style("stroke-width","20px").attr("marker-end","url(http://localhost:8080/#arrowhead146)").attr("marker-start","url(#dot)").style("fill","none"),s.on("mouseover",function(){"red"===__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("path").style("stroke")&&__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("path").attr("clicked","clicked"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("path").style("stroke","red"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(e[a]).style("visibility","visible")}).on("mouseleave",function(){"clicked"===__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("path").attr("clicked")?__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("path").attr("clicked",null):__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("path").style("stroke","black"),__WEBPACK_IMPORTED_MODULE_6_d3__.B(e[a]).style("visibility","hidden")})})},colorCopy:function(){__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(__WEBPACK_IMPORTED_MODULE_6_d3__.C(".node")._groups[0]).forEach(function(t){var e=__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("rect").style("fill");__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("rect").attr("oracle",e)})},colour:function(t){var e=__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("rect").attr("clicked"),a=__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("rect").attr("edit"),i=__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("rect").attr("dir");if("clicked"===e)__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("rect").style("fill","chartreuse");else if("edit"===a)__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("rect").style("fill","rgb(102, 102, 102)");else if("in"===i)__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("rect").style("fill","blue");else if("out"===i)__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("rect").style("fill","red");else{var s=__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("rect").attr("oracle");__WEBPACK_IMPORTED_MODULE_6_d3__.B(t).select("rect").style("fill",s)}}})}},i91a:function(t,e){},kUQg:function(t,e){},l6YK:function(t,e){},lBMw:function(t,e){},lZOT:function(t,e){},nn9G:function(t,e){},nx42:function(t,e){},"pM/R":function(t,e){},qxyC:function(t,e){},rcwl:function(t,e){},sfy8:function(t,e){},tvR6:function(t,e){},u741:function(t,e){},uXNd:function(t,e){},xiTD:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.eb0faa28c17dd75a26d0.js.map